class t{constructor(t){this.text=t,this.cursor=0,this.line=1,this.column=1,this.t={cursor:0,line:1,column:1}}read(e=1){let i="",s=this.cursor;for(let t=0;t<e;t+=1){var r=this.text[s+t];if(void 0===r)break;i+=r,this.cursor+=1,"\n"===r?(this.line+=1,this.column=1):this.column+=1}return""===i?null:i}peek(e=1){let i="";for(let t=0;t<e;t+=1){var s=this.text[this.cursor+t];if(void 0===s)break;i+=s}return""===i?null:i}eatSpaces(){let t="";for(;" "===this.peek();)t+=this.read();return t}eatWhitespace(){let t="";for(;" "===this.peek()||"\n"===this.peek();)t+=this.read();return t}storePosition(){var{cursor:t,line:e,column:i}=this;this.t={cursor:t,line:e,column:i}}restorePosition(){var{cursor:t,line:e,column:i}=this.t;this.cursor=t,this.line=e,this.column=i}}let{max:e,pow:i,sqrt:s,PI:h}=Math,n=(t,e=0)=>{e=i(10,e);return Math.round(t*e)/e},o=(t,e=0)=>new DOMRect(n(t.x,e),n(t.y,e),n(t.width,e),n(t.height,e)),l=(t,e,i=1/0,s=null)=>((t=null!==s?n(t,s):t)<e?t=e:i<t&&(t=i),t),a=i=>{if(isFinite(i)){let t=1,e=0;for(;Math.round(i*t)/t!==i;)t*=10,e+=1;return e}return 0},r=(t,e)=>{var i=e.x-t.x;i*=i;t=e.y-t.y;return t*=t,s(i+t)},d=(t,e)=>e.x>=t.x&&e.x<=t.x+t.width&&e.y>=t.y&&e.y<=t.y+t.height,u=t=>h*t/180,{min:c,max:p,floor:m,pow:b,atan2:g,PI:x,sqrt:f}=Math,w=(t,e,i)=>{let s,r,n,o=p(t/=255,e/=255,i/=255),a=c(t,e,i);var h;return s=r=n=(o+a)/2,o===a?s=r=0:(h=o-a,r=.5<n?h/(2-o-a):h/(o+a),o===t?s=(e-i)/h+(e<i?6:0):o===e?s=(i-t)/h+2:o===i&&(s=(t-e)/h+4)),s=l(s/6*360,0,360,0),r=l(100*r,0,100,1),n=l(100*n,0,100,1),[s,r,n]},v=(t,e,i)=>{let s,r,n;var o;return t/=360,i/=100,0==(e/=100)?s=r=n=i:(o=(t,e,i)=>(i<0&&(i+=1),1<i&&--i,i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t),e=2*i-(i=i<.5?i*(1+e):i+e-i*e),s=o(e,i,t+1/3),r=o(e,i,t),n=o(e,i,t-1/3)),s=l(255*s,0,255,0),r=l(255*r,0,255,0),n=l(255*n,0,255,0),[s,r,n]},y=(t,e,i)=>{let s=p(t/=255,e/=255,i/=255),r=c(t,e,i),n=0,o,a=s,h=s-r;return o=0===s?0:h/s,s===r?n=0:(s===t?n=(e-i)/h+(e<i?6:0):s===e?n=(i-t)/h+2:s===i&&(n=(t-e)/h+4),n/=6),n*=360,o*=100,a*=100,[n,o,a]},z=(t,e,i)=>{e/=100,i/=100;let s=m(6*(t/=360)),r=6*t-s,n=i*(1-e),o=i*(1-r*e),a=i*(1-(1-r)*e),h=0,l=0,d=0;return s%6==0?(h=i,l=a,d=n):s%6==1?(h=o,l=i,d=n):s%6==2?(h=n,l=i,d=a):s%6==3?(h=n,l=o,d=i):s%6==4?(h=a,l=n,d=i):s%6==5&&(h=i,l=n,d=o),h*=255,l*=255,d*=255,[h,l,d]},k=(t,e,i)=>{e/=100;var s=t/=360,t=(i=i/100*2)+(e*=i<=1?i:2-i)==0?0:2*e/(i+e),e=(i+e)/2;return[s*=360,t=100*p(0,c(1,t)),e=100*p(0,c(1,e))]},_=(t,e,i)=>{let s=t/=360,r=(2-(e/=100))*(i/=100),n=e*i;return r<=1?0===r?n=0:n/=r:2===r?n=0:n/=2-r,r/=2,s*=360,n=100*p(0,c(1,n)),r=100*p(0,c(1,r)),[s,n,r]},C=(o,a="rgba",h="hex")=>{let d=null;if(["rgb","rgba","rgb%","rgba%","hex"].includes(h)){let s,r,n,t;if("rgba"===a?[s,r,n,t]=o:"hsla"===a?([s,r,n]=v(...o),t=o[3]):"hsva"===a&&([s,r,n]=z(...o),t=o[3]),t=(n="rgb%"===h||"rgba%"===h?(s=l(s/255*100,0,100,1),r=l(r/255*100,0,100,1),l(n/255*100,0,100,1)):(s=l(s,0,255,0),r=l(r,0,255,0),l(n,0,255,0)),l(t,0,1,2)),"rgb"===h)d=`rgb(${s}, ${r}, ${n})`;else if("rgba"===h)d=`rgba(${s}, ${r}, ${n}, ${t})`;else if("rgb%"===h)d=`rgb(${s}%, ${r}%, ${n}%)`;else if("rgba%"===h)d=`rgb(${s}%, ${r}%, ${n}%, ${t})`;else if("hex"===h){let t=s.toString(16),e=r.toString(16),i=n.toString(16);1===t.length&&(t="0"+t),1===e.length&&(e="0"+e),1===i.length&&(i="0"+i),d="#"+t+e+i}}else if("hsl"===h||"hsla"===h){let t,e,i,s;"hsla"===a?[t,e,i,s]=o:"hsva"===a?([t,e,i]=_(...o),s=o[3]):"rgba"===a&&([t,e,i]=w(...o),s=o[3]),t=l(t,0,360,0),e=l(e,0,100,1),i=l(i,0,100,1),s=l(s,0,1,2),"hsl"===h?d=`hsl(${t}, ${e}%, ${i}%)`:"hsla"===h&&(d=`hsla(${t}, ${e}%, ${i}%, ${s})`)}return d},S=(t,e)=>{var i=e.startsWith("hsl")?"hsla":"rgba",t=(new D).parse(t,i);return C(t,i,e)},E=t=>{if("#"!==(t=t.toLowerCase())[0])return!1;if(4!==t.length&&7!==t.length)return!1;let e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];for(var i of t=t.substring(1))if(!e.includes(i))return!1;return!0},A=t=>{try{(new D).parse(t)}catch(t){return!1}return!0},L=()=>new Promise(n=>{if(L.url)n(L.url);else if(L.callbacks)L.callbacks.push(n);else{L.callbacks=[n];let t=document.createElement("canvas"),e=t.getContext("2d"),i=e.createImageData(300,300),s=i.data,r=0;t.width=300,t.height=300;for(let e=0;e<300;e++)for(let t=0;t<300;t++){var o=t-150,a=e-150,h=b(o,2)+b(a,2),l=(g(a,o)+x)/(2*x)*360,a=f(h)/150*100,[o,l,a]=z(l,a,100),h=h>b(150,2)?0:255;s[r++]=o,s[r++]=l,s[r++]=a,s[r++]=h}e.putImageData(i,0,0),t.toBlob(t=>{L.url=URL.createObjectURL(t);for(var e of L.callbacks)e(L.url)})}}),{parseFloat:T,parseInt:M}=Number;class D{static i={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};parse(t,e="rgba"){t=t.trim();let r=this.h(t),n=null,i=null;if(7===r.length&&"rgb("===r[0].text&&"NUM"===r[1].type&&","===r[2].text&&"NUM"===r[3].type&&","===r[4].text&&"NUM"===r[5].type&&")"===r[6].text)n=[T(r[1].text),T(r[3].text),T(r[5].text),1];else if(7===r.length&&"rgb("===r[0].text&&"PERCENTAGE"===r[1].type&&","===r[2].text&&"PERCENTAGE"===r[3].type&&","===r[4].text&&"PERCENTAGE"===r[5].type&&")"===r[6].text)n=[T(r[1].text)/100*255,T(r[3].text)/100*255,T(r[5].text)/100*255,1];else if(9===r.length&&"rgba("===r[0].text&&"NUM"===r[1].type&&","===r[2].text&&"NUM"===r[3].type&&","===r[4].text&&"NUM"===r[5].type&&","===r[6].text&&"NUM"===r[7].type&&")"===r[8].text)n=[T(r[1].text),T(r[3].text),T(r[5].text),T(r[7].text)];else if(9===r.length&&"rgb("===r[0].text&&"PERCENTAGE"===r[1].type&&","===r[2].text&&"PERCENTAGE"===r[3].type&&","===r[4].text&&"PERCENTAGE"===r[5].type&&","===r[6].text&&"NUM"===r[7].type&&")"===r[8].text)n=[T(r[1].text)/100*255,T(r[3].text)/100*255,T(r[5].text)/100*255,T(r[7].text)];else if(7===r.length&&"hsl("===r[0].text&&"NUM"===r[1].type&&","===r[2].text&&"PERCENTAGE"===r[3].type&&","===r[4].text&&"PERCENTAGE"===r[5].type&&")"===r[6].text)i=[T(r[1].text),T(r[3].text),T(r[5].text),1];else if(9===r.length&&"hsla("===r[0].text&&"NUM"===r[1].type&&","===r[2].text&&"PERCENTAGE"===r[3].type&&","===r[4].text&&"PERCENTAGE"===r[5].type&&","===r[6].text&&"NUM"===r[7].type&&")"===r[8].text)i=[T(r[1].text),T(r[3].text),T(r[5].text),T(r[7].text)];else if("HEX"===r[0].type&&void 0===r[1]){let t,e,i,s=r[0].text.substring(1);i=3===s.length?(t=s[0]+s[0],e=s[1]+s[1],s[2]+s[2]):(t=s[0]+s[1],e=s[2]+s[3],s[4]+s[5]),n=[M(t,16),M(e,16),M(i,16),1]}else D.i[t]&&(n=[D.i[t][0],D.i[t][1],D.i[t][2],1]);if(n){var[s,o,a,h]=n,s=l(s,0,255,0),o=l(o,0,255,0),a=l(a,0,255,0),h=l(h,0,1,2);if("hsla"===e){var[d,u,c]=w(s,o,a);return[d,u,c,h]}if("hsva"!==e)return[s,o,a,h];var[u,c,s]=y(s,o,a);return[u,c,s,h]}if(i){var[o,a,u,c]=i,o=l(o,0,360,0),a=l(a,0,100,1),u=l(u,0,100,1),c=l(c,0,1,2);if("hsla"===e)return[o,a,u,c];if("hsva"===e){var[s,h,e]=k(o,a,u);return[s,h,e,c]}var[o,a,u]=v(o,a,u);return[o,a,u,c]}throw new Error(`Invalid color string: "${t}"`)}h(e){let i=[],s=new t(e.toLowerCase());for(;null!==s.peek();){let e=s.read();(()=>{if("r"===e||"h"===e){let t=e;if(e+s.peek(3)==="rgb("?t+=s.read(3):e+s.peek(4)==="rgba("?t+=s.read(4):e+s.peek(3)==="hsl("?t+=s.read(3):e+s.peek(4)==="hsla("&&(t+=s.read(4)),t!==e)return i.push({type:"FUNCTION",text:t})}if("#"===e){if(E(e+s.peek(6))){var t=e+s.read(6);return i.push({type:"HEX",text:t})}if(E(e+s.peek(3))){t=e+s.read(3);return i.push({type:"HEX",text:t})}}if(["0","1","2","3","4","5","6","7","8","9",".","-"].includes(e)){let t=e;for(;["0","1","2","3","4","5","6","7","8","9","."].includes(s.peek());)t+=s.read();"%"===s.peek()?(t+=s.read(),i.push({type:"PERCENTAGE",text:t})):i.push({type:"NUM",text:t})}else/\u0009|\u000a|\u000c|\u000d|\u0020/.test(e)||i.push({type:"CHAR",text:e})})()}return i}}class ${o={};addEventListener(t,e){this.o||(this.o={});let i=this.o[t];i||(this.o[t]=i=[]),i.push(e),1e4<i.length&&console.warn(`Potential EventEmitter memory leak: ${i.length} listeners subscribed to event "${t}"`)}removeEventListener(t,e){if(this.o&&this.o[t]){for(var i=[],s=0;s<this.o[t].length;s+=1)this.o[t][s]!==e&&i.push(this.o[t][s]);this.o[t]=i}}dispatchEvent(r){if(this.o){var n=this.o[r.type];if(n){let s=null;for(let i=n.length-1;0<=i;--i){let t,e=n[i];try{t=e.call(window,r)}catch(r){null===s&&(s=r)}if(!1===t)break}if(s)throw s}}}}let P=document.createElement("template"),R=(e,...i)=>{let s=[];for(let t=0;t<e.length;t+=1)s.push(e[t]),void 0!==i[t]&&s.push(i[t]);var t=s.join("");P.innerHTML=t;t=document.importNode(P.content,!0);return 1===t.children.length?t.firstElementChild:t},I=(e,...i)=>{let s=[];for(let t=0;t<e.length;t+=1)s.push(e[t]),void 0!==i[t]&&s.push(i[t]);let t=s.join(""),r=new CSSStyleSheet;return r.replaceSync(t),r},O=(e,...i)=>{let s=[];for(let t=0;t<e.length;t+=1)s.push(e[t]),void 0!==i[t]&&s.push(i[t]);var t,r=`<svg id="x-stub" xmlns="http://www.w3.org/2000/svg">${s.join("")}</svg>`;P.innerHTML=r;let n=document.importNode(P.content,!0),o=n.querySelector("svg#x-stub");if(1===o.children.length)return o.firstElementChild;for(t of[...o.childNodes])n.appendChild(t);return o.remove(),n},B={},H=s=>new Promise(async t=>{if(B[s])B[s].iconset?t(B[s].iconset):B[s].callbacks.push(t);else{B[s]={callbacks:[t],iconset:null};let e=null;try{e=await(await fetch(s)).text()}catch(t){e=null}if(e){B[s].iconset=O`${e}`;for(var i of B[s].callbacks)i(B[s].iconset)}else console.error(`Xel failed to fetch the iconset: ${s}`)}});var F=new class extends ${get theme(){return this.l}set theme(t){let e=document.head.querySelector(':scope > meta[name="xel-theme"]');e||(e=document.createElement("meta"),e.setAttribute("name","xel-theme"),document.head.append(e)),e.setAttribute("content",t)}get accentColor(){return this.u}set accentColor(t){let e=document.head.querySelector(':scope > meta[name="xel-accent-color"]');e||(e=document.createElement("meta"),e.setAttribute("name","xel-accent-color"),document.head.append(e)),e.setAttribute("content",t)}get size(){return this.p}set size(t){let e=document.head.querySelector(':scope > meta[name="xel-size"]');e||(e=document.createElement("meta"),e.setAttribute("name","xel-size"),document.head.append(e)),e.setAttribute("content",t)}get iconset(){return this.m}set iconset(t){let e=document.head.querySelector(':scope > meta[name="xel-iconset"]');e||(e=document.createElement("meta"),e.setAttribute("name","xel-iconset"),document.head.append(e)),e.setAttribute("content",t)}get whenThemeReady(){return new Promise(t=>{null===this.g?t():this.g.push(t)})}get whenIconsetReady(){return new Promise(t=>{null===this.v?t():this.v.push(t)})}get themeStyleSheet(){return this.k}get iconsetElement(){return this._}get presetAccentColors(){let e={};for(var i of this.k.cssRules)if(1===i.type&&"body"===i.selectorText&&i.styleMap.has("--preset-accent-colors")){let t=i.styleMap.get("--preset-accent-colors");t&&t[0]&&(i=t[0].split(",").map(t=>t.trim()).map(t=>t.split(" ")),e=Object.fromEntries(i));break}return e}l=null;u=null;p=null;m=null;k=new CSSStyleSheet;_=null;g=[];v=[];constructor(){super(),document.adoptedStyleSheets=[this.k];var{theme:t,accentColor:e,size:i,iconset:s}=this.C();this.l=t,this.u=e,this.p=i,this.m=s,null!==this.l&&this.S(this.l),null!==this.m&&this.A(this.m),new MutationObserver(t=>this.L(t)).observe(document.head,{attributes:!0,subtree:!0})}L(t){var e=this.l,i=this.u,s=this.p,r=this.m,{theme:n,accentColor:o,size:a,iconset:h}=this.C();this.l=n,this.u=o,this.p=a,this.m=h,this.l!==e&&this.S(this.l).then(()=>{this.dispatchEvent(new CustomEvent("themechange"))}),this.u!==i&&(this.T(),this.dispatchEvent(new CustomEvent("accentcolorchange"))),this.p!==s&&this.dispatchEvent(new CustomEvent("sizechange")),this.m!==r&&this.A(this.m).then(()=>{this.dispatchEvent(new CustomEvent("iconsetchange"))})}M(n){return new Promise(async t=>{let e=await fetch(n),i=await e.text();for(var[s,r]of this.D(i)){s=await this.M(s);i=i.replace(r,s)}t(i)})}S(s){return new Promise(async t=>{null===this.g&&(this.g=[]);var e=await this.M(s);if(await this.k.replace(e),this.T(),this.$(),null!==this.g){for(var i of this.g)i();this.g=null}t()})}A(s){return new Promise(async t=>{null===this.v&&(this.v=[]);var e,i=await H(s);this._=i;for(e of this.v)e();this.v=null,t()})}async $(){await this.whenThemeReady;let t=document.head.querySelector('meta[name="theme-color"]'),e=getComputedStyle(document.body).getPropertyValue("--titlebar-color").trim()||"auto";"auto"===e?t&&t.remove():(null===t&&(t=document.createElement("meta"),t.setAttribute("name","theme-color"),document.head.append(t)),t.setAttribute("content",e))}async T(){await this.whenThemeReady;let t=this.u||this.presetAccentColors.blue;this.presetAccentColors[t]&&(t=this.presetAccentColors[t]);let[e,i,s,r]=(new D).parse(t,"hsla"),n=[...this.k.cssRules].reverse().find(t=>1===t.type&&"body"===t.selectorText);n.styleMap.set("--accent-color-h",e),n.styleMap.set("--accent-color-s",`${i}%`),n.styleMap.set("--accent-color-l",`${s}%`),n.styleMap.set("--accent-color-a",r)}C(){var t=document.head.querySelector(':scope > meta[name="xel-theme"]'),e=document.head.querySelector(':scope > meta[name="xel-accent-color"]'),i=document.head.querySelector(':scope > meta[name="xel-size"]'),s=document.head.querySelector(':scope > meta[name="xel-iconset"]');return{theme:t&&""!==t.content?t.content:null,accentColor:e&&""!==e.content?e.content:null,size:i&&""!==i.content?i.content:null,iconset:s&&""!==s.content?s.content:null}}D(n){let o=[],a=-1;for(;;){var h=n.indexOf("@import",a);if(!(-1<h))break;{let t=n.indexOf(";",h),e=0,i=n.indexOf(".css",h)+".css".length,s=n.indexOf("'",h),r=n.indexOf('"',h);h<s&&s<t?e=s+1:h<r&&r<t?e=r+1:h<(l=n.indexOf("url(",h))&&l<t&&(e=l+"url(".length);var l=n.substring(e,i);o.push([l,n.substring(h,t+1)]),a=i}}return o}};if(!1===MouseEvent.prototype.hasOwnProperty("pointerType")&&Object.defineProperty(MouseEvent.prototype,"pointerType",{get(){return this.sourceCapabilities.firesTouchEvents?"touch":"mouse"}}),Element.prototype.setPointerCapture){let r=Element.prototype.setPointerCapture;Element.prototype.setPointerCapture=function(t){r.call(this,t);let i=getComputedStyle(this).cursor,s=[];for(let e=this.parentNode||this.host;e&&e!==document;e=e.parentNode||e.host)if(e.nodeType===document.DOCUMENT_FRAGMENT_NODE){let t=document.createElementNS(e.host.namespaceURI,"style");t.textContent=`* { cursor: ${i} !important; user-select: none !important; }`,e.append(t),s.push(t)}else if(e.nodeType===document.DOCUMENT_NODE){let t=document.createElement("style");t.textContent=`* { cursor: ${i} !important; user-select: none !important; }`,e.head.append(t),s.push(t)}let e=()=>{window.removeEventListener("pointerup",e,!0),this.removeEventListener("lostpointercapture",e);for(var t of s)t.remove()};window.addEventListener("pointerup",e,!0),this.addEventListener("lostpointercapture",e)}}Object.defineProperty(Animation.prototype,"finished",{get(){return new Promise(t=>{"finished"===this.playState?t():this.addEventListener("finish",()=>t(),{once:!0})})}}),Object.defineProperty(HTMLHeadingElement.prototype,"disabled",{enumerable:!1,configurable:!1,get(){return this.hasAttribute("disabled")},set(t){!0===t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}}),Object.defineProperty(HTMLParagraphElement.prototype,"disabled",{enumerable:!1,configurable:!1,get(){return this.hasAttribute("disabled")},set(t){!0===t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}}),Node.prototype.append||(Node.prototype.append=function(t){this.appendChild(t)}),Node.prototype.prepend||(Node.prototype.prepend=function(t){this.insertBefore(t,this.firstElementChild)}),Node.prototype.before||(Node.prototype.before=function(t){this.parentElement.insertBefore(t,this)}),Node.prototype.after||(Node.prototype.after=function(t){this.parentElement.insertBefore(t,this.nextElementSibling)}),Node.prototype.closest||(Node.prototype.closest=function(t){return this.parentNode?this.parentNode.closest(t):null}),Node.prototype.replaceWith||(Node.prototype.replaceWith=function(t){this.parentNode.replaceChild(t,this)});let N=HTMLDialogElement.prototype.showModal,q=HTMLDialogElement.prototype.close,U=[],j={get open(){return this.hasAttribute("open")},showModal(){return new Promise(async t=>{if(!0!==this.open&&!1!==this.isConnected){this.P&&await this.P.finished,this.R&&await this.R.finished,N.apply(this,arguments);{let e;document.body.style.overflow="hidden",U.push(this),this.addEventListener("close",e=t=>{t.target===this&&(this.removeEventListener("close",e),U=U.filter(t=>t!==this),0===U.length&&(document.body.style.overflow=null))})}{let t=this.querySelector("[autofocus]");(t||this).focus()}if(!1===this.hasAttribute("hidden")){let t=getComputedStyle(this),e=t.getPropertyValue("transition-property"),i=1e3*parseFloat(t.getPropertyValue("transition-duration")),s=t.getPropertyValue("transition-timing-function");var r;"transform"===e&&(r=this.getBoundingClientRect(),"0px"===getComputedStyle(this).left&&"0px"!==getComputedStyle(this).right?this.P=this.animate({transform:[`translateX(-${r.right}px)`,"translateX(0px)"]},{duration:i,easing:s}):"0px"===getComputedStyle(this).right&&"0px"!==getComputedStyle(this).left?this.P=this.animate({transform:[`translateX(${r.width}px)`,"translateX(0px)"]},{duration:i,easing:s}):this.P=this.animate({transform:[`translateY(-${r.bottom}px)`,"translateY(0px)"]},{duration:i,easing:s}))}{let e,i,s;this.addEventListener("keydown",e=t=>{"Escape"===t.key&&t.preventDefault()}),document.addEventListener("keydown",i=t=>{"Escape"===t.key&&t.target===document.body&&t.preventDefault()}),this.addEventListener("close",s=t=>{t.target===this&&(this.removeEventListener("close",s),this.removeEventListener("keydown",e),document.removeEventListener("keydown",i))})}{let e,i,s,r=!0,n=t=>{var e=this.getBoundingClientRect();return t.clientX>=e.x&&t.clientX<=e.x+e.width&&t.clientY>=e.y&&t.clientY<=e.y+e.height};this.addEventListener("pointerdown",e=t=>{r=!1===n(t)}),this.addEventListener("click",i=t=>{t.target===this&&!0===t.isTrusted&&!1===t.defaultPrevented&&!0===r&&!1===n(t)&&!0===this.hasAttribute("open")&&(this.close(),this.dispatchEvent(new CustomEvent("userclose")))}),this.addEventListener("close",s=t=>{t.target===this&&(this.removeEventListener("pointerdown",e),this.removeEventListener("click",i),this.removeEventListener("close",s))})}this.P&&(await this.P.finished,this.P=null),t()}else t()})},close(){return new Promise(async t=>{if(this.P&&await this.P.finished,this.R&&await this.R.finished,!1===this.hasAttribute("hidden")){let t=getComputedStyle(this),e=t.getPropertyValue("transition-property"),i=t.getPropertyValue("transition-duration")||"0s",s=1e3*parseFloat(i),r=t.getPropertyValue("transition-timing-function")||"ease";var n;"transform"===e&&(n=this.getBoundingClientRect(),"0px"===getComputedStyle(this).left&&"0px"!==getComputedStyle(this).right?this.R=this.animate({transform:["translateX(0px)",`translateX(-${n.right}px)`]},{duration:s,easing:r}):"0px"===getComputedStyle(this).right&&"0px"!==getComputedStyle(this).left?this.R=this.animate({transform:["translateX(0px)",`translateX(${n.width}px)`]},{duration:s,easing:r}):this.R=this.animate({transform:["translateY(0px)",`translateY(-${n.bottom+50}px)`]},{duration:s,easing:r}),await this.R.finished,this.R=null)}this.hasAttribute("open")&&q.apply(this,arguments),t()})}};for(let[t,e]of Object.entries(Object.getOwnPropertyDescriptors(j)))Object.defineProperty(HTMLDialogElement.prototype,t,e);class K extends HTMLElement{static observedAttributes=["expanded","size"];static _shadowTemplate=R`
    <template>
      <main id="main">
        <div id="arrow-container">
          <svg id="arrow" part="arrow" viewBox="0 0 100 100" preserveAspectRatio="none" tabindex="1">
            <path></path>
          </svg>
        </div>

        <slot></slot>
      </main>
    </template>
  `;static _shadowStyleSheet=I`:host{display:block;width:100%;margin:8px 0;box-sizing:border-box}:host([animating]){overflow:hidden}#main{position:relative;width:100%;height:100%}#arrow-container{position:absolute;top:0;width:100%;height:100%;display:flex;align-items:center;justify-content:flex-start;pointer-events:none}#arrow{display:flex;width:16px;height:16px;d:path("M 26 20 L 26 80 L 74 50 Z");transform:rotate(0);transition:transform .25s cubic-bezier(.4, 0, .2, 1);color:currentColor}#arrow:focus{background:0 0;outline:0}:host([expanded]) #arrow{transform:rotate(90deg)}#arrow path{fill:currentColor;d:inherit}`;get expanded(){return this.hasAttribute("expanded")}set expanded(t){t?this.setAttribute("expanded",""):this.removeAttribute("expanded")}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}I={};_shadowRoot=null;O=null;B=null;H=null;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[K._shadowStyleSheet],this._shadowRoot.append(document.importNode(K._shadowTemplate.content,!0));for(var t of this._shadowRoot.querySelectorAll("[id]"))this.I[t.id]=t;this.O=new ResizeObserver(()=>this.F()),this.addEventListener("click",t=>this.N(t)),this.I.arrow.addEventListener("keydown",t=>this.q(t))}connectedCallback(){this.U(),F.addEventListener("sizechange",this.B=()=>this.U()),this.O.observe(this)}disconnectedCallback(){F.removeEventListener("sizechange",this.B),this.O.unobserve(this)}attributeChangedCallback(t,e,i){e!==i&&("expanded"===t?this.F():"size"===t&&this.U())}expand(){return new Promise(async t=>{var e,i;!1===this.expanded&&(e=this.getBoundingClientRect(),this.H&&this.H.finish(),this.expanded=!0,this.removeAttribute("animating"),i=this.getBoundingClientRect(),this.setAttribute("animating",""),i=this.animate({height:[e.height+"px",i.height+"px"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"}),await(this.H=i).finished,this.H===i&&this.removeAttribute("animating")),t()})}collapse(){return new Promise(async t=>{var e,i;!0===this.expanded&&(e=this.getBoundingClientRect(),this.H&&this.H.finish(),this.expanded=!1,this.removeAttribute("animating"),i=this.getBoundingClientRect(),this.setAttribute("animating",""),i=this.animate({height:[e.height+"px",i.height+"px"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"}),await(this.H=i).finished,this.H===i&&this.removeAttribute("animating")),t()})}F(){let t=this.querySelector(":scope > header");this.I["arrow-container"].style.height=t?t.getBoundingClientRect().height+"px":null}U(){var t=F.size,e=this.size,i="medium";"medium"===(i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e)?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}q(t){"Enter"===t.key&&this.querySelector("header").click()}N(t){let e=this.querySelector("header"),i=t.target.closest("[tabindex]");e.contains(t.target)&&!1===this.contains(i)&&(this.expanded?(this.collapse(),this.dispatchEvent(new CustomEvent("collapse"))):(this.expand(),this.dispatchEvent(new CustomEvent("expand"))))}}customElements.define("x-accordion",K);class X extends HTMLElement{static _shadowStyleSheet=I`:host{display:block;position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:1000;touch-action:none;will-change:opacity;cursor:default;background:rgba(0,0,0,.5)}:host([hidden]){display:none}`;get ownerElement(){return this.j||document.body.firstElementChild}set ownerElement(t){this.j=t}_shadowRoot=null;j=null;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[X._shadowStyleSheet],this.addEventListener("pointerdown",t=>t.preventDefault())}connectedCallback(){this.addEventListener("wheel",this.K=t=>t.preventDefault())}disconnectedCallback(){this.removeEventListener("wheel",this.K)}show(t=!0){this.title="",this.style.top="0px",this.style.left="0px",this.ownerElement.before(this),this.hidden=!1;let e=this.getBoundingClientRect(),i=0,s=0;0===e.top&&0===e.left||(i=-e.top,s=-e.left);var r=parseFloat(getComputedStyle(this.ownerElement).zIndex);if(this.style.zIndex=r-1,this.style.top=i+"px",this.style.left=s+"px",t)return this.animate({opacity:["0","1"]},{duration:100,easing:"ease-out"}).finished}hide(t=!0){if(t){let t=this.animate({opacity:["1","0"]},{duration:100,easing:"ease-in"});return t.finished.then(()=>{this.remove()}),t.finished}this.remove()}}customElements.define("x-backdrop",X);class V extends HTMLElement{static observedAttributes=["value","size"];static _shadowTemplate=R`
    <template>
      <x-box vertical>
        <div id="hue-slider" part="slider">
          <div id="hue-slider-track">
            <div id="hue-slider-marker" part="marker"></div>
          </div>
        </div>

        <div id="saturation-slider" part="slider">
          <div id="saturation-slider-track">
            <div id="saturation-slider-marker" part="marker"></div>
          </div>
        </div>

        <div id="lightness-slider" part="slider">
          <div id="lightness-slider-track">
            <div id="lightness-slider-marker" part="marker"></div>
          </div>
        </div>

        <div id="alpha-slider" part="slider">
          <div id="alpha-slider-gradient"></div>
          <div id="alpha-slider-track">
            <div id="alpha-slider-marker" part="marker"></div>
          </div>
        </div>
      </x-box>
    </template>
  `;static _shadowStyleSheet=I`:host{display:block;width:100%;user-select:none}:host([hidden]){display:none}#hue-slider{width:100%;height:30px;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;border-radius:2px;touch-action:pan-y;background:red;--marker-width:18px}:host([computedsize=small]) #hue-slider{height:24px}:host([computedsize=large]) #hue-slider{height:35px}#hue-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center;background:linear-gradient(to right,red,#ff0,#0f0,#0ff,#00f,#f0f,red)}#hue-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}#saturation-slider{width:100%;height:30px;margin-top:20px;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;border-radius:2px;touch-action:pan-y;--marker-width:18px}:host([computedsize=small]) #saturation-slider{height:24px}:host([computedsize=large]) #saturation-slider{height:35px}#saturation-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center}#saturation-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}#lightness-slider{width:100%;height:30px;margin-top:20px;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;border-radius:2px;touch-action:pan-y;--marker-width:18px}:host([computedsize=small]) #lightness-slider{height:24px}:host([computedsize=large]) #lightness-slider{height:35px}#lightness-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center}#lightness-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}#alpha-slider{display:none;width:100%;height:30px;margin-top:20px;margin-bottom:8px;padding:0 calc(var(--marker-width)/ 2);position:relative;box-sizing:border-box;border-radius:2px;touch-action:pan-y;--marker-width:18px;background-size:10px 10px;background-position:0 0,0 5px,5px -5px,-5px 0;background-image:linear-gradient(45deg,#d6d6d6 25%,transparent 25%),linear-gradient(-45deg,#d6d6d6 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#d6d6d6 75%),linear-gradient(-45deg,transparent 75%,#d6d6d6 75%)}:host([alphaslider]) #alpha-slider{display:block}:host([computedsize=small]) #alpha-slider{height:24px}:host([computedsize=large]) #alpha-slider{height:35px}#alpha-slider-gradient{position:absolute;top:0;left:0;width:100%;height:100%}#alpha-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center}#alpha-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):"hsla(0, 0%, 100%, 1)"}set value(t){this.setAttribute("value",t)}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}X=0;V=0;Z=80;G=1;_shadowRoot=null;I={};B=null;Y=!1;W=!1;J=!1;tt=!1;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[V._shadowStyleSheet],this._shadowRoot.append(document.importNode(V._shadowTemplate.content,!0));for(var t of this._shadowRoot.querySelectorAll("[id]"))this.I[t.id]=t;this.I["hue-slider"].addEventListener("pointerdown",t=>{this.et(t)}),this.I["saturation-slider"].addEventListener("pointerdown",t=>{this.it(t)}),this.I["lightness-slider"].addEventListener("pointerdown",t=>{this.st(t)}),this.I["alpha-slider"].addEventListener("pointerdown",t=>{this.ht(t)})}connectedCallback(){this.nt(),this.U(),F.addEventListener("sizechange",this.B=()=>this.U())}disconnectedCallback(){F.removeEventListener("sizechange",this.B)}attributeChangedCallback(t,e,i){e!==i&&("value"===t?this.ot():"size"===t&&this.lt())}nt(){this.at(),this.rt(),this.dt(),this.ut(),this.ct(),this.bt(),this.gt()}at(){this.I["hue-slider-marker"].style.left=l(this.X,0,360,0)/360*100+"%"}rt(){this.I["saturation-slider-marker"].style.left=l(this.V,0,100,2)+"%"}ut(){this.I["lightness-slider-marker"].style.left=l(this.Z,0,100,2)+"%"}bt(){this.I["alpha-slider-marker"].style.left=l(100*(1-this.G),0,100,2)+"%"}dt(){var t=this.X;this.I["saturation-slider"].style.background=`linear-gradient(\n      to right, hsl(${t}, 0%, 50%), hsl(${t}, 100%, 50%)\n    )`}ct(){var t=this.X,e=this.V;this.I["lightness-slider"].style.background=`linear-gradient(\n      to right, hsl(${t}, ${e}%, 0%), hsl(${t}, ${e}%, 50%), hsl(${t}, ${e}%, 100%)\n    )`}gt(){var t=this.X,e=this.V,i=this.Z;this.I["alpha-slider-gradient"].style.background=`\n      linear-gradient(to right, hsla(${t}, ${e}%, ${i}%, 1), hsla(${t}, ${e}%, ${i}%, 0))\n    `}U(){var t=F.size,e=this.size,i="medium";"medium"===(i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e)?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}ot(){var t,e,i,s;!1===this.Y&&!1===this.W&&!1===this.J&&!1===this.tt&&([t,e,i,s]=(new D).parse(this.value,"hsla"),this.X=t,this.V=e,this.Z=i,this.G=s,this.nt())}lt(){this.U()}et(r){if(1===r.buttons){let t,e,i=this.I["hue-slider-track"].getBoundingClientRect();this.Y=!0,this.I["hue-slider"].setPointerCapture(r.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));let s=t=>{t=(t-i.x)/i.width*360;(t=l(t,0,360,0))!==this.X&&(this.X=t,this.value=C([this.X,this.V,this.Z,this.G],"hsla","hsla"),this.at(),this.dt(),this.ct(),this.gt(),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))};s(r.clientX),this.I["hue-slider"].addEventListener("pointermove",t=t=>{s(t.clientX)}),this.I["hue-slider"].addEventListener("lostpointercapture",e=()=>{this.I["hue-slider"].removeEventListener("pointermove",t),this.I["hue-slider"].removeEventListener("lostpointercapture",e),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),this.Y=!1})}}it(r){if(1===r.buttons){let t,e,i=this.I["saturation-slider-track"].getBoundingClientRect();this.W=!0,this.I["saturation-slider"].setPointerCapture(r.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));let s=t=>{t=(t-i.x)/i.width*100;(t=l(t,0,100,0))!==this.V&&(this.V=t,this.value=C([this.X,this.V,this.Z,this.G],"hsla","hsla"),this.rt(),this.dt(),this.ct(),this.gt(),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))};s(r.clientX),this.I["saturation-slider"].addEventListener("pointermove",t=t=>{s(t.clientX)}),this.I["saturation-slider"].addEventListener("lostpointercapture",e=()=>{this.I["saturation-slider"].removeEventListener("pointermove",t),this.I["saturation-slider"].removeEventListener("lostpointercapture",e),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),this.W=!1})}}st(r){if(1===r.buttons){let t,e,i=this.I["lightness-slider-track"].getBoundingClientRect();this.J=!0,this.I["lightness-slider"].setPointerCapture(r.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));let s=t=>{t=(t-i.x)/i.width*100;(t=l(t,0,100,0))!==this.Z&&(this.Z=t,this.value=C([this.X,this.V,this.Z,this.G],"hsla","hsla"),this.ut(),this.dt(),this.ct(),this.gt(),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))};s(r.clientX),this.I["lightness-slider"].addEventListener("pointermove",t=t=>{s(t.clientX)}),this.I["lightness-slider"].addEventListener("lostpointercapture",e=()=>{this.I["lightness-slider"].removeEventListener("pointermove",t),this.I["lightness-slider"].removeEventListener("lostpointercapture",e),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),this.J=!1})}}ht(r){if(1===r.buttons){let t,e,i=this.I["alpha-slider-track"].getBoundingClientRect();this.tt=!0,this.I["alpha-slider"].setPointerCapture(r.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));let s=t=>{t=1-(t-i.x)/i.width;(t=l(t,0,1,2))!==this.G&&(this.G=t,this.value=C([this.X,this.V,this.Z,this.G],"hsla","hsla"),this.bt(),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))};s(r.clientX),this.I["alpha-slider"].addEventListener("pointermove",t=t=>{s(t.clientX)}),this.I["alpha-slider"].addEventListener("lostpointercapture",e=()=>{this.I["alpha-slider"].removeEventListener("pointermove",t),this.I["alpha-slider"].removeEventListener("lostpointercapture",e),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),this.tt=!1})}}}customElements.define("x-barscolorpicker",V);class Z extends HTMLElement{static _shadowTemplate=R`
    <template>
      <slot></slot>
    </template>
  `;static _shadowStyleSheet=I`:host{display:flex;box-sizing:border-box;align-items:center;justify-content:flex-start}:host([vertical]){flex-flow:column;align-items:flex-start;justify-content:center}:host([hidden]){display:none}`;get vertical(){return this.hasAttribute("vertical")}set vertical(t){t?this.setAttribute("vertical",""):this.removeAttribute("vertical")}_shadowRoot=null;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[Z._shadowStyleSheet],this._shadowRoot.append(document.importNode(Z._shadowTemplate.content,!0))}}customElements.define("x-box",Z);let G=(t,e=null)=>{let i=t.split(":"),s=null;var r;return 1===i.length?([r]=i,s=null===e?document.createElement(r):document.createElement(r,e)):2===i.length&&([r,e]=i,"svg"===r&&(s=document.createElementNS("http://www.w3.org/2000/svg",e))),s},Y=(i,s,t=!0)=>{let r=document.elementFromPoint(i,s);if(t&&r)for(;;){let e=r.shadowRoot||r._shadowRoot;if(!e)break;{let t=e.elementFromPoint(i,s);if(t.getRootNode()!==e&&(t=null),!t||t===r)break;r=t}}return r},W=(t,e,i=!0)=>{var s=t.closest(e);return i&&!s&&t.getRootNode().host?W(t.getRootNode().host,e):s},J=t=>{let i=e=>e&&e!==document.body?(()=>{let t=getComputedStyle(e,null);return/(auto|scroll)/.test(t.getPropertyValue("overflow")+t.getPropertyValue("overflow-y")+t.getPropertyValue("overflow-x"))})()?e:i(e.parentElement||e.parentNode.host):document.body;return i(t)},Q=i=>new Promise((t,e)=>{setTimeout(()=>t(),i)}),tt=()=>Date.now(),et=(s,r=500,n)=>{let o=null,a=null,h=null,l=0,d=()=>{l=new Date,a=null,h=s.apply(n,o)};return(...t)=>{var e=new Date,i=r-(e-l);return o=t,i<=0?(clearTimeout(a),a=null,l=e,h=s.apply(n,o)):a=a||setTimeout(d,i),h}},it=(i,s,r,n=!1)=>{let o=null,a=null;return(...t)=>{var e=n&&!o;return clearTimeout(o),o=setTimeout(()=>{o=null,n||(a=i.apply(r,t))},s),e&&(a=i.apply(r,t)),a}},{max:st}=Math;class ht extends HTMLElement{static observedAttributes=["disabled","size"];static _shadowTemplate=R`
    <template>
      <div id="ripples"></div>
      <slot></slot>

      <svg id="arrow" part="arrow" viewBox="0 0 100 100" preserveAspectRatio="none">
        <path id="arrow-path"></path>
      </svg>
    </template>
  `;static _shadowStyleSheet=I`:host{display:flex;align-items:center;justify-content:center;width:fit-content;height:fit-content;min-height:32px;padding:2px 14px;box-sizing:border-box;opacity:1;position:relative;overflow:hidden;--trigger-effect:none}:host(:focus){outline:0}:host(:focus:not(:active)){z-index:1}:host([mixed]){opacity:.75}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}#arrow{color:currentColor;width:8px;height:8px;min-width:8px;margin:0 0 0 4px;d:path("M 11.7 19.9 L 49.8 57.9 L 87.9 19.9 L 99.7 31.6 L 49.8 81.4 L -0.0 31.6 Z")}#arrow path{fill:currentColor;d:inherit}#arrow[hidden]{display:none}#ripples{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;border-radius:inherit}#ripples .ripple{position:absolute;top:0;left:0;width:200px;height:200px;background:currentColor;opacity:.2;border-radius:999px;transform:none;transition:all .8s cubic-bezier(.4, 0, .2, 1);will-change:opacity,transform;pointer-events:none}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):null}set value(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t)}get toggled(){return this.hasAttribute("toggled")}set toggled(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled")}get togglable(){return this.hasAttribute("togglable")}set togglable(t){t?this.setAttribute("togglable",""):this.removeAttribute("togglable")}get mixed(){return this.hasAttribute("mixed")}set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get condensed(){return this.hasAttribute("condensed")}set condensed(t){t?this.setAttribute("condensed",""):this.removeAttribute("condensed")}get skin(){return this.hasAttribute("skin")?this.getAttribute("skin"):null}set skin(t){null===t?this.removeAttribute("skin"):this.setAttribute("skin",t)}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}get expanded(){return this.hasAttribute("expanded")}get expandable(){return this.xt()||this.ft()}get ownerButtons(){if(this.parentElement){if("x-buttons"===this.parentElement.localName)return this.parentElement;if("x-box"===this.parentElement.localName&&this.parentElement.parentElement&&"x-buttons"===this.parentElement.parentElement.localName)return this.parentElement.parentElement}return null}_shadowRoot=null;I={};wt=!1;vt=null;yt=0;B=null;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[ht._shadowStyleSheet],this._shadowRoot.append(document.importNode(ht._shadowTemplate.content,!0));for(var t of this._shadowRoot.querySelectorAll("[id]"))this.I[t.id]=t;this.addEventListener("pointerdown",t=>this.zt(t)),this.addEventListener("click",t=>this.N(t)),this.addEventListener("keydown",t=>this.kt(t)),(async()=>{await customElements.whenDefined("x-backdrop"),this.I.backdrop=G("x-backdrop"),this.I.backdrop.style.background="rgba(0, 0, 0, 0)"})()}connectedCallback(){this.parentElement&&"a"===this.parentElement.localName&&-1!==this.parentElement.tabIndex&&(this.parentElement.tabIndex=-1),this._t(),this.Ct(),this.U(),F.addEventListener("sizechange",this.B=()=>this.U())}disconnectedCallback(){F.removeEventListener("sizechange",this.B)}attributeChangedCallback(t){"disabled"===t?this.Ct():"size"===t&&this.U()}expand(){return new Promise(async t=>{this.xt()?await this.St():this.ft()&&await this.Et(),t()})}collapse(e=null){return new Promise(async t=>{this.At()?await this.Lt(e):this.Tt()&&await this.Mt(e),t()})}St(){return new Promise(async t=>{if(this.xt()){let t=this.querySelector(":scope > x-menu");this.wt=this.matches(":focus"),this.setAttribute("expanded",""),this.I.backdrop.ownerElement=t,this.I.backdrop.show(!1),await t.openNextToElement(this,"vertical",3),t.focus()}t()})}Lt(e=null){return new Promise(async t=>{if(this.At()){let t=this.querySelector(":scope > x-menu");if(t.setAttribute("closing",""),await e,await t.close(),this.I.backdrop.hide(!1),this.removeAttribute("expanded"),this.replaceWith(this),this.wt)this.focus();else{let t=W(this.parentNode,"[tabindex]");t&&t.focus()}t.removeAttribute("closing")}t()})}xt(){let e=!1;if(!1===this.disabled){let t=this.querySelector(":scope > x-menu");t&&!1===t.hasAttribute("opened")&&!1===t.hasAttribute("closing")&&null!==t.querySelector("x-menuitem")&&(e=!0)}return e}At(){let t=!1;var e;return!1!==this.disabled||(e=this.querySelector(":scope > x-menu"))&&e.opened&&(t=!0),t}Et(){return new Promise(async t=>{if(this.ft()){let t=this.querySelector(":scope > x-popover");this.wt=this.matches(":focus"),this.setAttribute("expanded",""),await t.open(this)}t()})}Mt(e=null){return new Promise(async t=>{if(this.Tt()){let t=this.querySelector(":scope > x-popover");if(t.setAttribute("closing",""),await e,await t.close(),this.removeAttribute("expanded"),t.modal&&this.replaceWith(this),this.wt)this.focus();else{let t=W(this.parentNode,"[tabindex]");t&&t.focus()}t.removeAttribute("closing")}t()})}ft(){let e=!1;if(!1===this.disabled){let t=this.querySelector(":scope > x-popover");t&&!1===t.hasAttribute("opened")&&(e=!0)}return e}Tt(){let t=!1;var e;return!1!==this.disabled||(e=this.querySelector(":scope > x-popover"))&&e.opened&&(t=!0),t}Dt(){return new Promise(t=>{this.$t()&&this.querySelector(":scope > dialog").showModal(),t()})}$t(){let e=!1;if(!1===this.disabled){let t=this.querySelector(":scope > dialog");t&&!1===t.hasAttribute("open")&&!1===t.hasAttribute("closing")&&(e=!0)}return e}Pt(){return new Promise(t=>{this.Rt()&&(this.querySelector(":scope > x-notification").opened=!0),t()})}Rt(){let e=!1;if(!1===this.disabled){let t=this.querySelector(":scope > x-notification");!t||t.hasAttribute("opened")||t.hasAttribute("closing")||(e=!0)}return e}_t(){var t=this.querySelector(":scope > x-menu, :scope > x-popover");this.I.arrow.style.display=t?null:"none"}Ct(){this.setAttribute("role","button"),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.yt=0<this.tabIndex?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=0<this.yt?this.yt:0),this.yt=0)}U(){var t=F.size,e=this.size,i="medium";"medium"===(i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e)?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}zt(t){let e=this.querySelector(":scope > x-menu[opened]"),i=this.querySelector(":scope > x-popover[opened]"),s=this.querySelector(":scope > dialog[open]"),r=this.querySelector(":scope > x-notification[opened]");(this.vt=t).target===this.I.backdrop?this.It(t):e&&e.contains(t.target)||i&&i.contains(t.target)||s&&s.contains(t.target)||r&&r.contains(t.target)||this.Ot(t)}N(t){let e=this.querySelector(":scope > x-menu[opened]"),i=this.querySelector(":scope > x-popover[opened]"),s=this.querySelector(":scope > dialog[open]"),r=this.querySelector(":scope > x-notification[opened]");t.target!==this.I.backdrop&&(e&&e.contains(t.target)?!1===e.hasAttribute("closing")&&t.target.closest("x-menuitem")&&this.Bt(t):i&&i.contains(t.target)||s&&s.contains(t.target)||r&&r.contains(t.target)||this.Ht(t))}It(t){this.collapse()}async Ot(a){if(1===a.buttons){if(this.querySelector(":scope > dialog[open]"))a.preventDefault();else if(!1!==this.contains(a.target)){if(this.setPointerCapture(a.pointerId),a.preventDefault(),!1===this.matches(":focus")){let t=W(this.parentNode,"*[tabindex]:not(a)");this.addEventListener("lostpointercapture",()=>{t?t.focus():this.blur()},{once:!0})}if(!1===this.xt()&&!1===this.ft()&&!1===this.Tt()){let e=Date.now(),i=!0,s=parseInt(getComputedStyle(this).getPropertyValue("--min-pressed-time")||"150ms");this.addEventListener("lostpointercapture",async()=>{i=!1;var t=Date.now()-e;t<s&&await Q(s-t),this.removeAttribute("pressed")},{once:!0}),(async()=>{var t;this.ownerButtons?0!==this.ownerButtons.tracking&&2!==this.ownerButtons.tracking&&(1!==this.ownerButtons.tracking||!1!==this.toggled&&!this.mixed)?3===this.ownerButtons.tracking&&(t=[...this.ownerButtons.querySelectorAll(":scope > x-button, :scope > x-box > x-button")].filter(t=>t.toggled),(!1===this.toggled||1<t.length)&&await Q(10)):await Q(10):this.togglable&&await Q(10),i&&this.setAttribute("pressed","")})()}this.xt()?"touch"!==a.pointerType&&this.St():this.ft()?"touch"!==a.pointerType&&this.Et():this.Tt()&&this.Mt();var o=getComputedStyle(this).getPropertyValue("--trigger-effect").trim();if("ripple"===o){let t=this.I.ripples.getBoundingClientRect(),e=1.5*st(t.width,t.height),i=a.clientY-t.y-e/2,s=a.clientX-t.x-e/2,r=new Promise(t=>this.addEventListener("lostpointercapture",t,{once:!0})),n=!0;!1===this.expandable&&(this.ownerButtons?0===this.ownerButtons.tracking||2===this.ownerButtons.tracking||1===this.ownerButtons.tracking&&!1===this.toggled?n=!1:3===this.ownerButtons.tracking&&(h=[...this.ownerButtons.querySelectorAll(":scope > x-button, :scope > x-box > x-button")].filter(t=>t.toggled),(!1===this.toggled||1<h.length)&&(n=!1)):this.togglable&&(n=!1));let o=G("div");o.setAttribute("part","ripple"),o.setAttribute("class","ripple pointer-down-ripple"),o.setAttribute("style",`width: ${e}px; height: ${e}px; top: ${i}px; left: ${s}px;`),this.I.ripples.append(o),this.I.ripples.style.contain="strict";var h=o.animate({transform:["scale3d(0, 0, 0)","none"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});await r,n&&(await h.finished,await o.animate({opacity:[getComputedStyle(o).opacity||"0","0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"}).finished),o.remove()}else if("unbounded-ripple"===o){let t=this.I.ripples.getBoundingClientRect(),e=1.25*t.height,i=t.y+t.height/2-t.y-e/2,s=t.x+t.width/2-t.x-e/2,r=new Promise(t=>this.addEventListener("lostpointercapture",t,{once:!0})),n=G("div");n.setAttribute("part","ripple"),n.setAttribute("class","ripple pointer-down-ripple"),n.setAttribute("style",`width: ${e}px; height: ${e}px; top: ${i}px; left: ${s}px;`),this.I.ripples.append(n),this.I.ripples.style.contain="none",n.hidden=!0,await Q(20),n.hidden=!1;o=n.animate({transform:["scale(0)","scale(1)"]},{duration:200,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});await r,await o.finished,await n.animate({opacity:[getComputedStyle(n).opacity||"0","0"]},{duration:200,easing:"cubic-bezier(0.4, 0, 0.2, 1)"}).finished,n.remove()}}}else a.preventDefault()}async Ht(o){let t=this.querySelector(":scope > x-menu, :scope > x-popover");if(t){if(t.hasAttribute("closing"))return;t.focus()}if(!1===this.Tt()&&(this.$t()?this.Dt():this.Rt()&&this.Pt()),this.vt&&"touch"===this.vt.pointerType&&(this.xt()?this.St():this.ft()&&this.Et()),this.togglable&&!1===o.defaultPrevented&&(this.removeAttribute("pressed"),this.toggled=!this.toggled,this.dispatchEvent(new CustomEvent("toggle"))),null===this.I.ripples.querySelector(".pointer-down-ripple")){var e=getComputedStyle(this).getPropertyValue("--trigger-effect").trim();if("ripple"===e){let t=this.I.ripples.getBoundingClientRect(),e=1.5*st(t.width,t.height),i=t.y+t.height/2-t.y-e/2,s=t.x+t.width/2-t.x-e/2,r=!0;this.ownerButtons?(0===this.ownerButtons.tracking||2===this.ownerButtons.tracking||3===this.ownerButtons.tracking||1===this.ownerButtons.tracking&&!0===this.toggled)&&(r=!1):this.togglable&&(r=!1);let n=G("div");n.setAttribute("part","ripple"),n.setAttribute("class","ripple click-ripple"),n.setAttribute("style",`width: ${e}px; height: ${e}px; top: ${i}px; left: ${s}px;`),this.I.ripples.append(n),this.I.ripples.style.contain="strict";o=n.animate({transform:["scale3d(0, 0, 0)","none"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});r&&(await o.finished,await n.animate({opacity:[getComputedStyle(n).opacity||"0","0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"}).finished),n.remove()}else if("unbounded-ripple"===e){let t=this.I.ripples.getBoundingClientRect(),e=1.35*t.height,i=t.y+t.height/2-t.y-e/2,s=t.x+t.width/2-t.x-e/2,r=G("div");r.setAttribute("part","ripple"),r.setAttribute("class","ripple"),r.setAttribute("style",`width: ${e}px; height: ${e}px; top: ${i}px; left: ${s}px;`),this.I.ripples.append(r),this.I.ripples.style.contain="none",await r.animate({transform:["scale3d(0, 0, 0)","none"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"}).finished,await r.animate({opacity:[getComputedStyle(r).opacity||"0","0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"}).finished,r.remove()}}}Bt(t){t=t.target.closest("x-menuitem");this.querySelector(":scope > x-menu").hasAttribute("closing")||this.collapse(t.whenTriggerEnd)}kt(t){!1===t.defaultPrevented&&("Enter"===t.code||"Space"===t.code?this.xt()?(t.preventDefault(),this.St().then(()=>this.querySelector(":scope > x-menu").focusFirstMenuItem())):this.ft()?(t.preventDefault(),this.Et()):this.$t()?(t.preventDefault(),this.Dt()):this.Rt()?(t.preventDefault(),this.Pt()):this.matches(":focus")&&(this.Tt()?this.Mt():this.At()?this.Lt():(t.preventDefault(),this.click())):"ArrowDown"===t.code?this.xt()?(this.querySelector(":scope > x-menu"),t.preventDefault(),this.St().then(()=>this.querySelector(":scope > x-menu").focusFirstMenuItem())):this.ft()?(t.preventDefault(),this.Et()):(t.preventDefault(),this.click()):"ArrowUp"===t.code?this.xt()?(t.preventDefault(),this.St().then(()=>this.querySelector(":scope > x-menu").focusLastMenuItem())):this.ft()?(t.preventDefault(),this.Et()):(t.preventDefault(),this.click()):"Escape"===t.code&&(this.At()||this.Tt())&&(t.preventDefault(),this.collapse()))}}customElements.define("x-button",ht);let{isArray:nt}=Array;class ot extends HTMLElement{static _shadowTemplate=R`
    <template>
      <slot></slot>
    </template>
  `;static _shadowStyleSheet=I`:host{display:flex;flex-flow:row;align-items:center;justify-content:flex-start;box-sizing:border-box;width:fit-content}:host([hidden]){display:none}`;get tracking(){return this.hasAttribute("tracking")?parseInt(this.getAttribute("tracking")):-1}set tracking(t){this.setAttribute("tracking",t)}get vertical(){return this.hasAttribute("vertical")}set vertical(t){!0===t?this.setAttribute("vertical",""):this.removeAttribute("vertical")}get value(){if(2===this.tracking||3===this.tracking)return this.Ft().filter(t=>t.toggled).map(t=>t.value).filter(t=>null!=t);if(1!==this.tracking&&0!==this.tracking)return-1===this.tracking?null:void 0;var t=this.Ft().find(t=>t.toggled);return t&&void 0!==t.value?t.value:null}set value(i){if(2===this.tracking||3===this.tracking){var t=this.Ft();if(nt(i))for(var e of t)e.toggled=i.includes(e.value);else for(var s of t)s.toggled=s.value===i}else if(1===this.tracking||0===this.tracking){let t=this.Ft(),e=t.find(t=>t.value===i);for(var r of t)r.toggled=r===e}}_shadowRoot=null;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[ot._shadowStyleSheet],this._shadowRoot.append(document.importNode(ot._shadowTemplate.content,!0)),this.addEventListener("click",t=>this.N(t),!0),this.addEventListener("keydown",t=>this.kt(t))}connectedCallback(){for(var t of this.children)if("x-button"===t.localName){"none"!==getComputedStyle(t).boxShadow?this.setAttribute("hasboxshadow",""):this.removeAttribute("hasboxshadow");break}}Ft(){return[...this.querySelectorAll(":scope > x-button, :scope > x-box > x-button")]}N(i){if(0===i.button){let e=i.target.closest("x-button");if(e&&!1===e.disabled&&!1===e.expandable){let t=this.Ft().filter(t=>t!==e);if(0===this.tracking){e.mixed||(e.toggled=!e.toggled),e.mixed=!1;for(var s of t)s.toggled=!1,s.mixed=!1;this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0,detail:e}))}else if(1===this.tracking){if(!1===e.toggled||!0===e.mixed){e.toggled=!0,e.mixed=!1;for(var r of t)r.toggled=!1,r.mixed=!1;this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0,detail:e}))}}else 2===this.tracking?(e.mixed?e.mixed=!1:e.toggled=!e.toggled,this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0,detail:e}))):3===this.tracking&&(i=t.filter(t=>!0===t.toggled),(!1===e.toggled||0<i.length)&&(e.mixed?e.mixed=!1:e.toggled=!e.toggled,this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0,detail:e}))))}}}kt(t){var{key:t}=t;if("ArrowRight"===t){let t=[...this.children].find(t=>t.matches(":focus"));t&&(t.nextElementSibling?t.nextElementSibling.focus():t!==t.parentElement.firstElementChild&&t.parentElement.firstElementChild.focus())}else if("ArrowLeft"===t){let t=[...this.children].find(t=>t.matches(":focus"));t&&(t.previousElementSibling?t.previousElementSibling.focus():t!==t.parentElement.lastElementChild&&t.parentElement.lastElementChild.focus())}}}customElements.define("x-buttons",ot);class lt extends HTMLElement{static _shadowTemplate=R`
    <template>
      <slot></slot>
    </template>
  `;static _shadowStyleSheet=I`:host{display:block;width:100%;min-width:20px;min-height:48px;box-sizing:border-box;margin:30px 0}:host([hidden]){display:none}`;_shadowRoot=null;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[lt._shadowStyleSheet],this._shadowRoot.append(document.importNode(lt._shadowTemplate.content,!0))}}customElements.define("x-card",lt);class at extends HTMLElement{static observedAttributes=["toggled","disabled","size"];static _shadowTemplate=R`
    <template>
      <main id="main">
        <div id="indicator" part="indicator">
          <div id="ripples"></div>

          <svg id="checkmark" viewBox="0 0 100 100" preserveAspectRatio="none">
            <path></path>
          </svg>
        </div>

        <div id="description">
          <slot></slot>
        </div>
      </main>
    </template>
  `;static _shadowStyleSheet=I`:host{display:block;width:fit-content;--trigger-effect:none}:host([disabled]){opacity:.4;pointer-events:none}:host([hidden]){display:none}:host(:focus){outline:0}#main{display:flex;align-items:center}#indicator{position:relative;width:19px;height:19px;box-sizing:border-box;border:2px solid currentColor;d:path("M 0 0 L 100 0 L 100 100 L 0 100 L 0 0 Z M 95 23 L 86 13 L 37 66 L 13.6 41 L 4.5 51 L 37 85 L 95 23 Z")}:host([mixed]) #indicator{d:path("M 0 0 L 100 0 L 100 100 L 0 100 Z M 87 42.6 L 13 42.6 L 13 57.4 L 87 57.4 Z")}#checkmark{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;d:inherit;transition-property:opacity;transition-timing-function:inherit;transition-duration:inherit}:host([mixed]) #checkmark{opacity:1}:host([toggled]) #checkmark{opacity:1}#checkmark path{fill:currentColor;d:inherit}#ripples{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}#ripples .ripple{position:absolute;top:0;left:0;width:100%;height:100%;background:currentColor;opacity:.15;z-index:-1;will-change:opacity,transform;border-radius:999px;transform:scale(2.6)}#description{flex:1}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):null}set value(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t)}get toggled(){return this.hasAttribute("toggled")}set toggled(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled")}get mixed(){return this.hasAttribute("mixed")}set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}_shadowRoot=null;I={};yt=0;B=null;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[at._shadowStyleSheet],this._shadowRoot.append(document.importNode(at._shadowTemplate.content,!0));for(var t of this._shadowRoot.querySelectorAll("[id]"))this.I[t.id]=t;this.addEventListener("pointerdown",t=>this.zt(t)),this.addEventListener("click",t=>this.N(t)),this.addEventListener("keydown",t=>this.kt(t))}connectedCallback(){F.addEventListener("sizechange",this.B=()=>this.U()),this.Ct(),this.U()}disconnectedCallback(){F.removeEventListener("sizechange",this.B)}attributeChangedCallback(t){"toggled"===t?this.Nt():"disabled"===t?this.qt():"size"===t&&this.U()}Ct(){this.setAttribute("role","checkbox"),this.setAttribute("aria-checked",this.mixed?"mixed":this.toggled),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.yt=0<this.tabIndex?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=0<this.yt?this.yt:0),this.yt=0)}U(){var t=F.size,e=this.size,i="medium";"medium"===(i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e)?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}Nt(){this.setAttribute("aria-toggled",this.mixed?"mixed":this.toggled)}qt(){this.Ct()}zt(i){if(1===i.buttons){if(!1===this.matches(":focus")){i.preventDefault();let t=W(this.parentNode,"[tabindex]");t&&t.focus()}if("ripple"===getComputedStyle(this).getPropertyValue("--trigger-effect").trim()){let t=G("div");t.setAttribute("class","ripple pointer-down-ripple"),this.I.ripples.append(t);let e=t.animate({transform:["scale(0)","scale(2.6)"]},{duration:200,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});this.setPointerCapture(i.pointerId),this.addEventListener("lostpointercapture",async()=>{await e.finished,await t.animate({opacity:[getComputedStyle(t).opacity,"0"]},{duration:200,easing:"cubic-bezier(0.4, 0, 0.2, 1)"}).finished,t.remove()},{once:!0})}}else i.preventDefault()}async N(t){if(this.mixed?this.mixed=!1:this.toggled=!this.toggled,this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0})),null===this.I.ripples.querySelector(".pointer-down-ripple")&&"ripple"===getComputedStyle(this).getPropertyValue("--trigger-effect").trim()){let t=G("div");t.setAttribute("class","ripple"),this.I.ripples.append(t),await t.animate({transform:["scale(0)","scale(2.6)"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"}).finished,await t.animate({opacity:[getComputedStyle(t).opacity,"0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"}).finished,t.remove()}}kt(t){"Enter"!==t.code&&"Space"!==t.code||(t.preventDefault(),this.click())}}customElements.define("x-checkbox",at);class rt extends HTMLElement{static observedAttributes=["value","disabled","size"];static _shadowTemplate=R`
    <template>
      <input tabindex="-1" id="input" type="color" value="#ffffff">
      <slot></slot>
    </template>
  `;static _shadowStyleSheet=I`:host{display:block;width:32px;height:32px;box-sizing:border-box;position:relative;overflow:hidden;background-color:#fff;background-size:10px 10px;background-position:0 0,0 5px,5px -5px,-5px 0;background-image:linear-gradient(45deg,#d6d6d6 25%,transparent 25%),linear-gradient(-45deg,#d6d6d6 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#d6d6d6 75%),linear-gradient(-45deg,transparent 75%,#d6d6d6 75%)}:host([hidden]){display:none}:host([disabled]){pointer-events:none;opacity:.4}::slotted(x-popover){width:190px;height:auto;padding:12px 12px}#input{display:flex;width:100%;height:100%;box-sizing:border-box;border:none;background:0 0;padding:0;opacity:0;-webkit-appearance:none}#input::-webkit-color-swatch-wrapper{padding:0}#input::-webkit-color-swatch{border:none}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):"#ffffff"}set value(t){this.setAttribute("value",t)}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}_shadowRoot=null;I={};Ut=!1;wt=!1;B=null;yt=0;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[rt._shadowStyleSheet],this._shadowRoot.append(document.importNode(rt._shadowTemplate.content,!0));for(var t of this._shadowRoot.querySelectorAll("[id]"))this.I[t.id]=t;this.addEventListener("click",t=>this.N(t)),this.addEventListener("keydown",t=>this.kt(t)),this.addEventListener("pointerdown",t=>this.zt(t)),this.addEventListener("change",t=>this.jt(t)),this.I.input.addEventListener("change",t=>this.Kt(t))}connectedCallback(){let t=this.querySelector("x-wheelcolorpicker, x-rectcolorpicker, x-barscolorpicker");t&&t.setAttribute("value",S(this.value,"rgba")),this.Ct(),this.U(),this.Xt(),F.addEventListener("sizechange",this.B=()=>this.U())}disconnectedCallback(){F.removeEventListener("sizechange",this.B)}attributeChangedCallback(t){"value"===t?this.ot():"disabled"===t?this.qt():"size"===t&&this.lt()}async Vt(){if(!1===this.hasAttribute("expanded")){let t=this.querySelector("x-popover");t&&(this.wt=this.matches(":focus"),this.setAttribute("expanded",""),await t.open(this),t.focus())}}async Zt(t=0){if(this.hasAttribute("expanded")){let t=this.querySelector("x-popover");if(t){if(t.setAttribute("closing",""),await t.close(),this.removeAttribute("expanded"),this.wt)this.focus();else{let t=W(this.parentNode,"[tabindex]");t&&t.focus()}t.removeAttribute("closing")}}}Xt(){var[t,e,i,s]=(new D).parse(this.value,"rgba");this.I.input.value=C([t,e,i,s],"rgba","hex"),this.I.input.style.opacity=s}Ct(){this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.yt=0<this.tabIndex?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=0<this.yt?this.yt:0),this.yt=0)}U(){var t=F.size,e=this.size,i="medium";"medium"===(i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e)?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}ot(){this.Ut||this.Xt();let t=[...this.querySelectorAll("*")].find(t=>t.localName.endsWith("colorpicker"));t&&t.getAttribute("value")!==this.getAttribute("value")&&t.setAttribute("value",this.getAttribute("value"))}qt(){this.Ct()}lt(){this.U()}jt(t){t.target!==this&&(this.value=S(t.target.value,"rgba"),this.Xt())}Kt(){!1===this.Ut&&(this.Ut=!0,this.dispatchEvent(new CustomEvent("changestart"))),this.value=this.I.input.value,this.dispatchEvent(new CustomEvent("change")),this.Gt()}Gt=it(()=>{this.Ut&&(this.Ut=!1,this.value=this.I.input.value,this.dispatchEvent(new CustomEvent("changeend")))},400);zt(t){t.target===this&&t.preventDefault()}N(t){var e=this.querySelector(":scope > x-popover");e&&(e.opened?(!1===e.modal&&t.target===this||!0===e.modal&&"x-backdrop"===t.target.localName)&&(t.preventDefault(),this.Zt()):(t.preventDefault(),this.Vt()))}kt(t){var e;"Enter"===t.code||"Space"===t.code?(e=this.querySelector("x-popover"),t.preventDefault(),t.stopPropagation(),e?this.hasAttribute("expanded")?this.Zt():this.Vt():this.I.input.click()):"Escape"===t.code?this.querySelector("x-popover")&&this.hasAttribute("expanded")&&(t.preventDefault(),this.Zt()):"Tab"===t.code&&this.hasAttribute("expanded")&&t.preventDefault()}}customElements.define("x-colorselect",rt);class dt extends HTMLElement{static _shadowTemplate=R`
    <template>
      <slot></slot>
    </template>
  `;static _shadowStyleSheet=I`:host{display:block;position:fixed;width:0;height:0;z-index:1001}`;get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}_shadowRoot=null;I={};Yt=null;Wt=null;Jt=null;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[dt._shadowStyleSheet],this._shadowRoot.append(document.importNode(dt._shadowTemplate.content,!0)),this.I.backdrop=G("x-backdrop"),this.I.backdrop.style.background="rgba(0, 0, 0, 0)",this.I.backdrop.addEventListener("contextmenu",t=>this.Qt(t)),this.I.backdrop.addEventListener("pointerdown",t=>this.It(t)),this.addEventListener("blur",t=>this.te()),this.addEventListener("keydown",t=>this.kt(t),!0),this.addEventListener("click",t=>this.N(t))}connectedCallback(){this.Yt=this.parentElement||this.parentNode.host,window.addEventListener("blur",this.Wt=()=>{this.te()}),this.Yt.addEventListener("contextmenu",this.Jt=t=>{this.ee(t)})}disconnectedCallback(){window.removeEventListener("blur",this.Wt),this.Yt.removeEventListener("contextmenu",this.Jt),this.Yt=null}open(t,e){let i=this.querySelector("x-menu");!1===i.opened&&(i.openAtPoint(t,e),this.I.backdrop.ownerElement=i,this.I.backdrop.show(!1),i.focus())}close(){return new Promise(async t=>{let e=this.querySelector("x-menu");if(e&&!0===e.opened){await e.close(),this.I.backdrop.hide(!1);let t=W(this.parentNode,"[tabindex]");t&&t.focus()}t()})}te(){this.close()}ee(t){!1===this.disabled&&(t.preventDefault(),this.open(t.clientX,t.clientY))}Qt(i){i.preventDefault(),i.stopImmediatePropagation(),this.close().then(()=>{let t=Y(i.clientX,i.clientY,!0),e=new MouseEvent(i.type,i);t.dispatchEvent(e)})}It(t){1===t.buttons&&(t.preventDefault(),t.stopImmediatePropagation(),this.close())}async N(t){let e=t.target.closest("x-menuitem");if(e&&!1===e.disabled){let t=e.querySelector("x-menu");t?t.opened?t.close():t.openNextToElement(e,"horizontal"):(this.setAttribute("closing",""),await e.whenTriggerEnd,await this.close(),this.removeAttribute("closing"))}}kt(t){"Escape"===t.key?this.querySelector("x-menu").opened&&(t.preventDefault(),this.close()):"Tab"===t.key&&(t.preventDefault(),t.stopPropagation(),this.querySelector("x-menu").focusNextMenuItem())}}customElements.define("x-contextmenu",dt);let{max:ut}=Math;class ct extends HTMLElement{static observedAttributes=["selected","disabled","size"];static _shadowTemplate=R`
    <template>
      <div id="ripples"></div>
      <div id="selection-indicator" part="selection-indicator"></div>

      <slot></slot>

      <svg id="close-button" part="close-button" viewBox="0 0 100 100" preserveAspectRatio="none">
        <path id="close-button-path"></path>
      </svg>
    </template>
  `;static _shadowStyleSheet=I`:host{display:flex;align-items:center;justify-content:center;position:relative;width:100%;height:100%;min-width:1px;max-width:220px;padding:0 18px;flex:1 0 0;transition-property:max-width,padding,order;transition-duration:.15s;transition-timing-function:cubic-bezier(0.4,0.0,0.2,1);cursor:default;user-select:none;touch-action:pan-y;box-sizing:border-box;will-change:max-width;z-index:0;-webkit-app-region:no-drag;--trigger-effect:none}:host(:focus){outline:0}:host([closing]){pointer-events:none}:host([selected]){z-index:1}:host([disabled]){pointer-events:none;opacity:.5}#close-button{display:flex;align-items:center;justify-content:center;position:static;left:0;right:initial;width:18px;height:18px;margin:0 0 0 auto;opacity:.8;padding:1px;d:path("M 74 31 L 69 26 L 50 45 L 31 26 L 26 31 L 45 50 L 26 69 L 31 74 L 50 55 L 69 74 L 74 69 L 55 50 Z")}:host([edited]) #close-button{d:path("M 68 50 C 68 60 60 68 50 68 C 40 68 32 60 32 50 C 32 40 40 32 50 32 C 60 32 68 40 68 50 Z")}#close-button:hover{background:rgba(0,0,0,.08);opacity:1}#close-button-path{pointer-events:none;d:inherit;fill:currentColor}#ripples{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden;z-index:-1;contain:strict}#ripples .ripple{position:absolute;top:0;left:0;width:200px;height:200px;background:currentColor;opacity:.2;border-radius:999px;will-change:opacity,transform;pointer-events:none}#selection-indicator{display:none;position:absolute;bottom:0;left:0;width:100%;height:0;pointer-events:none}:host([selected]) #selection-indicator{display:block}:host([animatingindicator]) #selection-indicator{display:block}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):""}set value(t){this.setAttribute("value",t)}get selected(){return this.hasAttribute("selected")}set selected(t){t?this.setAttribute("selected",""):this.removeAttribute("selected")}get edited(){return this.hasAttribute("edited")}set edited(t){t?this.setAttribute("edited",""):this.removeAttribute("edited")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){!0===t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}get ownerTabs(){return this.closest("x-doctabs")}_shadowRoot=null;I={};B=null;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[ct._shadowStyleSheet],this._shadowRoot.append(document.importNode(ct._shadowTemplate.content,!0));for(var t of this._shadowRoot.querySelectorAll("[id]"))this.I[t.id]=t;this.addEventListener("pointerdown",t=>this.zt(t)),this.addEventListener("click",t=>this.N(t)),this.I["close-button"].addEventListener("pointerdown",t=>this.ie(t)),this.I["close-button"].addEventListener("click",t=>this.se(t))}connectedCallback(){this.Ct(),this.U(),F.addEventListener("sizechange",this.B=()=>this.U())}disconnectedCallback(){F.removeEventListener("sizechange",this.B)}attributeChangedCallback(t,e,i){e!==i&&("selected"===t||"disabled"===t?this.Ct():"size"===t&&this.U())}animateSelectionIndicator(s){return new Promise(async t=>{var e,i;"0px"!==this.I["selection-indicator"].style.height&&(e=this.getBoundingClientRect(),i=s.getBoundingClientRect(),this.setAttribute("animatingindicator",""),await this.I["selection-indicator"].animate([{left:"0px",width:e.width+"px"},{left:i.left-e.left+"px",width:i.width+"px"}],{duration:100,iterations:1,delay:0,easing:"cubic-bezier(0.4, 0.0, 0.2, 1)"}).finished,this.removeAttribute("animatingindicator")),t()})}Ct(){this.setAttribute("tabindex",this.selected?"0":"-1"),this.setAttribute("role","tab"),this.setAttribute("aria-selected",this.selected),this.setAttribute("aria-disabled",this.disabled)}U(){var t=F.size,e=this.size,i="medium";"medium"===(i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e)?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}zt(o){if(1===o.buttons){if(!1===this.matches(":focus")){o.preventDefault();let t=W(this.parentNode,"[tabindex]");t&&t.focus()}{let i=Date.now();this.setAttribute("pressed",""),this.setPointerCapture(o.pointerId),this.addEventListener("lostpointercapture",async t=>{var e;!0!==this.selected||(e=Date.now()-i)<100&&await Q(100-e),this.removeAttribute("pressed")},{once:!0})}if("ripple"===getComputedStyle(this).getPropertyValue("--trigger-effect").trim()){let t=this.I.ripples.getBoundingClientRect(),e=1.5*ut(t.width,t.height),i=o.clientY-t.y-e/2,s=o.clientX-t.x-e/2,r=G("div");r.setAttribute("class","ripple pointer-down-ripple"),r.setAttribute("style",`width: ${e}px; height: ${e}px; top: ${i}px; left: ${s}px;`),this.I.ripples.append(r);let n=r.animate({transform:["scale(0)","scale(1)"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});this.ownerTabs.setPointerCapture(o.pointerId),this.ownerTabs.addEventListener("lostpointercapture",async()=>{await n.finished;var t=getComputedStyle(r).opacity;await r.animate({opacity:[t,"0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"}).finished,r.remove()},{once:!0})}}else o.preventDefault()}async N(n){if(0===n.button&&null===this.I.ripples.querySelector(".pointer-down-ripple")&&"ripple"===getComputedStyle(this).getPropertyValue("--trigger-effect").trim()){let t=this.I.ripples.getBoundingClientRect(),e=1.5*ut(t.width,t.height),i=t.y+t.height/2-t.y-e/2,s=t.x+t.width/2-t.x-e/2,r=G("div");r.setAttribute("class","ripple click-ripple"),r.setAttribute("style",`width: ${e}px; height: ${e}px; top: ${i}px; left: ${s}px;`),this.I.ripples.append(r),await r.animate({transform:["scale(0)","scale(1)"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"}).finished;n=getComputedStyle(r).opacity;await r.animate({opacity:[n,"0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"}).finished,r.remove()}}ie(e){if(1===e.buttons){if(!1===this.matches(":focus")){e.preventDefault();let t=W(this.parentNode,"[tabindex]");t&&t.focus()}e.stopPropagation()}}se(t){0===t.button&&(t.stopPropagation(),t=new CustomEvent("close",{bubbles:!0,cancelable:!0,detail:this}),this.dispatchEvent(t),!1===t.defaultPrevented&&this.ownerTabs.closeTab(this))}}customElements.define("x-doctab",ct);let{parseInt:pt}=Number;class mt extends HTMLElement{static observedAttributes=["size"];static _shadowTemplate=R`
    <template>
      <slot></slot>

      <svg id="open-button" part="open-button" viewBox="0 0 100 100" preserveAspectRatio="none">
        <path id="open-button-path"></path>
      </svg>
    </template>
  `;static _shadowStyleSheet=I`:host{display:flex;align-items:center;width:100%;height:32px;position:relative}:host(:focus){outline:0}:host([disabled]){opacity:.5;pointer-events:none}#open-button{display:flex;align-items:center;justify-content:center;width:18px;height:18px;margin:0 4px;order:9999;color:inherit;d:path("M 79 54 L 54 54 L 54 79 L 46 79 L 46 54 L 21 54 L 21 46 L 46 46 L 46 21 L 54 21 L 54 46 L 79 46 L 79 54 Z");-webkit-app-region:no-drag}#open-button-path{d:inherit;fill:currentColor}`;get disabled(){return this.hasAttribute("disabled")}set disabled(t){!0===t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get maxTabs(){return this.hasAttribute("maxtabs")?pt(this.getAttribute("maxtabs")):20}set maxTabs(t){this.setAttribute("maxtabs",t)}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}_shadowRoot=null;I={};B=null;he=!1;ne=!1;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed",delegatesFocus:!1}),this._shadowRoot.adoptedStyleSheets=[mt._shadowStyleSheet],this._shadowRoot.append(document.importNode(mt._shadowTemplate.content,!0));for(var t of this._shadowRoot.querySelectorAll("[id]"))this.I[t.id]=t;this.addEventListener("pointerdown",t=>this.zt(t)),this.addEventListener("keydown",t=>this.kt(t)),this.I["open-button"].addEventListener("click",t=>this.oe(t))}connectedCallback(){this.U(),F.addEventListener("sizechange",this.B=()=>this.U())}disconnectedCallback(){F.removeEventListener("sizechange",this.B)}attributeChangedCallback(t,e,i){e!==i&&"size"===t&&this.U()}U(){var t=F.size,e=this.size,i="medium";"medium"===(i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e)?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}openTab(s,r=!0){return new Promise(async(e,t)=>{if(this.querySelectorAll("x-doctab").length>=this.maxTabs)t(`Can't open more than ${this.maxTabs} tabs.`);else{let t=0;for(var i of this.children){i=pt(i.style.order);!Number.isNaN(i)&&i>t&&(t=i)}s.style.order=t,!1===r?(s.style.transition="none",s.style.maxWidth=null,s.style.padding=null,this.append(s),e(s)):!0===r&&(s.style.transition=null,s.style.maxWidth="0px",s.style.padding="0px",s.setAttribute("opening",""),this.append(s),await Q(30),s.addEventListener("transitionend",()=>{s.removeAttribute("opening"),e(s)},{once:!0}),s.style.maxWidth=null,s.style.padding=null)}})}closeTab(o,a=!0){return new Promise(async t=>{let i=this.getTabsByScreenIndex().filter(t=>!1===t.hasAttribute("closing")),e=o.getBoundingClientRect().width,s=this.le(o);if(o.setAttribute("closing",""),s<i.length-1)for(var r of this.children)!1===r.hasAttribute("closing")&&(r.style.transition="none",r.style.maxWidth=e+"px");if(o.style.transition=a?null:"none",o.style.maxWidth="0px",o.style.pointerEvents="none",this.he=!0,o.selected){let t=i[i.indexOf(o)-1],e=i[i.indexOf(o)+1];o.selected=!1,e?e.selected=!0:t&&(t.selected=!0)}if(o.matches(":focus")){let t=this.querySelector("x-doctab[selected]");(t||this).focus()}if(o.style.maxWidth="0px",o.style.padding="0px",a&&await Q(150),o.remove(),this.he=!1,o.removeAttribute("closing"),t(),!this.ne){this.ne=!0,await this.ae(3),this.ne=!1;for(var n of this.children)n.style.transition=null,n.style.maxWidth=null,n.style.order=this.le(n)}})}selectPreviousTab(){this.getTabsByScreenIndex();var t=this.querySelector("x-doctab[selected]")||this.querySelector("x-doctab"),e=this.re(t);return t&&e?(this.selectTab(e),e):null}selectNextTab(){this.getTabsByScreenIndex();var t=this.querySelector("x-doctab[selected]")||this.querySelector("x-doctab:last-of-type"),e=this.de(t);return t&&e?(this.selectTab(e),e):null}selectTab(t){let e=this.querySelector("x-doctab[selected]")||this.querySelector("x-doctab:last-of-type");e&&(e.tabIndex=-1,e.selected=!1),t.tabIndex=0,t.selected=!0}moveSelectedTabLeft(){let e=this.querySelector("x-doctab[selected]"),i=this.le(e);for(var t of this.children)t.style.order=this.le(t);if(0===pt(e.style.order))for(var s of this.children)s.style.order=s===e?this.childElementCount-1:pt(s.style.order)-1;else{let t=this.ue(i-1);t.style.order=pt(t.style.order)+1,e.style.order=pt(e.style.order)-1}}moveSelectedTabRight(){let e=this.querySelector("x-doctab[selected]"),i=this.le(e);for(var t of this.children)t.style.order=this.le(t);if(pt(e.style.order)===this.childElementCount-1)for(var s of this.children)s.style.order=s===e?0:pt(s.style.order)+1;else{let t=this.ue(i+1);t.style.order=pt(t.style.order)-1,e.style.order=pt(e.style.order)+1}}ae(a=3){return new Promise(e=>{let t,i,s,n=null,o=()=>{window.removeEventListener("pointermove",t),window.removeEventListener("pointerout",i),window.removeEventListener("blur",s)};window.addEventListener("pointermove",t=t=>{null===n?n={x:t.clientX,y:t.clientY}:(t={x:t.clientX,y:t.clientY},r(n,t)>=a&&(o(),e()))}),window.addEventListener("pointerout",i=t=>{null===t.toElement&&(o(),e())}),window.addEventListener("blur",s=()=>{o(),e()})})}getTabsByScreenIndex(){let i=Symbol();for(var t of this.children)t[i]=this.le(t);return[...this.children].sort((t,e)=>t[i]>e[i])}le(t){var i=t.getBoundingClientRect(),s=this.getBoundingClientRect();if(i.left-s.left<i.width/2)return 0;{let e=i.width/2;for(let t=1;t<this.maxTabs;t+=1){if(i.left-s.left>=e&&i.left-s.left<e+i.width)return t>this.childElementCount-1?this.childElementCount-1:t;e+=i.width}}}ue(t){for(var e of this.children)if(this.le(e)===t)return e;return null}re(t,e=!0,i=!0){let s=this.getTabsByScreenIndex(),r=s.indexOf(t),n=null;for(let t=r-1;0<=t;--t){var o=s[t];if(!e||!o.disabled){n=o;break}}if(i&&null===n)for(let t=s.length-1;t>r;--t){var a=s[t];if(!e||!a.disabled){n=a;break}}return n}de(t,e=!0,i=!0){let s=this.getTabsByScreenIndex(),r=s.indexOf(t),n=null;for(let t=r+1;t<s.length;t+=1){var o=s[t];if(!e||!o.disabled){n=o;break}}if(i&&null===n)for(let t=0;t<r;t+=1){var a=s[t];if(!e||!a.disabled){n=a;break}}return n}zt(t){1===t.buttons&&!this.he&&t.target.closest("x-doctab")&&this.ce(t)}async ce(h){if(!1!==h.isPrimary){let s,n,o=h.target.closest("x-doctab"),t=this.querySelector("x-doctab[selected]");t!==o&&(t?t.animateSelectionIndicator(o).then(()=>{this.selectTab(o),this.dispatchEvent(new CustomEvent("select",{detail:o}))}):(this.selectTab(o),this.dispatchEvent(new CustomEvent("select",{detail:o})))),this.setPointerCapture(h.pointerId);let a=new DOMPoint(h.clientX,h.clientY);this.addEventListener("pointermove",s=t=>{var e=new DOMPoint(t.clientX,t.clientY),i=t.timeStamp-h.timeStamp,i=3<r(a,e)||80<i;t.isPrimary&&i&&(this.removeEventListener("pointermove",s),this.removeEventListener("lostpointercapture",n),this.pe(h,o))}),this.addEventListener("lostpointercapture",n=()=>{this.removeEventListener("pointermove",s),this.removeEventListener("lostpointercapture",n)})}}pe(s,n){let o=n.getBoundingClientRect(),r=this.getBoundingClientRect(),a=Symbol(),h=Symbol(),l=Symbol();n.style.zIndex=999,this.I["open-button"].style.setProperty("opacity","0","important");for(var t of this.children){var e=this.le(t);t[h]=e,t[a]=e,t[l]=t.getBoundingClientRect().left-r.left,t!==n&&(t.style.transition="transform 0.15s cubic-bezier(0.4, 0, 0.2, 1)")}let d=(i,s)=>{if(i+1<s)for(let t=i;t<s;t+=1)d(t,t+1);else if(s<i-1)for(let t=i;t>s;--t)d(t,t-1);else for(var r of this.children)if(r!==n){r[h]===s&&(r[h]=i);let e=-r[l];for(let t=0;t<r[h];t+=1)e+=o.width;r.style.transform=0===e?null:"translate("+e+"px)"}},u=e=>{if(e.isPrimary){let t=e.clientX-s.clientX;t+n[l]<=0?t=-n[l]:t+n[l]+o.width>r.width&&(t=r.width-n[l]-o.width),n.style.transform="translate("+t+"px)";var i=this.le(n);i!==n[h]&&(e=n[h],n[h]=i,d(e,n[h]))}},c=async t=>{this.removeEventListener("pointermove",u),this.removeEventListener("lostpointercapture",c);let e=-n[l];for(let t=0;t<n[h];t+=1)e+=o.width;n.style.transition="transform 0.15s cubic-bezier(0.4, 0, 0.2, 1)",n.style.transform="translate("+e+"px)",n[a]!==n[h]&&this.dispatchEvent(new CustomEvent("rearrange")),await Q(150),n.style.zIndex=null,this.I["open-button"].style.opacity=null;for(var i of this.children)i.style.transition="none",i.style.transform="translate(0px, 0px)",i.style.order=i[h]};this.addEventListener("pointermove",u),this.addEventListener("lostpointercapture",c)}oe(t){if(0===t.button){t=new CustomEvent("open",{cancelable:!0});if(this.dispatchEvent(t),!1===t.defaultPrevented){let t=R`<x-doctab><x-label>Untitled</x-label></x-doctab>`;t.style.order=this.childElementCount,this.openTab(t),this.selectTab(t)}}}kt(i){if(!(i.ctrlKey||i.altKey||i.metaKey||i.shiftKey))if("Enter"===i.code||"Space"===i.code){let t=this.querySelector('x-doctab[tabindex="0"]'),e=this.querySelector("x-doctab[selected]");i.preventDefault(),t.click(),t!==e&&(e?e.animateSelectionIndicator(t).then(()=>{this.selectTab(t),this.dispatchEvent(new CustomEvent("select",{detail:t}))}):(this.selectTab(t),this.dispatchEvent(new CustomEvent("select",{detail:t}))))}else if("ArrowLeft"===i.code){this.getTabsByScreenIndex();let t=this.querySelector('x-doctab[tabindex="0"]'),e=this.re(t);e&&(i.preventDefault(),t.tabIndex=-1,e.tabIndex=0,e.focus())}else if("ArrowRight"===i.code){this.getTabsByScreenIndex();let t=this.querySelector('x-doctab[tabindex="0"]'),e=this.de(t);e&&(i.preventDefault(),t.tabIndex=-1,e.tabIndex=0,e.focus())}}}customElements.define("x-doctabs",mt);class bt extends HTMLElement{static observedAttributes=["name","iconset","size"];static _shadowTemplate=R`
    <template>
      <svg id="svg" preserveAspectRatio="none" viewBox="0 0 100 100" width="0px" height="0px"></svg>
    </template>
  `;static _shadowStyleSheet=I`:host{display:block;color:currentColor;display:flex;align-items:center;justify-content:center;width:17px;height:17px}:host([disabled]){opacity:.5}:host([hidden]){display:none}#svg{width:100%;height:100%;fill:currentColor;stroke:none;overflow:inherit;pointer-events:none}`;get name(){return this.hasAttribute("name")?this.getAttribute("name"):""}set name(t){this.setAttribute("name",t)}get iconset(){return!1===this.hasAttribute("iconset")||""===this.getAttribute("iconset").trim()?null:this.getAttribute("iconset")}set iconset(t){null===t||""===t.trim()?this.removeAttribute("iconset"):this.setAttribute("iconset",t)}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}_shadowRoot=null;I={};me=null;B=null;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[bt._shadowStyleSheet],this._shadowRoot.append(document.importNode(bt._shadowTemplate.content,!0));for(var t of this._shadowRoot.querySelectorAll("[id]"))this.I[t.id]=t}connectedCallback(){F.addEventListener("iconsetchange",this.me=()=>{this.nt()}),F.addEventListener("sizechange",this.B=()=>{this.U()}),this.nt(),this.U()}disconnectedCallback(){F.removeEventListener("iconsetchange",this.me),F.removeEventListener("sizechange",this.B)}attributeChangedCallback(t,e,i){e!==i&&("name"===t||"iconset"===t?this.nt():"size"===t&&this.U())}async nt(){if(""===this.name)this.I.svg.innerHTML="";else{let e=null;if(this.iconset){let t=await H(this.iconset);t&&(e=t.querySelector("#"+CSS.escape(this.name)))}else await F.whenIconsetReady,e=F.iconsetElement.querySelector("#"+CSS.escape(this.name));e?(this.I.svg.setAttribute("viewBox",e.getAttribute("viewBox")),this.I.svg.innerHTML=e.innerHTML):this.I.svg.innerHTML=""}}U(){var t=F.size,e=this.size,i="medium";"medium"===(i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e)?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}}customElements.define("x-icon",bt);class gt extends HTMLElement{static observedAttributes=["type","value","spellcheck","maxlength","readonly","disabled","validation","size"];static _shadowTemplate=R`
    <template>
      <main id="main">
        <slot></slot>
        <input id="input" spellcheck="false" part="input"></input>
      </main>
    </template>
  `;static _shadowStyleSheet=I`:host{display:block;position:relative;max-width:160px;height:32px;box-sizing:border-box;background:#fff;font-size:12.5px}:host(:focus){z-index:10}:host(:hover){cursor:text}:host([mixed]){color:rgba(0,0,0,.7)}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}::selection{color:var(--selection-color);background-color:var(--selection-background-color)}:host([error]) ::selection{color:#fff;background-color:#d50000}#main{display:flex;align-items:center;width:100%;height:100%}#input{width:100%;height:100%;padding:0 6px;box-sizing:border-box;color:inherit;background:0 0;border:none;outline:0;font-family:inherit;font-size:inherit;font-weight:inherit;text-align:inherit;cursor:inherit}#input:-webkit-autofill{z-index:1}#input:-internal-autofill-previewed,#input:-internal-autofill-selected{-webkit-box-shadow:var(--autofill-background-color) 0 0 0 30px inset}:host(:not(:focus)) ::selection{color:inherit;background:0 0}:host([error])::before{position:absolute;left:0;top:35px;white-space:pre;content:attr(error);font-size:11px;line-height:1.2;pointer-events:none}`;get type(){return this.hasAttribute("type")?this.getAttribute("type"):"text"}set type(t){this.setAttribute("type",t)}get value(){return this.I.input.value}set value(t){this.I.input.value!==t&&(this.matches(":focus")?(this.I.input.selectionStart=0,this.I.input.selectionEnd=this.I.input.value.length,document.execCommand("insertText",!1,t)):this.I.input.value=t,"instant"===this.validation?this.validate():"auto"!==this.validation&&"manual"!==this.validation||null!==this.error&&this.validate(),this.be())}get spellcheck(){return this.hasAttribute("spellcheck")}set spellcheck(t){t?this.setAttribute("spellcheck",""):this.removeAttribute("spellcheck")}get minLength(){return this.hasAttribute("minlength")?parseInt(this.getAttribute("minlength")):0}set minLength(t){this.setAttribute("minlength",t)}get maxLength(){return this.hasAttribute("maxlength")?parseInt(this.getAttribute("maxlength")):1/0}set maxLength(t){this.setAttribute("maxlength",t)}get required(){return this.hasAttribute("required")}set required(t){t?this.setAttribute("required",""):this.removeAttribute("required")}get readOnly(){return this.hasAttribute("readonly")}set readOnly(t){!0===t?this.setAttribute("readonly",t):this.removeAttribute("readonly")}get mixed(){return this.hasAttribute("mixed")}set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get validation(){return this.hasAttribute("validation")?this.getAttribute("validation"):"auto"}set validation(t){this.setAttribute("validation",t)}get error(){return this.getAttribute("error")}set error(t){null===t?this.removeAttribute("error"):this.setAttribute("error",t)}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}_shadowRoot=null;I={};yt=0;B=null;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed",delegatesFocus:!0}),this._shadowRoot.adoptedStyleSheets=[gt._shadowStyleSheet],this._shadowRoot.append(document.importNode(gt._shadowTemplate.content,!0));for(var t of this._shadowRoot.querySelectorAll("[id]"))this.I[t.id]=t;this.addEventListener("focusin",t=>this.ge(t)),this.addEventListener("focusout",t=>this.xe(t)),this.addEventListener("keydown",t=>this.kt(t)),this.I.input.addEventListener("change",t=>this.Kt(t)),this.I.input.addEventListener("input",t=>this.fe(t)),this.I.input.addEventListener("search",t=>this.we(t))}connectedCallback(){this.Ct(),this.U(),this.be(),"instant"===this.validation?this.validate():"auto"!==this.validation&&"manual"!==this.validation||null!==this.error&&this.validate(),F.addEventListener("sizechange",this.B=()=>this.U())}disconnectedCallback(){F.removeEventListener("sizechange",this.B)}attributeChangedCallback(t){"type"===t?this.ve():"value"===t?this.ot():"spellcheck"===t?this.ye():"maxlength"===t?this.ze():"readonly"===t?this.ke():"disabled"===t?this.qt():"validation"===t?this._e():"size"===t&&this.Ce()}validate(){this.value.length<this.minLength?this.error="Entered text is too short":this.value.length>this.maxLength?this.error="Entered text is too long":this.required&&0===this.value.length?this.error="This field is required":"email"===this.type&&!1===this.I.input.validity.valid?this.error="Invalid e-mail address":"url"===this.type&&!1===this.I.input.validity.valid?this.error="Invalid URL":"color"===this.type&&!1===A(this.I.input.value)?this.error="Invalid color":this.error=null}selectAll(){this.I.input.select()}clear(){this.value="",this.error=null}be(){0===this.value.length?this.setAttribute("empty",""):this.removeAttribute("empty")}Ct(){this.setAttribute("role","input"),this.setAttribute("aria-disabled",this.disabled),this.setAttribute("aria-readonly",this.readOnly),this.disabled?(this.yt=0<this.tabIndex?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=0<this.yt?this.yt:0),this.yt=0)}U(){var t=F.size,e=this.size,i="medium";"medium"===(i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e)?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}ve(){"color"===this.type?this.I.input.type="text":this.I.input.type=this.type}ot(){this.value=this.hasAttribute("value")?this.getAttribute("value"):"",this.matches(":focus")&&this.selectAll()}ye(){this.I.input.spellcheck=this.spellcheck}ze(){this.I.input.maxLength=this.maxLength}ke(){this.I.input.readOnly=this.readOnly,this.Ct()}qt(){this.I.input.disabled=this.disabled,this.Ct()}_e(){"instant"===this.validation?this.validate():"auto"!==this.validation&&"manual"!==this.validation||null!==this.error&&this.validate()}Ce(){this.U()}ge(){this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0}))}xe(){this.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0})),"auto"===this.validation&&this.validate()}kt(t){"Enter"===t.key&&(document.execCommand("selectAll"),"instant"===this.validation?this.validate():"auto"!==this.validation&&"manual"!==this.validation||null!==this.error&&this.validate())}fe(t){"instant"===this.validation?this.validate():"auto"!==this.validation&&"manual"!==this.validation||null!==this.error&&this.validate(),t.stopPropagation(),this.be(),this.dispatchEvent(new CustomEvent("input",{bubbles:!0}))}Kt(){"search"!==this.type&&this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))}we(){this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))}}customElements.define("x-input",gt);class xt extends HTMLElement{static _shadowTemplate=R`
    <template>
      <slot></slot>
    </template>
  `;static _shadowStyleSheet=I`:host{display:block;line-height:1.2;user-select:none;box-sizing:border-box}:host([disabled]){opacity:.5}:host([hidden]){display:none}slot{text-decoration:inherit}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):null}set value(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t)}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}_shadowRoot=null;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[xt._shadowStyleSheet],this._shadowRoot.append(document.importNode(xt._shadowTemplate.content,!0))}}customElements.define("x-label",xt);let{abs:ft}=Math;const wt=7;class vt extends HTMLElement{static observedAttributes=["opened"];static _shadowTemplate=R`
    <template>
      <slot id="slot"></slot>
    </template>
  `;static _shadowStyleSheet=I`:host{display:none;top:0;left:0;width:fit-content;padding:4px 0;z-index:1001;box-sizing:border-box;background:#fff;cursor:default;overflow:auto;flex-direction:column;-webkit-app-region:no-drag;--align:start;--scrollbar-background:rgba(0, 0, 0, 0.2);--scrollbar-width:6px;--open-transition:100 transform cubic-bezier(0.4, 0, 0.2, 1);--close-transition:200 opacity cubic-bezier(0.4, 0, 0.2, 1)}:host([animating]),:host([opened]){display:flex}:host(:focus){outline:0}:host-context([debug]):host(:focus){outline:2px solid red}::-webkit-scrollbar{max-width:var(--scrollbar-width);background:0 0}::-webkit-scrollbar-thumb{background-color:var(--scrollbar-background)}::-webkit-scrollbar-corner{display:none}`;get opened(){return this.hasAttribute("opened")}_shadowRoot=null;I={};Se=[];Ee=null;Ae=null;Le=0;Te=0;Me=!1;De=!1;$e=null;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[vt._shadowStyleSheet],this._shadowRoot.append(document.importNode(vt._shadowTemplate.content,!0));for(var t of this._shadowRoot.querySelectorAll("[id]"))this.I[t.id]=t;this.addEventListener("pointerdown",t=>this.zt(t)),this.addEventListener("pointerover",t=>this.Pe(t)),this.addEventListener("pointerout",t=>this.Re(t)),this.addEventListener("pointermove",t=>this.Ie(t)),this.addEventListener("keydown",t=>this.kt(t)),this.addEventListener("wheel",t=>this.Oe(t),{passive:!1}),this.addEventListener("scroll",t=>this.Be(t),{passive:!0})}connectedCallback(){this.setAttribute("role","menu"),this.setAttribute("aria-hidden",!this.opened),this.setAttribute("tabindex","0")}attributeChangedCallback(t){"opened"===t&&this.He()}openOverElement(d,u){return new Promise(async t=>{var o=this.querySelectorAll(":scope > x-menuitem");if(0<o.length){this.Me=!0,this.$e=tt(),this.Fe(),this.setAttribute("opened","");let t=[...o].find(t=>t.contains(u))||o[0],e=this.getBoundingClientRect(),i=d.getBoundingClientRect(),s=u.getBoundingClientRect(),r=0,n=0;t.focus(),0===e.top&&0===e.left||(r=-e.left,n=-e.top),this.style.left=i.x-(s.x-e.x)+r+"px",this.style.top=i.y-(s.y-e.y)+n+"px",e=this.getBoundingClientRect(),e.left<7&&(this.style.left=7+r+"px",e=this.getBoundingClientRect()),0<7-e.top&&(this.style.height=e.bottom-7+"px",this.style.top=7+n+"px",this.scrollTop=9999,e=this.getBoundingClientRect()),e.bottom+7>window.innerHeight&&(a=e.bottom-window.innerHeight,a=e.height-a-7,this.style.height=a+"px"),e.right+7>window.innerWidth&&(h=e.right-window.innerWidth,l=e.width-h-7,this.style.width=`${l}px`);var a=getComputedStyle(this).getPropertyValue("--open-transition"),[h,l,a]=this.Ne(a);"transform"===h&&(h=this.getBoundingClientRect(),h=i.y+i.height/2-h.top,await this.animate({transform:["scaleY(0)","scaleY(1)"],transformOrigin:[`0 ${h}px`,`0 ${h}px`]},{duration:l,easing:a}).finished),this.dispatchEvent(new CustomEvent("open",{bubbles:!0,detail:this})),this.Te=n}t()})}openOverLabel(i){return new Promise(async t=>{var e=this.querySelectorAll(":scope > x-menuitem");if(0<e.length){this.Fe(),this.setAttribute("opened",""),this.Me=!0,this.$e=tt();let t=[...e].find(t=>{t=t.querySelector("x-label");return!(!t||t.textContent!==i.textContent)});t=t||e[0];e=t.querySelector("x-label");await this.openOverElement(i,e)}t()})}openNextToElement(c,p="horizontal",m=0){return new Promise(async t=>{this.Me=!1,this.$e=tt(),this.Fe(),this.setAttribute("opened",""),this.dispatchEvent(new CustomEvent("open",{bubbles:!0,detail:this})),"x-menuitem"===c.localName&&c.setAttribute("expanded","");let e=getComputedStyle(this).getPropertyValue("--align").trim(),i=c.getBoundingClientRect(),s=this.getBoundingClientRect(),r=0,n=0;if(0===s.top&&0===s.left||(r=-s.left,n=-s.top),"horizontal"===p){this.style.top=i.top+n+"px",this.style.left=i.left+i.width+m+r+"px";let t="right";var o=this.getBoundingClientRect();o.width>window.innerWidth-10&&(this.style.width=window.innerWidth-10+"px"),o.height>window.innerHeight-10&&(this.style.height=window.innerHeight-10+"px");var a=this.getBoundingClientRect();a.left+a.width+7>window.innerWidth&&(t=i.left>a.width+7?(this.style.left=i.left-a.width+r+"px","left"):i.left>window.innerWidth-(i.left+i.width)?(this.style.left=7+r+"px","left"):(this.style.left=window.innerWidth-a.width-7+r+"px","right"));o=this.getBoundingClientRect();o.top+o.height+7>window.innerHeight&&(h=o.top+o.height+7-window.innerHeight,this.style.top=o.top-h+n+"px");var a=getComputedStyle(this).getPropertyValue("--open-transition"),[o,h,a]=this.Ne(a);"transform"===o&&await this.animate({transform:["scale(0, 0)","scale(1, 1)"],transformOrigin:["left"===t?"100% 0":"0 0","left"===t?"100% 0":"0 0"]},{duration:h,easing:a}).finished}else if("vertical"===p){this.style.top=i.top+i.height+m+n+"px",this.style.left="0px";let t="bottom";a=this.getBoundingClientRect();a.width>window.innerWidth-10&&(this.style.width=window.innerWidth-10+"px"),a.height>window.innerHeight-10&&(this.style.height=window.innerHeight-10+"px"),c.parentElement&&"x-menubar"===c.parentElement.localName?(a=this.getBoundingClientRect()).top+a.height+7>window.innerHeight&&(this.style.height=window.innerHeight-(i.top+i.height)-10+"px"):(l=this.getBoundingClientRect()).top+l.height+7>window.innerHeight&&(t=i.top>l.height+7?(this.style.top=i.top-l.height-m+n+"px","top"):i.top>window.innerHeight-(i.top+i.height)?(this.style.top=7+n+"px","top"):(this.style.top=window.innerHeight-l.height-7+n+"px","bottom")),"start"===e?(this.style.left=i.left+r+"px",(d=this.getBoundingClientRect()).left+d.width+7>window.innerWidth&&(this.style.left=i.left+i.width-d.width+r+"px"),this.getBoundingClientRect().left<7&&(this.style.left=7+r+"px")):"end"===e&&(this.style.left=i.left+i.width-s.width+r+"px",this.getBoundingClientRect().left<7&&(this.style.left=i.left+r+"px"),(u=this.getBoundingClientRect()).left+u.width+7>window.innerWidth&&(this.style.left=window.innerWidth-7+r+"px"));var l=getComputedStyle(this).getPropertyValue("--open-transition"),[d,u,l]=this.Ne(l);"transform"===d&&await this.animate({transform:["scale(1, 0)","scale(1, 1)"],transformOrigin:["top"===t?"0 100%":"0 0","top"===t?"0 100%":"0 0"]},{duration:u,easing:l}).finished}this.Te=n,t()})}openAtPoint(n,o){return new Promise(async t=>{this.Me=!1,this.$e=tt(),this.Fe(),this.setAttribute("opened",""),this.dispatchEvent(new CustomEvent("open",{bubbles:!0,detail:this}));let e=this.getBoundingClientRect(),i=0,s=0;0===e.top&&0===e.left||(i=-e.left,s=-e.top),this.style.left=n+i+"px",this.style.top=o+s+"px",e=this.getBoundingClientRect(),e.right+7>window.innerWidth&&(n-=e.width,this.style.left=n+i+"px",e=this.getBoundingClientRect()),e.bottom+7>window.innerHeight&&(o=o+window.innerHeight-(e.top+e.height)-7,this.style.top=o+s+"px",e=this.getBoundingClientRect(),e.top<7&&(o=7,this.style.top=o+s+"px",this.style.height=window.innerHeight-7-7+"px"));var r=getComputedStyle(this).getPropertyValue("--open-transition"),[r]=this.Ne(r);"transform"===r&&await this.animate({transform:["scale(0)","scale(1)"],transformOrigin:["0 0","0 0"]},{duration:80,easing:"cubic-bezier(0.4, 0.0, 0.2, 1)"}).finished,this.Te=s,t()})}close(n=!0){return new Promise(async t=>{if(this.opened){this.removeAttribute("opened"),this.dispatchEvent(new CustomEvent("close",{bubbles:!0,detail:this}));let t=this.closest("x-menuitem");var e,i,s,r;t&&t.removeAttribute("expanded"),n&&(this.setAttribute("animating",""),s=getComputedStyle(this).getPropertyValue("--close-transition"),[e,i,s]=this.Ne(s),"opacity"===e&&await this.animate({opacity:["1","0"]},{duration:i,easing:s}).finished,this.removeAttribute("animating"));for(r of this.querySelectorAll(":scope > x-menuitem")){let t=r.querySelector("x-menu[opened]");t&&t.close()}}t()})}focusNextMenuItem(){let i=this.querySelector(":scope > x-menuitem:focus, :scope > x-menuitem[expanded]");if(i){let e=null;for(let t=i.nextElementSibling;t;t=t.nextElementSibling)if("x-menuitem"===t.localName&&!1===t.disabled&&!1===t.hidden){e=t;break}if(null===e&&null!=i.parentElement)for(var t of i.parentElement.children)if("x-menuitem"===t.localName&&!1===t.disabled&&!1===t.hidden){e=t;break}if(e){e.focus();let t=i.querySelector("x-menu");t&&t.close()}}else this.focusFirstMenuItem()}focusPreviousMenuItem(){let i=this.querySelector(":scope > x-menuitem:focus, :scope > x-menuitem[expanded]");if(i){let e=null;for(let t=i.previousElementSibling;t;t=t.previousElementSibling)if("x-menuitem"===t.localName&&!1===t.disabled&&!1===t.hidden){e=t;break}if(null===e&&null!=i.parentElement)for(var t of[...i.parentElement.children].reverse())if("x-menuitem"===t.localName&&!1===t.disabled&&!1===t.hidden){e=t;break}if(e){e.focus();let t=i.querySelector("x-menu");t&&t.close()}}else this.focusLastMenuItem()}focusFirstMenuItem(){let t=this.querySelectorAll("x-menuitem:not([disabled]):not([hidden])")[0]||null;t&&t.focus()}focusLastMenuItem(){let t=this.querySelectorAll("x-menuitem:not([disabled]):not([hidden])"),e=0<t.length?t[t.length-1]:null;e&&e.focus()}qe(t){let h=0;{let o=this.Se[this.Se.length-1],a=this.Se[0];if(this.querySelector("x-menu[opened]")&&o){a=a||o;let t=this.getBoundingClientRect(),e={x:t.left,y:t.top-75},i={x:t.left+t.width,y:e.y},s={x:t.left,y:t.top+t.height+75},r={x:t.left+t.width,y:s.y},n=!0;var l,d,u,c;(a.x<t.left||a.x>r.x||a.y<t.top||a.y>r.y)&&(n=!1),this.Ae&&o.x===this.Ae.x&&o.y===this.Ae.y&&(n=!1),n&&(l=(c=(t,e)=>(e.y-t.y)/(e.x-t.x))(o,i),d=c(o,r),u=c(a,i),c=c(a,r),l<u&&c<d?(this.Ae=o,h=300):this.Ae=null)}}0<h?this.Ee=setTimeout(()=>{this.qe(t)},h):t()}Ue(){this.Ee&&(clearTimeout(this.Ee),this.Ee=null)}Fe(){this.style.position="fixed",this.style.top="0px",this.style.left="0px",this.style.width=null,this.style.height=null,this.style.minWidth=null,this.style.maxWidth=null}je(){return this.matches("*[closing], *[closing] x-menu")}Ne(t){let[e,i,...s]=t.trim().split(" ");return[i,parseFloat(e),s.join(" ")]}He(){this.setAttribute("aria-hidden",!this.opened)}zt(t){if(t.target!==this&&"hr"!==t.target.localName||t.stopPropagation(),"touch"===t.pointerType&&t.target.closest("x-menu")===this){!1===this.De&&this.Ke();{let r=t.target.closest("x-menuitem");r&&!1===r.disabled&&r.closest("x-menu")===this?!1===r.matches(":focus")&&this.qe(async()=>{let e=this.querySelector(":scope > x-menuitem:focus");if(e){let t=e.querySelector("x-menu");t&&t.close()}r.closest("x-menu");let t=r.querySelector("x-menu"),i=[...this.querySelectorAll(":scope > x-menuitem")].filter(t=>t!==r);t&&(await Q(60),r.matches(":focus")&&!1===t.opened&&t.openNextToElement(r,"horizontal"));for(var s of i){let t=s.querySelector("x-menu");t&&t.close()}}):this.qe(()=>{this.focus()})}}}Pe(t){if(!this.je()&&"touch"!==t.pointerType&&t.target.closest("x-menu")===this){!1===this.De&&this.Ke();{let r=t.target.closest("x-menuitem");r&&!1===r.disabled&&r.closest("x-menu")===this?!1===r.matches(":focus")&&this.qe(async()=>{let e=this.querySelector(":scope > x-menuitem:focus");if(e){let t=e.querySelector("x-menu");t&&t.close()}r.focus(),r.closest("x-menu");let t=r.querySelector("x-menu"),i=[...this.querySelectorAll(":scope > x-menuitem")].filter(t=>t!==r);t&&(await Q(60),r.matches(":focus")&&!1===t.opened&&t.openNextToElement(r,"horizontal"));for(var s of i){let t=s.querySelector("x-menu");t&&t.close()}}):this.qe(()=>{this.focus()})}}}Re(t){t.relatedTarget&&W(t.relatedTarget,"x-menu")===this||!0===this.De&&this.Xe()}Ke(){this.je()||(this.De=!0,this.Ue())}Xe(){this.je()||(this.De=!1,this.Ue(),this.focus())}Ie(t){this.Se.push({x:t.clientX,y:t.clientY}),3<this.Se.length&&this.Se.shift()}Oe(t){t.target.closest("x-menu")===this?(t.preventDefault(),this.scrollTop=this.scrollTop+t.deltaY,this.De=!0):this.De=!1}Be(){var t,e;this.Me&&(t=this.scrollTop-this.Le,this.Le=this.scrollTop,100<tt()-this.$e&&(e=this.getBoundingClientRect(),t<0?e.bottom+ft(t)<=window.innerHeight-7?this.style.height=e.height+ft(t)+"px":this.style.height=window.innerHeight-14+"px":0<t&&(7<=e.top-t?(this.style.top=this.Te+e.top-t+"px",this.style.height=e.height+t+"px",this.scrollTop=0,this.Le=0):(this.style.top=7+this.Te+"px",this.style.height=window.innerHeight-14+"px"))))}kt(s){if(this.je())s.preventDefault(),s.stopPropagation();else if("ArrowUp"===s.key)s.preventDefault(),s.stopPropagation(),this.focusPreviousMenuItem();else if("ArrowDown"===s.key)s.preventDefault(),s.stopPropagation(),this.focusNextMenuItem();else if("ArrowRight"===s.code||"Enter"===s.code||"Space"===s.code){let i=this.querySelector("x-menuitem:focus");if(i){let e=i.querySelector("x-menu");if(e){s.preventDefault(),s.stopPropagation(),!1===e.opened&&e.openNextToElement(i,"horizontal");let t=e.querySelector("x-menuitem:not([disabled]):not([hidden])");t&&t.focus()}}}else if("ArrowLeft"===s.code){let e=this.querySelector("x-menuitem:focus");if(e){let t=e.closest("x-menu").closest("x-menuitem");t&&t.closest("x-menu")&&(s.preventDefault(),s.stopPropagation(),t.focus(),this.close())}}}}customElements.define("x-menu",vt);const yt=!1;class zt extends HTMLElement{static observedAttributes=["disabled","size"];static _shadowTemplate=R`
    <template>
      <svg id="backdrop" hidden>
        <path id="backdrop-path"></path>
      </svg>

      <slot></slot>
    </template>
  `;static _shadowStyleSheet=I`:host{display:flex;align-items:center;width:100%;height:30px;padding:0 6px;box-sizing:border-box}:host([disabled]){pointer-events:none;opacity:.6}:host([hidden]){display:none}#backdrop{position:fixed;top:0;left:0;width:100%;height:100%;z-index:1000;pointer-events:none;touch-action:none}#backdrop[hidden]{display:none}#backdrop path{fill:red;fill-rule:evenodd;opacity:0;pointer-events:all}`;get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}_shadowRoot=null;I={};Ve=!1;Ze=null;B=null;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[zt._shadowStyleSheet],this._shadowRoot.append(document.importNode(zt._shadowTemplate.content,!0));for(var t of this._shadowRoot.querySelectorAll("[id]"))this.I[t.id]=t;this.addEventListener("focusout",t=>this.xe(t)),this._shadowRoot.addEventListener("pointerover",t=>this.Ge(t)),this._shadowRoot.addEventListener("click",t=>this.Ye(t)),this._shadowRoot.addEventListener("wheel",t=>this.We(t)),this._shadowRoot.addEventListener("keydown",t=>this.Je(t))}connectedCallback(){this.setAttribute("role","menubar"),this.setAttribute("aria-disabled",this.disabled),this.U(),F.addEventListener("sizechange",this.B=()=>{this.U()}),window.addEventListener("orientationchange",this.Ze=()=>{this.Qe()})}disconnectedCallback(){F.removeEventListener("sizechange",this.B),window.removeEventListener("orientationchange",this.Ze)}attributeChangedCallback(t){"disabled"===t?this.qt():"size"===t&&this.U()}U(){var t=F.size,e=this.size,i="medium";"medium"===(i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e)?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}ti(t){let e=t.querySelector(":scope > x-menu");if(e&&!1===e.opened){var i;t.focus(),this.Ve=!0,this.style.touchAction="none",e.openNextToElement(t,"vertical");for(i of[...this.querySelectorAll(":scope > x-menuitem > x-menu")].filter(t=>t!==e))i&&i.close(!1);var{x:s,y:r,width:n,height:t}=this.getBoundingClientRect();this.I["backdrop-path"].setAttribute("d",`\n          M 0 0\n          L ${window.innerWidth} 0\n          L ${window.innerWidth} ${window.innerHeight}\n          L 0 ${window.innerHeight}\n          L 0 0\n          M ${s} ${r}\n          L ${s+n} ${r}\n          L ${s+n} ${r+t}\n          L ${s} ${r+t}\n        `),this.I.backdrop.removeAttribute("hidden")}}ei(){return new Promise(async t=>{var e;this.Ve=!1,this.style.touchAction=null,this.I.backdrop.setAttribute("hidden",""),this.I["backdrop-path"].setAttribute("d","");for(e of this.querySelectorAll(":scope > x-menuitem > x-menu[opened]"))await e.close(!0);let i=this.querySelector("x-menuitem:focus");i&&i.blur(),t()})}ii(){let t=[...this.querySelectorAll(":scope > x-menuitem:not([disabled])")],e=this.querySelector(":focus").closest("x-menubar > x-menuitem");var i;1<t.length&&e&&(i=t.indexOf(e),i=t[i-1]||t[t.length-1],this.ti(i))}si(){let t=[...this.querySelectorAll(":scope > x-menuitem:not([disabled])")],e=this.querySelector(":focus").closest("x-menubar > x-menuitem");var i;e&&1<t.length&&(i=t.indexOf(e),i=t[i+1]||t[0],this.ti(i))}qt(){this.setAttribute("aria-disabled",this.disabled)}xe(t){null!==t.relatedTarget&&!1!==this.contains(t.relatedTarget)||this.ei()}Qe(){this.ei()}We(t){let e=this.querySelector("x-menu[opened]");e&&!1===e.contains(t.target)&&t.preventDefault()}async Ye(i){if(!this.hasAttribute("closing")){let e=i.target.closest("x-menuitem"),t=i.target.closest("x-menu");if(!e||!1!==e.disabled||t&&!t.contains(e))i.target===this.I["backdrop-path"]&&(this.ei(),i.preventDefault(),i.stopPropagation());else{let t=e.querySelector("x-menu");e.parentElement===this?t&&(t.opened?this.ei():this.ti(e)):t?t.opened&&!1===t.opened&&t.openNextToElement(e,"horizontal"):(this.setAttribute("closing",""),await e.whenTriggerEnd,await this.ei(),this.removeAttribute("closing"))}}}Ge(e){if(!this.hasAttribute("closing")){let t=e.target.closest("x-menuitem");null===e.target.closest("x-menu")&&t&&t.parentElement===this&&this.Ve&&"touch"!==e.pointerType&&(!1===t.hasAttribute("expanded")?this.ti(t):t.focus())}}Je(e){if(this.hasAttribute("closing"))e.stopPropagation(),e.preventDefault();else if("Enter"===e.code||"Space"===e.code){let t=this.querySelector(":scope > x-menuitem:focus");t&&(e.preventDefault(),t.click())}else if("Escape"===e.code)this.Ve&&(e.preventDefault(),this.ei());else if("Tab"===e.code){let e=this.querySelector(":scope > x-menuitem:focus, :scope > x-menuitem[expanded]");if(e){e.focus();let t=e.querySelector(":scope > x-menu");t&&(t.tabIndex=-1,t.close().then(()=>{t.tabIndex=-1}))}}else if("ArrowRight"===e.code)this.si();else if("ArrowLeft"===e.code)this.ii();else if("ArrowDown"===e.code){let t=this.querySelector("x-menuitem:focus > x-menu");t&&(e.preventDefault(),t.focusFirstMenuItem())}else if("ArrowUp"===e.code){let t=this.querySelector("x-menuitem:focus > x-menu");t&&(e.preventDefault(),t.focusLastMenuItem())}}}customElements.define("x-menubar",zt);let{max:kt}=Math;class _t extends HTMLElement{static observedAttributes=["disabled","size"];static _shadowTemplate=R`
    <template>
      <div id="ripples"></div>

      <svg id="checkmark" part="checkmark" viewBox="0 0 100 100" preserveAspectRatio="none">
        <path></path>
      </svg>

      <slot></slot>

      <svg id="arrow" part="arrow" viewBox="0 0 100 100" hidden>
        <path></path>
      </svg>
    </template>
  `;static _shadowStyleSheet=I`:host{display:flex;flex-flow:row;align-items:center;position:relative;padding:0 12px 0 23px;min-height:28px;box-sizing:border-box;cursor:default;user-select:none;--trigger-effect:blink}:host([hidden]){display:none}:host([disabled]){pointer-events:none;opacity:.6}:host(:focus){outline:0}:host-context([debug]):host(:focus){outline:2px solid red}#ripples{position:absolute;z-index:0;top:0;left:0;width:100%;height:100%;pointer-events:none;contain:strict;overflow:hidden}#ripples .ripple{position:absolute;top:0;left:0;width:200px;height:200px;background:currentColor;opacity:.1;border-radius:999px;transform:none;transition:all .8s cubic-bezier(.4, 0, .2, 1);will-change:opacity,transform;pointer-events:none}#checkmark{display:none;transition:transform .2s cubic-bezier(.4, 0, .2, 1);align-self:center;width:18px;height:18px;margin:0 2px 0 -20px;d:path("M 44 61 L 29 47 L 21 55 L 46 79 L 79 27 L 70 21 L 44 61 Z");color:inherit}:host([togglable]) #checkmark{display:flex;transform:scale(0);transform-origin:50% 50%}:host([toggled]) #checkmark{display:flex;transform:scale(1)}#checkmark path{d:inherit;fill:currentColor}#arrow{display:flex;width:16px;height:16px;transform:scale(1.1);align-self:center;margin-left:8px;d:path("M 26 20 L 26 80 L 74 50 Z");opacity:1;color:inherit}#arrow[hidden]{display:none}#arrow path{d:inherit;fill:currentColor}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):null}set value(t){this.value!==t&&(null===t?this.removeAttribute("value"):this.setAttribute("value",t))}get toggled(){return this.hasAttribute("toggled")}set toggled(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled")}get togglable(){return this.hasAttribute("togglable")}set togglable(t){t?this.setAttribute("togglable",""):this.removeAttribute("togglable")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}get whenTriggerEnd(){return new Promise(t=>{0===this.I.ripples.childElementCount&&!1===this.hi?t():this.ni.push(t)})}_shadowRoot=null;I={};yt=0;hi=!1;ni=[];oi=!1;B=null;li=new MutationObserver(()=>this.ai());constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[_t._shadowStyleSheet],this._shadowRoot.append(document.importNode(_t._shadowTemplate.content,!0)),this.addEventListener("pointerdown",t=>this.zt(t)),this.addEventListener("click",t=>this.N(t)),this.addEventListener("keydown",t=>this.kt(t));for(var t of this._shadowRoot.querySelectorAll("[id]"))this.I[t.id]=t}connectedCallback(){this.ai(),this.Ct(),this.U(),this.li.observe(this,{childList:!0,attributes:!1,characterData:!1,subtree:!1}),F.addEventListener("sizechange",this.B=()=>this.U())}disconnectedCallback(){this.li.disconnect(),F.removeEventListener("sizechange",this.B)}attributeChangedCallback(t){"disabled"===t?this.Ct():"size"===t&&this.U()}ai(){"x-menubar"!==this.parentElement.localName&&this.querySelector("x-menu")?this.I.arrow.removeAttribute("hidden"):this.I.arrow.setAttribute("hidden","")}Ct(){this.setAttribute("role","menuitem"),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.yt=0<this.tabIndex?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=0<this.yt?this.yt:0),this.yt=0)}U(){var t=F.size,e=this.size,i="medium";"medium"===(i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e)?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}async zt(o){if(this.oi=this.matches(":focus"),1!==o.buttons)return!1;if(this.matches("[closing] x-menuitem"))return o.preventDefault(),void o.stopPropagation();if(o.target.closest("x-menuitem")===this){this.setPointerCapture(o.pointerId);{let i=Date.now(),s=!0;this.addEventListener("lostpointercapture",async()=>{s=!1;var t=Date.now()-i,e="touch"===o.pointerType?600:150;t<e&&await Q(e-t),this.removeAttribute("pressed")},{once:!0}),s&&this.setAttribute("pressed","")}if("ripple"===getComputedStyle(this).getPropertyValue("--trigger-effect").trim()){let t=this.I.ripples.getBoundingClientRect(),e=1.5*kt(t.width,t.height),i=o.clientY-t.y-e/2,s=o.clientX-t.x-e/2,r=new Promise(t=>this.addEventListener("lostpointercapture",t,{once:!0})),n=G("div");n.setAttribute("part","ripple"),n.setAttribute("class","ripple pointer-down-ripple"),n.setAttribute("style",`width: ${e}px; height: ${e}px; top: ${i}px; left: ${s}px;`),this.I.ripples.append(n),this.setPointerCapture(o.pointerId);var a=n.animate({transform:["scale3d(0, 0, 0)","none"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});if(await r,await a.finished,await n.animate({opacity:[getComputedStyle(n).opacity,"0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"}).finished,n.remove(),0===this.I.ripples.childElementCount)for(var h of this.ni)h()}}}async N(t){if(!(0<t.button||t.target.closest("x-menuitem")!==this||t.target.closest("x-menu")!==this.closest("x-menu")||this.matches("[closing] x-menuitem"))&&(this.togglable&&(e=new CustomEvent("toggle",{bubbles:!0,cancelable:!0}),this.dispatchEvent(e),!1===e.defaultPrevented&&(this.toggled=!this.toggled)),!this.querySelector(":scope > x-menu"))){var e=getComputedStyle(this).getPropertyValue("--trigger-effect").trim();if("ripple"===e){if(null===this.I.ripples.querySelector(".pointer-down-ripple")){let t=this.I.ripples.getBoundingClientRect(),e=1.5*kt(t.width,t.height),i=t.y+t.height/2-t.y-e/2,s=t.x+t.width/2-t.x-e/2,r=G("div");if(r.setAttribute("part","ripple"),r.setAttribute("class","ripple click-ripple"),r.setAttribute("style",`width: ${e}px; height: ${e}px; top: ${i}px; left: ${s}px;`),this.I.ripples.append(r),await r.animate({transform:["scale3d(0, 0, 0)","none"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"}).finished,await r.animate({opacity:[getComputedStyle(r).opacity,"0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"}).finished,r.remove(),0===this.I.ripples.childElementCount){for(var n of this.ni)n();this.ni=[]}}}else if("blink"===e){this.hi=!0,this.oi?(this.parentElement.focus(),await Q(150),this.focus()):(this.focus(),await Q(150),this.parentElement.focus()),await Q(150);for(var i of this.ni)i();this.ni=[],this.hi=!1}else if("none"===e){this.hi=!0,await Q(150);for(var s of this.ni)s();this.ni=[],this.hi=!1}}}kt(t){"Enter"!==t.code&&"Space"!==t.code||(t.preventDefault(),this.querySelector("x-menu")||(t.stopPropagation(),this.click()))}}customElements.define("x-menuitem",_t);class Ct extends HTMLElement{static observedAttributes=["opened","size"];static _shadowTemplate=R`
    <template>
      <slot></slot>
    </template>
  `;static _shadowStyleSheet=I`:host{display:none;position:fixed;min-width:15px;min-height:15px;bottom:15px;left:50%;transform:translateX(-50%);padding:5px 12px;box-sizing:border-box;color:rgba(255,255,255,.9);background:#434343;z-index:9999;font-size:12px;user-select:text;transition:transform .15s cubic-bezier(.4, 0, .2, 1)}:host([animating]),:host([opened]){display:block}:host(:focus){outline:0}`;get opened(){return this.hasAttribute("opened")}set opened(t){!0===t?this.setAttribute("opened",""):this.removeAttribute("opened"),this.ri=0}get timeout(){return this.hasAttribute("timeout")?parseFloat(this.getAttribute("timeout")):0}set timeout(t){this.setAttribute("timeout",t)}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}_shadowRoot=null;ri=0;di=null;B=null;ui=null;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[Ct._shadowStyleSheet],this._shadowRoot.append(document.importNode(Ct._shadowTemplate.content,!0))}connectedCallback(){this.setAttribute("tabindex","0"),this.U(),F.addEventListener("sizechange",this.B=()=>this.U())}disconnectedCallback(){F.removeEventListener("sizechange",this.B)}attributeChangedCallback(t,e,i){e!==i&&("opened"===t?this.opened?this.ci():this.pi():"size"===t&&this.U())}U(){var t=F.size,e=this.size,i="medium";"medium"===(i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e)?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}ci(){var t,e;this.isConnected&&(t=0-this.getBoundingClientRect().height-10+"px",e=getComputedStyle(this).bottom,this.animate({bottom:[t,e]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"}));{this.ri=0,this.di=setInterval(()=>{this.ri+=100,0<this.timeout&&this.ri>this.timeout&&(this.opened=!1)},100);let s=tt();window.addEventListener("pointerdown",this.ui=t=>{var e=tt(),i=this.getBoundingClientRect();10<e-s&&!1===d(i,new DOMPoint(t.clientX,t.clientY))&&(this.opened=!1)},!0)}}async pi(){var t,e;clearInterval(this.di),this.isConnected&&(this.setAttribute("animating",""),t=getComputedStyle(this).bottom,e=0-this.getBoundingClientRect().height-10+"px",await this.animate({bottom:[t,e]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"}).finished,this.removeAttribute("animating")),window.removeEventListener("pointerdown",this.ui,!0)}}customElements.define("x-notification",Ct);let{isFinite:St,isNaN:Et,parseFloat:At}=Number,Lt=t=>{t=At(t);return!1===Et(t)&&St(t)},{isFinite:Tt}=Number;const Mt=["0","1","2","3","4","5","6","7","8","9","-","+",",","."];class Dt extends HTMLElement{static observedAttributes=["value","min","max","prefix","suffix","disabled","size"];static _shadowTemplate=R`
    <template>
      <main id="main">
        <div id="editor-container">
          <div id="editor" contenteditable="plaintext-only" spellcheck="false"></div>
        </div>
        <slot></slot>
      </main>
    </template>
  `;static _shadowStyleSheet=I`:host{display:block;position:relative;max-width:160px;height:32px;box-sizing:border-box;font-size:12.5px}:host(:hover){cursor:text}:host([mixed]){color:rgba(0,0,0,.7)}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}::selection{color:var(--selection-color);background-color:var(--selection-background-color)}:host([error]) ::selection{color:#fff;background-color:#d50000}#main{display:flex;align-items:center;height:100%}#editor-container{display:flex;align-items:center;width:100%;height:100%;padding:0 6px;box-sizing:border-box;overflow:hidden}#editor{width:100%;overflow:auto;color:inherit;background:0 0;border:none;outline:0;font-family:inherit;font-size:inherit;line-height:10;white-space:nowrap}#editor::-webkit-scrollbar{display:none}#editor::before{content:attr(data-prefix);pointer-events:none}#editor::after{content:attr(data-suffix);pointer-events:none}:host(:focus) #editor::after,:host(:focus) #editor::before,:host([empty]) #editor::after,:host([empty]) #editor::before{content:""}:host([error])::before{position:absolute;left:0;top:35px;white-space:pre;content:attr(error);font-size:11px;line-height:1.2;pointer-events:none}`;get value(){return this.hasAttribute("value")?parseFloat(this.getAttribute("value")):null}set value(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t)}get min(){return this.hasAttribute("min")?parseFloat(this.getAttribute("min")):-1/0}set min(t){Tt(t)?this.setAttribute("min",t):this.removeAttribute("min")}get max(){return this.hasAttribute("max")?parseFloat(this.getAttribute("max")):1/0}set max(t){Tt(t)?this.setAttribute("max",t):this.removeAttribute("max")}get mixed(){return this.hasAttribute("mixed")}set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed")}get precision(){return this.hasAttribute("precision")?parseFloat(this.getAttribute("precision")):20}set precision(t){this.setAttribute("precision",t)}get step(){return this.hasAttribute("step")?parseFloat(this.getAttribute("step")):1}set step(t){this.setAttribute("step",t)}get prefix(){return this.hasAttribute("prefix")?this.getAttribute("prefix"):""}set prefix(t){this.setAttribute("prefix",t)}get suffix(){return this.hasAttribute("suffix")?this.getAttribute("suffix"):""}set suffix(t){this.setAttribute("suffix",t)}get required(){return this.hasAttribute("required")}set required(t){t?this.setAttribute("required",""):this.removeAttribute("required")}get mixed(){return this.hasAttribute("mixed")}set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get condensed(){return this.hasAttribute("condensed")}set condensed(t){t?this.setAttribute("condensed",""):this.removeAttribute("condensed")}get error(){return this.getAttribute("error")}set error(t){null===t?this.removeAttribute("error"):this.setAttribute("error",t)}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}_shadowRoot=null;I={};yt=0;B=null;mi=!1;bi=!1;gi=!1;xi=!1;fi=!1;wi=!1;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed",delegatesFocus:!0}),this._shadowRoot.adoptedStyleSheets=[Dt._shadowStyleSheet],this._shadowRoot.append(document.importNode(Dt._shadowTemplate.content,!0));for(var t of this._shadowRoot.querySelectorAll("[id]"))this.I[t.id]=t;this._shadowRoot.addEventListener("pointerdown",t=>this.vi(t)),this._shadowRoot.addEventListener("wheel",t=>this.Oe(t)),this.I.editor.addEventListener("paste",t=>this.yi(t)),this.I.editor.addEventListener("input",t=>this.zi(t)),this.addEventListener("pointerdown",t=>this.zt(t)),this.addEventListener("keydown",t=>this.kt(t)),this.addEventListener("keyup",t=>this.ki(t)),this.addEventListener("keypress",t=>this._i(t)),this.addEventListener("incrementstart",t=>this.Ci(t)),this.addEventListener("decrementstart",t=>this.Si(t)),this.addEventListener("focusin",t=>this.ge(t)),this.addEventListener("focusout",t=>this.xe(t))}connectedCallback(){this.Ct(),this.U(),this.nt(),F.addEventListener("sizechange",this.B=()=>this.U())}disconnectedCallback(){F.removeEventListener("sizechange",this.B)}attributeChangedCallback(t){"value"===t?this.ot():"min"===t?this.Ei():"max"===t?this.Ai():"prefix"===t?this.Li():"suffix"===t?this.Ti():"disabled"===t?this.qt():"size"===t&&this.lt()}validate(){this.value<this.min?this.error="Value is too low":this.value>this.max?this.error="Value is too high":this.required&&null===this.value?this.error="This field is required":this.error=null}Mi(t=!1){var e=this.value,i=this.value;i+=t?10*this.step:this.step,e!==(i=l(i,this.min,this.max,a(this.step)))&&(this.value=i),this.matches(":focus")&&document.execCommand("selectAll"),this.validate(),this.be()}Di(t=!1){var e=this.value,i=this.value;i-=t?10*this.step:this.step,e!==(i=l(i,this.min,this.max,a(this.step)))&&(this.value=i),this.matches(":focus")&&document.execCommand("selectAll"),this.validate(),this.be()}$i(){this.bi||(this.bi=!0,this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})))}Pi=it(()=>{!this.bi||this.gi||this.xi||this.fi||(this.bi=!1,this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})))},500);Ri(){let t=this.I.editor.textContent,e=""===t.trim()?null:parseFloat(t),i=l(e,this.min,this.max);i!==this.value?(this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})),this.value=i,this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0}))):e!==this.value&&(this.value=i),this.validate()}nt(){this.wi&&this.validate(),this.Ii(),this.be(),this.Oi()}Ii(){this.hasAttribute("value")?this.I.editor.textContent=this.getAttribute("value").trim():this.I.editor.textContent=""}be(){let e=null;if(this.matches(":focus")){let t=this.I.editor.textContent;e=""===t.trim()?null:parseFloat(t)}else e=this.value;null===e?this.setAttribute("empty",""):this.removeAttribute("empty")}Oi(){let t=this.querySelector("x-stepper");var e,i;t&&(e=this.value>this.min,!0==(i=this.value<this.max)&&!0==e?t.removeAttribute("disabled"):!1==i&&!1==e?t.setAttribute("disabled",""):!1==i?t.setAttribute("disabled","increment"):!1==e&&t.setAttribute("disabled","decrement"))}Ct(){this.setAttribute("role","input"),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.yt=0<this.tabIndex?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=0<this.yt?this.yt:0),this.yt=0)}U(){var t=F.size,e=this.size,i="medium";"medium"===(i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e)?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}ot(){this.nt()}Ei(){this.Oi()}Ai(){this.Oi()}Li(){this.I.editor.setAttribute("data-prefix",this.prefix)}Ti(){this.I.editor.setAttribute("data-suffix",this.suffix)}qt(){this.I.editor.disabled=this.disabled,this.Ct()}lt(){this.U()}ge(){this.wi=!0,document.execCommand("selectAll"),this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0}))}xe(){this._shadowRoot.getSelection().collapse(this.I.main),this.I.editor.scrollLeft=0,this.Ri(),this.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0}))}zi(){this.error=null,this.be(),this.Oi()}Oe(t){this.matches(":focus")&&(t.preventDefault(),this.$i(),0<t.wheelDeltaX||0<t.wheelDeltaY?this.Mi(t.shiftKey):this.Di(t.shiftKey),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.Pi())}N(t){t.preventDefault()}zt(t){"x-stepper"===t.target.localName&&t.preventDefault()}vi(d){if(1===d.buttons&&!1!==d.isPrimary){if(d.target===this.I.editor&&!1===this.I.editor.matches(":focus")){d.preventDefault();let t,e,n=this.value,o=d.clientX,h=new DOMPoint(d.clientX,d.clientY);this.style.cursor="col-resize",this.I.editor.setPointerCapture(d.pointerId),this.I.editor.addEventListener("pointermove",t=t=>{var e=new DOMPoint(t.clientX,t.clientY),i=t.timeStamp-d.timeStamp,s=t.clientX!==o,i=3<r(h,e)||80<i;o=t.clientX,s&&i&&t.isPrimary&&(!1===this.mi&&(this.mi=!0,this.bi=!0,this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}))),t=t.clientX-d.clientX,t=n+t*this.step,t=l(t,this.min,this.max,a(this.step)),this.value=t,this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))}),this.I.editor.addEventListener("lostpointercapture",e=()=>{this.I.editor.removeEventListener("pointermove",t),this.I.editor.removeEventListener("lostpointercapture",e),!(this.style.cursor=null)===this.mi?(this.mi=!1,this.bi=!1,this.dispatchEvent(new CustomEvent("changeend",{detail:this.value!==n,bubbles:!0}))):(this.I.editor.focus(),document.execCommand("selectAll"))})}}else d.preventDefault()}Ci(t){let e,i;this.matches(":focus")&&this.Ri(),this.fi=!0,this.addEventListener("increment",e=t=>{this.$i(),this.Mi(t.detail.shiftKey),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.Pi(),this.nt()}),this.addEventListener("incrementend",i=t=>{this.fi=!1,this.removeEventListener("increment",e),this.removeEventListener("incrementend",i)})}Si(t){let e,i;this.matches(":focus")&&this.Ri(),this.fi=!0,this.addEventListener("decrement",e=t=>{this.$i(),this.Di(t.detail.shiftKey),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.Pi(),this.nt()}),this.addEventListener("decrementend",i=t=>{this.fi=!1,this.removeEventListener("decrement",e),this.removeEventListener("decrementend",i)})}kt(t){"ArrowDown"===t.code?(t.preventDefault(),this.gi=!0,this.$i(),this.Di(t.shiftKey),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.Pi(),this.nt()):"ArrowUp"===t.code?(t.preventDefault(),this.gi=!0,this.$i(),this.Mi(t.shiftKey),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.Pi(),this.nt()):"Backspace"===t.code?this.xi=!0:"Enter"===t.code&&(this.Ri(),document.execCommand("selectAll"))}ki(t){"ArrowDown"===t.code||"ArrowUp"===t.code?(this.gi=!1,this.Pi()):"Backspace"===t.code&&(this.xi=!1)}_i(t){!1===Mt.includes(t.key)&&t.preventDefault()}async yi(t){t.preventDefault();t=t.clipboardData.getData("text/plain").trim();Lt(t)&&(await Q(1),document.execCommand("insertText",!1,t))}}customElements.define("x-numberinput",Dt);class $t extends HTMLElement{static observedAttributes=["modal"];static _shadowTemplate=R`
    <template>
      <svg id="arrow" viewBox="0 0 100 100" preserveAspectRatio="none">
        <path id="arrow-path"></path>
      </svg>
      <slot></slot>
    </template>
  `;static _shadowStyleSheet=I`:host{position:fixed;display:none;top:0;left:0;min-height:30px;z-index:1001;box-sizing:border-box;background:#fff;-webkit-app-region:no-drag;--align:bottom;--arrow-size:20px;--open-transition:900 transform cubic-bezier(0.4, 0, 0.2, 1);--close-transition:200 opacity cubic-bezier(0.4, 0, 0.2, 1)}:host(:focus){outline:0}:host([animating]),:host([opened]){display:flex}#arrow{position:fixed;box-sizing:border-box;content:""}#arrow[data-align=bottom],#arrow[data-align=top]{width:var(--arrow-size);height:calc(var(--arrow-size) * .6);transform:translate(-50%,0)}#arrow[data-align=left],#arrow[data-align=right]{width:calc(var(--arrow-size) * .6);height:var(--arrow-size);transform:translate(0,-50%)}#arrow path{stroke-width:1;vector-effect:non-scaling-stroke}#arrow[data-align=bottom] path{d:path("M 0 100, L 50 0, L 100 100")}#arrow[data-align=top] path{d:path("M 0 0, L 50 100, L 100 0")}#arrow[data-align=left] path{d:path("M 0 0, L 100 50, L 00 100")}#arrow[data-align=right] path{d:path("M 100 0, L 0 50, L 100 100")}`;get opened(){return this.hasAttribute("opened")}get modal(){return this.hasAttribute("modal")}set modal(t){t?this.setAttribute("modal",""):this.removeAttribute("modal")}_shadowRoot=null;I={};Bi=null;Hi=null;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[$t._shadowStyleSheet],this._shadowRoot.append(document.importNode($t._shadowTemplate.content,!0));for(var t of this._shadowRoot.querySelectorAll("[id]"))this.I[t.id]=t;this.I.backdrop=G("x-backdrop"),this.I.backdrop.style.background="rgba(0, 0, 0, 0)",(this.I.backdrop.ownerElement=this).I.backdrop.addEventListener("click",t=>{t.preventDefault()}),this.I.backdrop.addEventListener("pointerdown",t=>{this.hasAttribute("animating")&&t.stopPropagation()})}connectedCallback(){this.tabIndex=-1}attributeChangedCallback(t,e,i){e!==i&&"modal"===t&&(this.modal&&this.opened?this.I.backdrop.show():this.I.backdrop.hide())}open(r,n=!0){return new Promise(async t=>{var e,i,s;!1===this.opened&&(this.modal&&this.I.backdrop.show(!1),this.setAttribute("opened",""),this.Fi(),this.Ni(r),this.Bi=J(this),this.Bi&&this.Bi.addEventListener("scroll",this.Hi=()=>{this.close()},{once:!0}),n&&(s=getComputedStyle(this).getPropertyValue("--open-transition"),[e,i,s]=this.Ne(s),"transform"===e&&await this.animate({transform:["scale(1, 0)","scale(1, 1)"],transformOrigin:["0 0","0 0"]},{duration:i,easing:s}).finished),this.dispatchEvent(new CustomEvent("open",{bubbles:!0,detail:this}))),t()})}close(r=!0){return new Promise(async t=>{var e,i,s;!0===this.opened&&(this.removeAttribute("opened"),this.I.backdrop.hide(),this.dispatchEvent(new CustomEvent("close",{bubbles:!0,detail:this})),this.Bi.removeEventListener("scroll",this.Hi),r)&&(s=getComputedStyle(this).getPropertyValue("--close-transition"),[e,i,s]=this.Ne(s),this.setAttribute("animating",""),"opacity"===e&&await this.animate({opacity:["1","0"]},{duration:i,easing:s}).finished,this.removeAttribute("animating")),t()})}Ni(t){let e=getComputedStyle(this).getPropertyValue("--align").trim(),r=parseInt(getComputedStyle(this).borderWidth),n=0,a=0,h;this.style.maxWidth=null,this.style.maxHeight=null,this.style.left="0px",this.style.top="0px";var i=o(this.getBoundingClientRect());if(0===i.top&&0===i.left||(n=-i.left,a=-i.top),h=t instanceof DOMPoint?new DOMRect(t.x,t.y,0,0):t instanceof DOMRect?t:t instanceof Element?t.getBoundingClientRect():new DOMRect,"bottom"===e||"top"===e){var s,l,d=(t=!1)=>{this.style.maxHeight=null,this.I.arrow.setAttribute("data-align","bottom");o(this.getBoundingClientRect());let e,i=o(this.I.arrow.getBoundingClientRect()),s=0;return this.I.arrow.style.top=a+h.bottom+2+r+"px",this.style.top=a+h.bottom+2+i.height+"px",e=o(this.getBoundingClientRect()),s=e.bottom+8-window.innerHeight,t&&0<s&&(t=e.height-s,s=0,this.style.maxHeight=t+"px"),s},u=(t=!1)=>{this.style.maxHeight=null,this.I.arrow.setAttribute("data-align","top");let e=o(this.getBoundingClientRect()),i=o(this.I.arrow.getBoundingClientRect()),s=0;return this.I.arrow.style.top=a+h.top-2-r-i.height+"px",this.style.top=a+h.top-2-i.height-e.height+"px",e=o(this.getBoundingClientRect()),s=-(e.top-8),t&&0<s&&(t=e.height-s,s=0,this.style.maxHeight=t+"px",this.style.top=a+h.top-2-i.height-t+"px"),s},c=()=>{this.style.maxWidth=null;var t=o(this.getBoundingClientRect());return this.I.arrow.style.left=n+h.left+h.width/2+"px",this.style.left=n+h.left+h.width/2-t.width/2+"px",[-((t=o(this.getBoundingClientRect())).left-8),t.right+8-window.innerWidth]},p=(t=!1)=>{this.style.maxWidth=null;let e=o(this.getBoundingClientRect()),i=0;return this.I.arrow.style.left=n+h.left+h.width/2+"px",this.style.left=n+window.innerWidth-8-e.width+"px",e=o(this.getBoundingClientRect()),i=-(e.left-8),t&&0<i&&(t=e.width-i,i=0,this.style.maxWidth=t+"px",this.style.left=n+window.innerWidth-8-t+"px"),i},m=(t=!1)=>{this.style.maxWidth=null;o(this.getBoundingClientRect());let e,i=0;return this.I.arrow.style.left=n+h.left+h.width/2+"px",this.style.left=n+8+"px",e=o(this.getBoundingClientRect()),i=e.right+8-window.innerWidth,t&&0<i&&(t=e.width-i,i=0,this.style.maxWidth=t+"px"),i};"bottom"===e?0<(s=d())&&(0<(l=u())&&(s<l?d:u)(!0)):"top"!==e||0<(s=u())&&(0<(l=d())&&(s<l?u:d)(!0));{let[t,e]=c();0<e?(t=p(),0<t&&p(!0)):0<t&&(0<m()&&m(!0))}}else if("right"===e||"left"===e){var b,g,u=(t=!1)=>{this.style.maxWidth=null,this.I.arrow.setAttribute("data-align","right");o(this.getBoundingClientRect());let e,i=o(this.I.arrow.getBoundingClientRect()),s=0;return this.I.arrow.style.left=n+h.right+2+r+"px",this.style.left=n+h.right+2+i.width+"px",e=o(this.getBoundingClientRect()),s=e.right+8-window.innerWidth,t&&0<s&&(t=e.width-s,s=0,this.style.maxWidth=t+"px"),s},d=(t=!1)=>{this.style.maxWidth=null,this.I.arrow.setAttribute("data-align","left");let e=o(this.getBoundingClientRect()),i=o(this.I.arrow.getBoundingClientRect()),s=0;return this.I.arrow.style.left=n+h.left-2-r-i.width+"px",this.style.left=n+h.left-2-i.width-e.width+"px",e=o(this.getBoundingClientRect()),s=-(e.left-8),t&&0<s&&(t=e.width-s,s=0,this.style.maxWidth=t+"px",this.style.left=n+h.left-2-i.width-t+"px"),s},c=()=>{this.style.maxHeight=null;var t=o(this.getBoundingClientRect());return this.I.arrow.style.top=a+h.top+h.height/2+"px",this.style.top=a+h.top+h.height/2-t.height/2+"px",[-((t=o(this.getBoundingClientRect())).top-8),t.bottom+8-window.innerHeight]},p=(t=!1)=>{this.style.maxHeight=null;let e=o(this.getBoundingClientRect()),i=0;return this.I.arrow.style.top=a+h.top+h.height/2+"px",this.style.top=a+window.innerHeight-8-e.height+"px",e=o(this.getBoundingClientRect()),i=-(e.top-8),t&&0<i&&(t=e.height-i,i=0,this.style.maxHeight=t+"px",this.style.top=a+window.innerHeight-8-t+"px"),i},m=(t=!1)=>{this.style.maxHeight=null;o(this.getBoundingClientRect());let e,i=0;return this.I.arrow.style.top=a+h.top+h.height/2+"px",this.style.top=a+8+"px",e=o(this.getBoundingClientRect()),i=e.bottom+8-window.innerHeight,t&&0<i&&(t=e.height-i,i=0,this.style.maxHeight=t+"px"),i};"right"===e?0<(b=u())&&(0<(g=d())&&(b<g?u:d)(!0)):"left"!==e||0<(b=d())&&(0<(g=u())&&(b<g?d:u)(!0));{let[t,e]=c();0<e?(t=p(),0<t&&p(!0)):0<t&&(0<m()&&m(!0))}}}Fi(){var{backgroundColor:t,borderColor:e,borderWidth:i}=getComputedStyle(this);this.I["arrow-path"].style.fill=t,this.I["arrow-path"].style.stroke=e,this.I["arrow-path"].style.strokeWidth=i}Ne(t){let[e,i,...s]=t.trim().split(" ");return[i,parseFloat(e),s.join(" ")]}}customElements.define("x-popover",$t);class Pt extends HTMLElement{static observedAttributes=["value","max","disabled","size"];static _shadowTemplate=R`
    <template>
      <div id="determinate-bar" part="bar"></div>

      <div id="indeterminate-bars">
        <div id="primary-indeterminate-bar" part="bar"></div>
        <div id="secondary-indeterminate-bar" part="bar"></div>
      </div>
    </template>
  `;static _shadowStyleSheet=I`:host{display:block;box-sizing:border-box;height:8px;width:100%;position:relative;contain:strict;overflow:hidden;background:#acece6;cursor:default}:host([hidden]){display:none}#indeterminate-bars{width:100%;height:100%}#determinate-bar{position:absolute;top:0;left:0;bottom:0;width:0%;height:100%;background:#3b99fb;box-shadow:0 0 0 1px #3385db;transition:width .4s ease-in-out;will-change:left,right}:host([value="-1"]) #determinate-bar{visibility:hidden}#primary-indeterminate-bar{position:absolute;top:0;left:0;bottom:0;height:100%;background:#3b99fb;will-change:left,right}#secondary-indeterminate-bar{position:absolute;top:0;left:0;bottom:0;height:100%;background:#3b99fb;will-change:left,right}`;get value(){return this.hasAttribute("value")?parseFloat(this.getAttribute("value")):null}set value(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t)}get max(){return this.hasAttribute("max")?parseFloat(this.getAttribute("max")):1}set max(t){this.setAttribute("max",t)}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}_shadowRoot=null;I={};qi=null;B=null;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[Pt._shadowStyleSheet],this._shadowRoot.append(document.importNode(Pt._shadowTemplate.content,!0));for(var t of this._shadowRoot.querySelectorAll("[id]"))this.I[t.id]=t}connectedCallback(){F.addEventListener("sizechange",this.B=()=>this.U()),this.nt(),this.U()}disconnectedCallback(){F.removeEventListener("sizechange",this.B)}attributeChangedCallback(t,e,i){e!==i&&("value"===t||"disabled"===t?this.nt():"size"===t&&this.U())}nt(){if(null===this.value||-1===this.value||this.disabled?this.I["determinate-bar"].style.width="0%":this.I["determinate-bar"].style.width=this.value/this.max*100+"%",null!==this.value||this.disabled){if(this.qi){for(var t of this.qi)t.cancel();this.qi=null}}else this.qi||(this.qi=[this.I["primary-indeterminate-bar"].animate([{left:"-35%",right:"100%",offset:0},{left:"100%",right:"-90%",offset:.6},{left:"100%",right:"-90%",offset:1}],{duration:2e3,easing:"ease-in-out",iterations:1/0}),this.I["secondary-indeterminate-bar"].animate([{left:"-100%",right:"100%",offset:0},{left:"110%",right:"-30%",offset:.8},{left:"110%",right:"-30%",offset:1}],{duration:2e3,delay:1e3,easing:"ease-in-out",iterations:1/0})])}U(){var t=F.size,e=this.size,i="medium";"medium"===(i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e)?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}}customElements.define("x-progressbar",Pt);class Rt extends HTMLElement{static observedAttributes=["toggled","disabled","size"];static _shadowTemplate=R`
    <template>
      <main id="main">
        <div id="indicator" part="indicator">
          <div id="indicator-dot" part="indicator-dot"></div>
        </div>

        <div id="description">
          <slot></slot>
        </div>
      </main>
    </template>
  `;static _shadowStyleSheet=I`:host{display:block;position:relative;width:fit-content}:host(:focus){outline:0}:host([disabled]){opacity:.4;pointer-events:none}:host([hidden]){display:none}#main{display:flex;align-items:center}#indicator{position:relative;border:3px solid #000;width:19px;height:19px;border-radius:99px;display:flex;align-items:center;justify-content:center}#indicator-dot{width:100%;height:100%;background:currentColor;border-radius:99px;transform:scale(0)}:host([mixed][toggled]) #indicator-dot{height:33%;border-radius:0}:host([toggled]) #indicator-dot{transform:scale(.5)}#description{flex:1}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):null}set value(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t)}get toggled(){return this.hasAttribute("toggled")}set toggled(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled")}get mixed(){return this.hasAttribute("mixed")}set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}_shadowRoot=null;I={};yt=0;B=null;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[Rt._shadowStyleSheet],this._shadowRoot.append(document.importNode(Rt._shadowTemplate.content,!0));for(var t of this._shadowRoot.querySelectorAll("[id]"))this.I[t.id]=t;this.addEventListener("click",t=>this.N(t)),this.addEventListener("pointerdown",t=>this.zt(t)),this.addEventListener("keydown",t=>this.kt(t))}connectedCallback(){F.addEventListener("sizechange",this.B=()=>this.U()),this.Ct(),this.U()}disconnectedCallback(){F.removeEventListener("sizechange",this.B)}attributeChangedCallback(t){"toggled"===t?this.Nt():"disabled"===t?this.qt():"size"===t&&this.U()}Ct(){this.setAttribute("role","radio"),this.setAttribute("aria-checked",this.toggled),this.setAttribute("aria-disabled",this.disabled),this.closest("x-radios")||(this.disabled?(this.yt=0<this.tabIndex?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=0<this.yt?this.yt:0),this.yt=0))}U(){var t=F.size,e=this.size,i="medium";"medium"===(i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e)?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}Nt(){this.setAttribute("aria-checked",this.toggled)}qt(){this.Ct()}N(t){this.closest("x-radios")||(this.toggled&&this.mixed?this.mixed=!1:(this.mixed=!1,this.toggled=!this.toggled),this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0})))}zt(e){if(!1===this.matches(":focus")){e.preventDefault();let t=W(this.parentNode,"[tabindex]");t&&t.focus()}}kt(t){"Enter"!==t.code&&"Space"!==t.code||(t.preventDefault(),this.click())}}customElements.define("x-radio",Rt);class It extends HTMLElement{get value(){var t=this.querySelector("x-radio[toggled]");return t?t.value:null}set value(t){for(var e of this.querySelectorAll("x-radio"))e.toggled=e.value===t&&null!==t}_shadowRoot=null;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.innerHTML="<slot></slot>",this.addEventListener("click",t=>this.N(t),!0),this.addEventListener("keydown",t=>this.kt(t))}connectedCallback(){this.setAttribute("role","radiogroup");let t=[...this.querySelectorAll("x-radio")].filter(t=>t.closest("x-radios")===this),e=t.find(t=>t.toggled&&!t.disabled)||t.find(t=>!t.disabled);for(var i of t)i.setAttribute("tabindex",i===e?"0 ":"-1"),i.setAttribute("aria-checked",i===e)}N(t){let e=t.target.closest("x-radio");if(e&&!e.toggled&&!e.disabled&&0===t.button){t=[...this.querySelectorAll("x-radio")].filter(t=>t.closest("x-radios")===this&&t!==e);if(!1===e.toggled||!0===e.mixed){e.toggled=!0,e.mixed=!1,e.tabIndex=0;for(var i of t)i.toggled=!1,i.tabIndex=-1;this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0,detail:e}))}}}kt(n){var{key:t}=n;if("ArrowDown"===t||"ArrowRight"===t){let t=[...this.querySelectorAll("x-radio")],i=t.filter(t=>!1===t.disabled&&t.closest("x-radios")===this),s=t.find(t=>t.matches(":focus"));if(s){let t=i.indexOf(s),e=1<i.length?i[t+1]||i[0]:null;e&&(n.preventDefault(),e.focus(),e.tabIndex=0,s.tabIndex=-1)}}else if("ArrowUp"===t||"ArrowLeft"===t){let t=[...this.querySelectorAll("x-radio")],s=t.filter(t=>!1===t.disabled&&t.closest("x-radios")===this),r=t.find(t=>t.matches(":focus"));if(r){let t=s.indexOf(r),e=s[s.length-1],i=1<s.length?s[t-1]||e:null;i&&(n.preventDefault(),i.focus(),i.tabIndex=0,r.tabIndex=-1)}}}}customElements.define("x-radios",It);class Ot extends HTMLElement{static observedAttributes=["value","size"];static _shadowTemplate=R`
    <template>
      <x-box vertical>
        <div id="hue-slider">
          <div id="hue-slider-track">
            <div id="hue-slider-marker"></div>
          </div>
        </div>

        <div id="satlight-slider">
          <div id="satlight-marker"></div>
        </div>

        <div id="alpha-slider">
          <div id="alpha-slider-gradient"></div>
          <div id="alpha-slider-track">
            <div id="alpha-slider-marker"></div>
          </div>
        </div>
      </x-box>
    </template>
  `;static _shadowStyleSheet=I`:host{display:block;width:100%;user-select:none}:host([hidden]){display:none}#hue-slider{width:100%;height:30px;padding:0 calc(var(--marker-width)/ 2);margin-bottom:14px;box-sizing:border-box;border-radius:2px;touch-action:pan-y;--marker-width:18px;background:red}:host([computedsize=small]) #hue-slider{height:24px}:host([computedsize=large]) #hue-slider{height:35px}#hue-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center;background:linear-gradient(to right,red,#ff0,#0f0,#0ff,#00f,#f0f,red)}#hue-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}#satlight-slider{width:100%;height:174px;border-radius:2px;position:relative;touch-action:pinch-zoom}#satlight-marker{position:absolute;top:0;left:0;width:var(--marker-size);height:var(--marker-size);transform:translate(calc(var(--marker-size)/ -2),calc(var(--marker-size)/ -2));box-sizing:border-box;background:rgba(0,0,0,.3);border:3px solid #fff;border-radius:999px;box-shadow:0 0 3px #000;--marker-size:20px}#alpha-slider{position:relative;display:none;width:100%;height:30px;margin-top:14px;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;border-radius:2px;touch-action:pan-y;--marker-width:18px;background-size:10px 10px;background-position:0 0,0 5px,5px -5px,-5px 0;background-image:linear-gradient(45deg,#d6d6d6 25%,transparent 25%),linear-gradient(-45deg,#d6d6d6 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#d6d6d6 75%),linear-gradient(-45deg,transparent 75%,#d6d6d6 75%)}:host([alphaslider]) #alpha-slider{display:block}:host([computedsize=small]) #alpha-slider{height:24px}:host([computedsize=large]) #alpha-slider{height:35px}#alpha-slider-gradient{position:absolute;top:0;left:0;width:100%;height:100%}#alpha-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center}#alpha-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):"hsla(0, 0%, 100%, 1)"}set value(t){this.setAttribute("value",t)}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}_shadowRoot=null;I={};B=null;X=0;V=0;Ui=100;G=1;Y=!1;ji=!1;tt=!1;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[Ot._shadowStyleSheet],this._shadowRoot.append(document.importNode(Ot._shadowTemplate.content,!0));for(var t of this._shadowRoot.querySelectorAll("[id]"))this.I[t.id]=t;this.I["hue-slider"].addEventListener("pointerdown",t=>this.et(t)),this.I["satlight-slider"].addEventListener("pointerdown",t=>this.Ki(t)),this.I["alpha-slider"].addEventListener("pointerdown",t=>this.ht(t))}connectedCallback(){this.nt(),this.U(),F.addEventListener("sizechange",this.B=()=>this.U())}disconnectedCallback(){F.removeEventListener("sizechange",this.B)}attributeChangedCallback(t,e,i){e!==i&&("value"===t?this.ot():"size"===t&&this.lt())}nt(){this.at(),this.Xi(),this.Vi(),this.bt(),this.gt()}at(){this.I["hue-slider-marker"].style.left=l(this.X,0,360,0)/360*100+"%"}Xi(){var t=this.V/100*100,e=100-this.Ui/100*100;this.I["satlight-marker"].style.left=`${t}%`,this.I["satlight-marker"].style.top=`${e}%`}Vi(){var t=C([this.X,100,50,1],"hsla","hex");this.I["satlight-slider"].style.background=`linear-gradient(to bottom, rgba(0,0,0,0), rgba(0,0,0,1)), linear-gradient(to left, rgba(255,255,255,0), rgba(255,255,255,1)), ${t}`}bt(){this.I["alpha-slider-marker"].style.left=l(100*(1-this.G),0,100,2)+"%"}gt(){var[t,e,i]=z(this.X,this.V,this.Ui).map(t=>n(t,0));this.I["alpha-slider-gradient"].style.background=`\n      linear-gradient(to right, rgba(${t}, ${e}, ${i}, 1), rgba(${t}, ${e}, ${i}, 0))\n    `}U(){var t=F.size,e=this.size,i="medium";"medium"===(i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e)?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}ot(){var t,e,i,s;!1===this.Y&&!1===this.ji&&!1===this.tt&&([t,e,i,s]=(new D).parse(this.value,"hsva"),this.X=t,this.V=e,this.Ui=i,this.G=s,this.nt())}lt(){this.U()}Ki(t){if(1===t.buttons){let e,i,s=this.I["satlight-slider"].getBoundingClientRect();this.ji=!0,this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})),this.I["satlight-slider"].setPointerCapture(t.pointerId);let r=(t,e)=>{t=(t-s.left)/s.width*100,e=(e-s.top)/s.height*100,t=l(t,0,100,2),e=l(e,0,100,2);this.V=t,this.Ui=100-e,this.value=C([this.X,this.V,this.Ui,this.G],"hsva","hsla"),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.Xi(),this.Vi(),this.gt()};r(t.clientX,t.clientY),this.I["satlight-slider"].addEventListener("pointermove",e=t=>{r(t.clientX,t.clientY)}),this.I["satlight-slider"].addEventListener("lostpointercapture",i=t=>{this.I["satlight-slider"].removeEventListener("pointermove",e),this.I["satlight-slider"].removeEventListener("lostpointercapture",i),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),this.ji=!1})}}et(r){if(1===r.buttons){let t,e,i=this.I["hue-slider-track"].getBoundingClientRect();this.Y=!0,this.I["hue-slider"].setPointerCapture(r.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));let s=t=>{t=(t-i.x)/i.width*360;(t=l(t,0,360,0))!==this.X&&(this.X=t,this.value=C([this.X,this.V,this.Ui,this.G],"hsva","hsla"),this.at(),this.Vi(),this.Xi(),this.gt(),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))};s(r.clientX),this.I["hue-slider"].addEventListener("pointermove",t=t=>{s(t.clientX)}),this.I["hue-slider"].addEventListener("lostpointercapture",e=()=>{this.I["hue-slider"].removeEventListener("pointermove",t),this.I["hue-slider"].removeEventListener("lostpointercapture",e),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),this.Y=!1})}}ht(r){if(1===r.buttons){let t,e,i=this.I["alpha-slider-track"].getBoundingClientRect();this.tt=!0,this.I["alpha-slider"].setPointerCapture(r.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));let s=t=>{t=1-(t-i.x)/i.width;(t=l(t,0,1,2))!==this.G&&(this.G=t,this.value=C([this.X,this.V,this.Ui,this.G],"hsva","hsla"),this.bt(),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))};s(r.clientX),this.I["alpha-slider"].addEventListener("pointermove",t=t=>{s(t.clientX)}),this.I["alpha-slider"].addEventListener("lostpointercapture",e=()=>{this.I["alpha-slider"].removeEventListener("pointermove",t),this.I["alpha-slider"].removeEventListener("lostpointercapture",e),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),this.tt=!1})}}}customElements.define("x-rectcolorpicker",Ot);const Bt=7;let Ht=Symbol();class Ft extends HTMLElement{static observedAttributes=["disabled","size"];static _shadowTemplate=R`
    <template>
      <div id="button">
        <div id="arrow-container">
          <svg id="arrow" part="arrow" viewBox="0 0 100 100" preserveAspectRatio="none">
            <path></path>
          </svg>
        </div>
      </div>

      <slot></slot>
    </template>
  `;static _shadowStyleSheet=I`:host{display:block;width:fit-content;height:32px;padding:0 0 0 9px;max-width:100%;box-sizing:border-box;position:relative;outline:0;font-size:14px;user-select:none}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}:host(:hover){cursor:default}#button{display:flex;flex-flow:row;align-items:center;justify-content:flex-start;flex:1;width:100%;height:100%}:host([mixed]) #button>*{opacity:.7}#button>x-label{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}#button>#arrow-container{margin:0 0 0 auto;z-index:999}#button>#arrow-container #arrow{display:flex;width:13px;height:13px;min-width:13px;margin:0 2px 0 11px;color:currentColor;d:path("M 25 41 L 50 16 L 75 41 L 83 34 L 50 1 L 17 34 Z M 17 66 L 50 100 L 83 66 L 75 59 L 50 84 L 25 59 Z")}#button>#arrow-container #arrow path{fill:currentColor;d:inherit}`;get value(){var t=this.querySelector("x-menuitem[toggled]");return t?t.value:null}set value(t){for(var e of this.querySelectorAll("x-menuitem"))e.toggled=e.value===t&&null!==t}get mixed(){return this.hasAttribute("mixed")}set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}_shadowRoot=null;I={};yt=0;wt=!1;Zi=null;Gi=null;B=null;Yi=new MutationObserver(t=>this.Wi(t));O=new ResizeObserver(()=>this.Ji());constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[Ft._shadowStyleSheet],this._shadowRoot.append(document.importNode(Ft._shadowTemplate.content,!0));for(var t of this._shadowRoot.querySelectorAll("[id]"))this.I[t.id]=t;this.I.backdrop=G("x-backdrop"),this.I.backdrop.style.opacity="0",(this.I.backdrop.ownerElement=this).I.backdrop.addEventListener("click",t=>this.Qi(t)),this.addEventListener("pointerdown",t=>this.zt(t)),this.addEventListener("toggle",t=>this.ts(t)),this.addEventListener("click",t=>this.N(t)),this.addEventListener("keydown",t=>this.kt(t))}connectedCallback(){this.Yi.observe(this,{childList:!0,attributes:!0,characterData:!0,subtree:!0}),this.O.observe(this),this.es(),this.Ct(),this.U(),F.addEventListener("sizechange",this.B=()=>this.U())}disconnectedCallback(){this.Yi.disconnect(),this.O.disconnect(),F.removeEventListener("sizechange",this.B)}attributeChangedCallback(t){"disabled"===t?this.Ct():"size"===t&&this.U()}Vt(){if(!1!==this.ss()){this.wt=this.matches(":focus"),this.I.backdrop.show(!1),window.addEventListener("resize",this.Zi=()=>{this.Zt()}),window.addEventListener("blur",this.Gi=()=>{this.Zt()});let e=this.querySelector(":scope > x-menu");{let t=null;for(var i of e.querySelectorAll("x-menuitem"))i.togglable=!0,i.toggled&&(null===t?t=i:i.toggled=!1)}e.querySelector("x-menuitem[toggled]")?(s=(t=this.I.button.querySelector("x-label")||this.I.button.firstElementChild)[Ht],e.openOverElement(t,s)):(r=e.querySelector("x-menuitem").firstElementChild,e.openOverElement(this.I.button,r));var t=e.getBoundingClientRect(),s=this.I.button.getBoundingClientRect(),r=parseFloat(getComputedStyle(this).paddingRight);t.right-r<s.right&&(e.style.minWidth=s.right-t.left+r+"px");r=this.getBoundingClientRect();r.right+7>window.innerWidth&&(this.style.maxWidth=window.innerWidth-r.left-7+"px")}}async Zt(e=null){if(!1!==this.hs()){let t=this.querySelector(":scope > x-menu");if(t.setAttribute("closing",""),await e,this.I.backdrop.hide(!1),this.wt)this.focus();else{let t=W(this.parentNode,"[tabindex]");t&&t.focus()}window.removeEventListener("resize",this.Zi),window.removeEventListener("blur",this.Gi),await t.close(),t.removeAttribute("closing")}}ss(){if(this.disabled)return!1;{let t=this.querySelector(":scope > x-menu"),e=t.querySelector("x-menuitem");return null!==t&&!1===t.opened&&!1===t.hasAttribute("closing")&&null!==e}}hs(){if(this.disabled)return!1;{let t=this.querySelector(":scope > x-menu");return t.querySelector("x-menuitem"),null!==t&&!0===t.opened&&!1===t.hasAttribute("closing")}}es(){var t=this.querySelector(":scope > x-menu x-menuitem[toggled]");if(this.I.button.innerHTML="",t){for(var e of t.children){let t=e.cloneNode(!0);t[Ht]=e,t.removeAttribute("id"),t.removeAttribute("style"),this.I.button.append(t)}this.ns()}this.I.button.append(this.I["arrow-container"])}os=et(this.es,300,this);ns(){for(var t of this.I.button.children){var e,i,s,r,n,o;t!==this.I["arrow-container"]&&({width:e,height:i,margin:s,padding:r,border:n,borderRadius:o}=getComputedStyle(t[Ht]),["x-icon","x-swatch","img","svg"].includes(t[Ht].localName)&&(t.style.width=e,t.style.height=i,t.style.minWidth=e,t.style.borderRadius=o),t.style.margin=s,t.style.padding=r,t.style.border=n)}}Ct(){this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.yt=0<this.tabIndex?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=0<this.yt?this.yt:0),this.yt=0);{this.setAttribute("role","button");let t=this.querySelector(":scope > x-menu");if(t){t.setAttribute("role","listbox");for(var e of t.querySelectorAll("x-menuitem"))e.setAttribute("role","option")}}}U(){var t=F.size,e=this.size,i="medium";"medium"===(i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e)?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}Wi(t){for(var e of t)"attributes"===e.type&&"x-menuitem"===e.target.localName&&"toggled"===e.attributeName&&this.os()}Ji(){this.ns()}zt(t){t.target.closest("x-menu")||!1!==this.matches(":focus")||t.preventDefault()}async N(t){if(0===t.button)if(this.ss())this.Vt();else if(this.hs()){var e=t.target.closest("x-menuitem");if(e){var i,s=this.value,t=e.value;for(i of this.querySelectorAll("x-menuitem"))i.toggled=i===e;await this.Zt(e.whenTriggerEnd),s===t&&!this.mixed||(this.mixed=!1,this.dispatchEvent(new CustomEvent("change",{bubbles:!0,detail:{oldValue:s,newValue:t}})))}}}ts(t){t.preventDefault()}Qi(t){this.Zt()}kt(t){!1===t.defaultPrevented&&(this.querySelector(":scope > x-menu"),"Enter"===t.key||"Space"===t.key||"ArrowUp"===t.key||"ArrowDown"===t.key?this.ss()&&(t.preventDefault(),this.Vt()):"Escape"===t.key&&this.hs()&&(t.preventDefault(),this.Zt()))}}customElements.define("x-select",Ft);const Nt=navigator.platform.startsWith("Mac")||["iPhone","iPad"].includes(navigator.platform),qt=["Alt","AltGraph","CapsLock","Control","Fn","FnLock","Meta","NumLock","ScrollLock","Shift","Symbol","SymbolLock"];class Ut extends HTMLElement{static observedAttributes=["value"];static _shadowTemplate=R`
    <template>
      <main id="main"></main>
    </template>
  `;static _shadowStyleSheet=I`:host{display:inline-block;box-sizing:border-box;font-size:14px;line-height:1}:host([hidden]){display:none}::selection{color:var(--selection-color);background-color:var(--selection-background-color)}`;get value(){let e=[];if(this.hasAttribute("value")){let t=this.getAttribute("value").replace("++","+PLUS").split("+");t=t.map(t=>t.trim().replace("PLUS","+")).filter(t=>""!==t),e=t}return e}set value(t){this.setAttribute("value",t.join("+"))}get modKeys(){return this.value.filter(t=>qt.includes(t))}get normalKey(){var t=this.value.find(t=>!1===qt.includes(t));return void 0===t?null:t}_shadowRoot=null;I={};constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[Ut._shadowStyleSheet],this._shadowRoot.append(document.importNode(Ut._shadowTemplate.content,!0));for(var t of this._shadowRoot.querySelectorAll("[id]"))this.I[t.id]=t}attributeChangedCallback(t){"value"===t&&this.nt()}nt(){let e="";this.value;let i=this.modKeys,s=this.normalKey;if(Nt)i.includes("Meta")&&(e+="^"),i.includes("Alt")&&(e+="⌥"),i.includes("Shift")&&(e+="⇧"),i.includes("Control")&&(e+="⌘"),i.includes("Symbol")&&(e+="☺"),void 0!==s&&(e+={ArrowUp:"↑",ArrowDown:"↓",ArrowLeft:"←",ArrowRight:"→",Backspace:"⌦"}[s]||s);else{let t=[];i.includes("Control")&&t.push("Ctrl"),i.includes("Alt")&&t.push("Alt"),i.includes("Meta")&&t.push("Meta"),i.includes("Shift")&&t.push("Shift"),i.includes("Symbol")&&t.push("Symbol"),null!==s&&t.push({ArrowUp:"Up",ArrowDown:"Down",ArrowLeft:"Left",ArrowRight:"Right"}[s]||s),e=t.join("+")}this.I.main.textContent=e}}customElements.define("x-shortcut",Ut);let jt=(e,i,t=!1)=>{if(e.length!==i.length)return!1;if(t){for(var s in e)if(e[s]!==i[s])return!1}else{for(let t=0;t<e.length;t+=1)if(!i.includes(e[t]))return!1;for(let t=0;t<i.length;t+=1)if(!e.includes(i[t]))return!1}return!0},Kt=(t,e)=>n(n(t/e)*e,a(e));class Xt extends HTMLElement{static observedAttributes=["value","buffer","min","max","size"];static _shadowTemplate=R`
    <template>
      <main id="main">
        <div id="tracks-and-thumbs">
          <div id="groove-track" part="track groove-track"></div>
          <div id="buffer-track" part="track buffer-track"></div>
          <div id="range-track" part="track range-track"></div>
          <div id="thumbs">
            <div id="start-thumb" class="thumb" part="thumb start-thumb" data-value="start" tabindex="0"></div>
            <div id="end-thumb" class="thumb" part="thumb end-thumb" data-value="end" tabindex="0"></div>
          </div>
        </div>

        <div id="ticks"></div>

        <div id="labels">
          <slot></slot>
        </div>
      </main>
    </template>
  `;static _shadowStyleSheet=I`:host{display:block;width:100%;position:relative;box-sizing:border-box;touch-action:pan-y}:host(:focus){outline:0}:host(:hover){cursor:default}:host([disabled]){pointer-events:none;opacity:.4}:host([vertical]){width:fit-content;height:200px}#main{display:flex;flex-flow:column;width:100%;height:100%}:host([vertical]) #main{flex-flow:row}#tracks-and-thumbs{position:relative;width:100%;height:100%}#range-track{position:absolute;width:0%;height:3px;background:#000;top:50%;transform:translateY(-50%)}:host([vertical]) #range-track{width:3px;height:0%;top:initial;left:50%;transform:translateX(-50%)}#groove-track{position:absolute;width:100%;height:3px;background:gray;border-radius:10px;top:50%;transform:translateY(-50%)}:host([vertical]) #groove-track{width:3px;height:100%;top:initial;left:50%;transform:translateX(-50%)}#buffer-track{position:absolute;width:0%;height:3px;background:red;top:50%;transform:translateY(-50%)}:host([vertical]) #buffer-track{width:3px;height:0%;top:initial;left:50%;transform:translateX(-50%)}#thumbs{position:relative;width:calc(100% - var(--computed-thumb-width));height:100%;margin:0 auto}:host([vertical]) #thumbs{height:calc(100% - var(--computed-thumb-height));width:100%;margin:auto 0}#thumbs .thumb{position:absolute;top:0;left:0;width:20px;height:20px;margin-left:calc(var(--computed-thumb-width)/ -2);box-sizing:border-box;background:gray;border:1px solid rgba(0,0,0,.2)}:host([vertical]) #thumbs .thumb{margin-left:0}#thumbs .thumb:first-child{position:relative}#thumbs .thumb:focus{outline:0;z-index:2}#ticks{position:relative;width:calc(100% - var(--computed-thumb-width));margin:0 calc(var(--computed-thumb-width)/ 2)}:host([vertical]) #ticks{width:initial;height:calc(100% - var(--computed-thumb-height));margin:calc(var(--computed-thumb-height)/ 2) 0}#ticks:empty{display:none}#ticks .tick{position:absolute;left:0;top:0;width:1px;height:5px;background:rgba(0,0,0,.4)}:host([vertical]) #ticks .tick{width:5px;height:1px;left:0;top:0}#ticks .tick:first-child{position:relative}#labels{position:relative;width:calc(100% - var(--computed-thumb-width));margin:0 calc(var(--computed-thumb-width)/ 2)}:host([vertical]) #labels{width:initial;height:calc(100% - var(--computed-thumb-height));margin:calc(var(--computed-thumb-height)/ 2) 0}:host(:empty) #labels{display:none}::slotted(x-label){display:inline-block;top:0;position:absolute;vertical-align:top;transform:translateX(-50%);white-space:nowrap}:host([vertical]) ::slotted(x-label){top:initial;left:4px;transform:translateY(-50%)}`;get min(){return this.hasAttribute("min")?parseFloat(this.getAttribute("min")):0}set min(t){this.setAttribute("min",t)}get max(){return this.hasAttribute("max")?parseFloat(this.getAttribute("max")):100}set max(t){this.setAttribute("max",t)}get value(){if(this.hasAttribute("value")){let t=this.getAttribute("value").split(/[ ,]+/);return 2<=t.length?t.map(t=>parseFloat(t)).slice(0,2):parseFloat(t[0])}return this.max>=this.min?this.min+(this.max-this.min)/2:this.min}set value(t){Array.isArray(t)?((t=t.map(t=>l(t,this.min,this.max))).length=2,this.setAttribute("value",t.join(" "))):(t=l(t,this.min,this.max),this.setAttribute("value",t))}get buffer(){if(this.hasAttribute("buffer")){let t=this.getAttribute("buffer").split(/[ ,]+/);return 2<=t.length?t.map(t=>parseFloat(t)).slice(0,2):[0,parseFloat(t[0])]}return[0,0]}set buffer(t){(t=t.map(t=>l(t,this.min,this.max))).length=2,this.setAttribute("buffer",t.join(" "))}get step(){return this.hasAttribute("step")?parseFloat(this.getAttribute("step")):1}set step(t){this.setAttribute("step",t)}get vertical(){return this.hasAttribute("vertical")}set vertical(t){t?this.setAttribute("vertical",""):this.removeAttribute("vertical")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}get dragging(){return this.getAttribute("dragging")}_shadowRoot=null;I={};yt=0;B=null;Yi=new MutationObserver(t=>this.Wi(t));ls=new ResizeObserver(()=>this.rs());constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed",delegatesFocus:!0}),this._shadowRoot.adoptedStyleSheets=[Xt._shadowStyleSheet],this._shadowRoot.append(document.importNode(Xt._shadowTemplate.content,!0));for(var t of this._shadowRoot.querySelectorAll("[id]"))this.I[t.id]=t;this._shadowRoot.addEventListener("pointerdown",t=>this.vi(t)),this.addEventListener("pointerdown",t=>this.zt(t)),this.addEventListener("keydown",t=>this.kt(t))}connectedCallback(){this.setAttribute("value",this.value),F.addEventListener("sizechange",this.B=()=>this.U()),this.ls.observe(this.I["start-thumb"]),this.Yi.observe(this,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"],characterData:!1}),this.ds(),this.us(),this.cs(),this.Ct(),this.U()}disconnectedCallback(){F.removeEventListener("sizechange",this.B),this.ls.unobserve(this.I["start-thumb"]),this.Yi.disconnect()}attributeChangedCallback(t,e,i){e!==i&&("value"===t?this.ot():"buffer"===t?this.ps():"min"===t?this.Ei():"max"===t?this.Ai():"size"===t&&this.lt())}ot(){this.ds(),this.us()}ps(){this.ds()}Ei(){this.ds(),this.us(),this.cs()}Ai(){this.ds(),this.us(),this.cs()}lt(){this.U()}Wi(t){for(var e of t){if("attributes"===e.type&&e.target===this)return;this.bs()}}rs(){var t=this.I["start-thumb"].getBoundingClientRect();this.I.main.style.setProperty("--computed-thumb-width",t.width+"px"),this.I.main.style.setProperty("--computed-thumb-height",t.height+"px")}zt(e){if(!1===this.matches(":focus")){e.preventDefault();let t=W(this.parentNode,"[tabindex]");t&&t.focus()}}vi(s){if(1===s.buttons&&!1!==s.isPrimary){let t,e,n=null,{width:o,height:a}=this.I["start-thumb"].getBoundingClientRect(),h=this.I.main.getBoundingClientRect(),d=!1;var u,c,p,m;n=s.target.matches(".thumb")?s.target:!0===this.I["end-thumb"].hidden?this.I["start-thumb"]:(c=this.I["start-thumb"].getBoundingClientRect(),p=this.I["end-thumb"].getBoundingClientRect(),u=new DOMPoint(c.x+c.width/2,c.y+c.height/2),c=new DOMPoint(p.x+p.width/2,p.y+p.height/2),p=new DOMPoint(s.clientX,s.clientY),r(p,u)<=r(p,c)?this.I["start-thumb"]:this.I["end-thumb"]);let i=(t,e)=>{let i=0;var s;i=this.vertical?(e=h.y+h.height-a/2-e,(e=l(e,0,h.height-a))/(h.height-a)*(this.max-this.min)+this.min):(s=t-(h.x+o/2),(s=l(s,0,h.width-o))/(h.width-o)*(this.max-this.min)+this.min),i=Kt(i,this.step),Array.isArray(this.value)?([t,s]=this.value,n===this.I["start-thumb"]?(i>=s&&(i=s),i!==t&&(!(this.value=[i,s])===d&&(d=!0,this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}))),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))):n===this.I["end-thumb"]&&(i<=t&&(i=t),i!==s&&(!(this.value=[t,i])===d&&(d=!0,this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}))),this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))))):this.value!==i&&(this.value=i,!1===d&&(d=!0,this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}))),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))};n.setPointerCapture(s.pointerId),this.setAttribute("dragging",n.dataset.value),i(s.clientX,s.clientY);for(m of this.I.thumbs.children)m.style.zIndex=m===n?"1":"0";n.addEventListener("pointermove",t=t=>{t.isPrimary&&i(t.clientX,t.clientY)}),n.addEventListener("lostpointercapture",e=()=>{n.removeEventListener("pointermove",t),n.removeEventListener("lostpointercapture",e),this.removeAttribute("dragging"),d&&this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0}))})}}kt(i){if("ArrowLeft"===i.code||"ArrowDown"===i.code){i.preventDefault(),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));var s=this.value;if(Array.isArray(this.value)){let[t,e]=this.value;this._shadowRoot.activeElement===this.I["start-thumb"]?i.shiftKey?t-=10*this.step:t-=this.step:this._shadowRoot.activeElement===this.I["end-thumb"]&&(i.shiftKey?e-=10*this.step:e-=this.step,e<=t&&(e=t)),!(this.value=[t,e])===jt(s,this.value)&&this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))}else i.shiftKey?this.value-=10*this.step:this.value-=this.step,s!==this.value&&this.dispatchEvent(new CustomEvent("change",{bubbles:!0}));this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0}))}else if("ArrowRight"===i.code||"ArrowUp"===i.code){i.preventDefault(),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));s=this.value;if(Array.isArray(this.value)){let[t,e]=this.value;this._shadowRoot.activeElement===this.I["start-thumb"]?(i.shiftKey?t+=10*this.step:t+=this.step,t>=e&&(t=e)):this._shadowRoot.activeElement===this.I["end-thumb"]&&(i.shiftKey?e+=10*this.step:e+=this.step),!(this.value=[t,e])===jt(s,this.value)&&this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))}else i.shiftKey?this.value+=10*this.step:this.value+=this.step,s!==this.value&&this.dispatchEvent(new CustomEvent("change",{bubbles:!0}));this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0}))}}us(){var t,e;Array.isArray(this.value)?([t,e]=this.value,t=(t-this.min)/(this.max-this.min)*100,this.vertical?this.I["start-thumb"].style.top=100-t+"%":this.I["start-thumb"].style.left=t+"%",this.I["start-thumb"].hidden=!1,e=(e-this.min)/(this.max-this.min)*100,this.vertical?this.I["end-thumb"].style.top=100-e+"%":this.I["end-thumb"].style.left=e+"%",this.I["end-thumb"].hidden=!1):(e=(this.value-this.min)/(this.max-this.min)*100,this.vertical?this.I["start-thumb"].style.top=100-e+"%":this.I["start-thumb"].style.left=e+"%",this.I["start-thumb"].hidden=!1,this.I["end-thumb"].hidden=!0)}ds(){var t,e;Array.isArray(this.value)?([t,e]=this.value,t=(t-this.min)/(this.max-this.min)*100,e=(e-this.min)/(this.max-this.min)*100,this.vertical?(this.I["range-track"].style.bottom=`${t}%`,this.I["range-track"].style.height=e-t+"%"):(this.I["range-track"].style.left=`${t}%`,this.I["range-track"].style.width=e-t+"%")):(s=(this.value-this.min)/(this.max-this.min)*100,i=((0<this.min?this.min:0)-this.min)/(this.max-this.min)*100,this.vertical?i<=s?(this.I["range-track"].style.bottom=`${i}%`,this.I["range-track"].style.height=s-i+"%"):(this.I["range-track"].style.bottom=`${s}%`,this.I["range-track"].style.height=i-s+"%"):i<=s?(this.I["range-track"].style.left=`${i}%`,this.I["range-track"].style.width=s-i+"%"):(this.I["range-track"].style.left=`${s}%`,this.I["range-track"].style.width=i-s+"%"));var[i,s]=this.buffer,i=(i-this.min)/(this.max-this.min)*100,s=(s-this.min)/(this.max-this.min)*100;this.vertical?(this.I["buffer-track"].style.bottom=i+"%",this.I["buffer-track"].style.height=s-i+"%"):(this.I["buffer-track"].style.left=i+"%",this.I["buffer-track"].style.width=s-i+"%")}async cs(){await customElements.whenDefined("x-label"),this.I.ticks.innerHTML="";for(var t of this.querySelectorAll(":scope > x-label"))this.vertical?t.style.top=100-(t.value-this.min)/(this.max-this.min)*100+"%":t.style.left=(t.value-this.min)/(this.max-this.min)*100+"%",t===this.firstElementChild?t.style.position="relative":t.style.position=null,this.vertical?this.I.ticks.insertAdjacentHTML("beforeend",`<div class="tick" part="tick" style="top: ${t.style.top}"></div>`):this.I.ticks.insertAdjacentHTML("beforeend",`<div class="tick" part="tick" style="left: ${t.style.left}"></div>`)}bs=et(this.cs,500,this);Ct(){this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.yt=0<this.tabIndex?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=0<this.yt?this.yt:0),this.yt=0)}U(){var t=F.size,e=this.size,i="medium";"medium"===(i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e)?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}}customElements.define("x-slider",Xt);class Vt extends HTMLElement{static observedAttributes=["disabled"];static _shadowTemplate=R`
    <template>
      <div id="decrement-button" part="decrement-button" class="button">
        <svg id="decrement-arrow" part="decrement-arrow" viewBox="0 0 100 100" preserveAspectRatio="none">
          <path id="decrement-arrow-path"></path>
        </svg>
      </div>

      <div id="increment-button" part="increment-button" class="button">
        <svg id="increment-arrow" part="increment-arrow" viewBox="0 0 100 100" preserveAspectRatio="none">
          <path id="increment-arrow-path"></path>
        </svg>
      </div>
    </template>
  `;static _shadowStyleSheet=I`:host{display:flex;flex-flow:column-reverse;align-items:center;justify-content:center;box-sizing:border-box;height:100%;width:fit-content;color:rgba(0,0,0,.6)}:host(:hover){cursor:default}:host([disabled=""]){opacity:.5;pointer-events:none}.button{display:flex;align-items:center;justify-content:center;width:100%;height:100%;user-select:none;box-sizing:border-box;color:inherit;border-left:none}.button[data-pressed]{color:#fff;background:rgba(0,0,0,.3)}:host([disabled=decrement]) #decrement-button,:host([disabled=increment]) #increment-button{opacity:.3;pointer-events:none}#increment-arrow{width:11px;height:11px;pointer-events:none;d:path("M 24 69 L 50 43 L 76 69 L 69 76 L 50 58 L 31 76 L 24 69 Z" )}#decrement-arrow{width:11px;height:11px;pointer-events:none;d:path("M 24 32 L 50 58 L 76 32 L 69 25 L 50 44 L 31 25 L 24 32 Z" )}#decrement-arrow-path,#increment-arrow-path{d:inherit;fill:currentColor}`;get disabled(){return!!this.hasAttribute("disabled")&&("increment"===this.getAttribute("disabled")?"increment":"decrement"!==this.getAttribute("disabled")||"decrement")}set disabled(t){!0===t?this.setAttribute("disabled",""):!1===t?this.removeAttribute("disabled"):this.setAttribute("disabled",t)}_shadowRoot=null;I={};gs=null;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[Vt._shadowStyleSheet],this._shadowRoot.append(document.importNode(Vt._shadowTemplate.content,!0));for(var t of this._shadowRoot.querySelectorAll("[id]"))this.I[t.id]=t;this._shadowRoot.addEventListener("pointerdown",t=>this.zt(t))}connectedCallback(){"x-numberinput"===this.parentElement.localName&&(this.gs=this.parentElement,this.gs.setAttribute("hasstepper",""))}disconnectedCallback(){this.gs&&(null===this.gs.querySelector(":scope > x-stepper")&&this.gs.removeAttribute("hasstepper",""),this.gs=null)}attributeChangedCallback(t){"disabled"===t&&this.qt()}qt(){this.hasAttribute("disabled")&&(this.removeAttribute("pressed"),this.I["increment-button"].removeAttribute("data-pressed"),this.I["decrement-button"].removeAttribute("data-pressed"))}zt(s){let r=s.target.closest(".button"),n=null;if(r===this.I["increment-button"]?n="increment":r===this.I["decrement-button"]&&(n="decrement"),1===s.buttons&&null!==n){{let i=Date.now();r.setAttribute("data-pressed",""),this.setAttribute("pressed",n),this.setPointerCapture(s.pointerId),this.addEventListener("lostpointercapture",async t=>{var e=Date.now()-i;e<100&&await Q(100-e),r.removeAttribute("data-pressed"),this.removeAttribute("pressed")},{once:!0})}{let e=null,t=Date.now(),{shiftKey:i}=s;this.dispatchEvent(new CustomEvent(n+"start",{bubbles:!0})),this.dispatchEvent(new CustomEvent(n,{bubbles:!0,detail:{shiftKey:i}})),this.addEventListener("lostpointercapture",t=>{clearInterval(e),this.dispatchEvent(new CustomEvent(n+"end",{bubbles:!0}))},{once:!0}),e=setInterval(()=>{500<Date.now()-t&&this.dispatchEvent(new CustomEvent(n,{bubbles:!0,detail:{shiftKey:i}}))},100)}}}}customElements.define("x-stepper",Vt);class Zt extends HTMLElement{static observedAttributes=["value","size"];static _shadowTemplate=R`
    <template>
      <div id="preview"></div>
    </template>
  `;static _shadowStyleSheet=I`:host{display:block;width:18px;height:18px;cursor:default;box-sizing:border-box;overflow:hidden}#preview{width:100%;height:100%;position:relative}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):"white"}set value(t){this.setAttribute("value",t)}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}_shadowRoot=null;I={};B=null;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[Zt._shadowStyleSheet],this._shadowRoot.append(document.importNode(Zt._shadowTemplate.content,!0));for(var t of this._shadowRoot.querySelectorAll("[id]"))this.I[t.id]=t}connectedCallback(){this.xs(),this.U(),F.addEventListener("sizechange",this.B=()=>this.U())}disconnectedCallback(){F.removeEventListener("sizechange",this.B)}attributeChangedCallback(t){"value"===t?this.xs():"size"===t&&this.U()}xs(){this.I.preview.style.background=this.value}U(){var t=F.size,e=this.size,i="medium";"medium"===(i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e)?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}}customElements.define("x-swatch",Zt);class Gt extends HTMLElement{static observedAttributes=["toggled","disabled","size"];static _shadowTemplate=R`
    <template>
      <main id="main">
        <div id="indicator" part="indicator">
          <div id="indicator-track" part="indicator-track">
            <div id="indicator-thumb" part="indicator-thumb"></div>
          </div>
        </div>

        <div id="description">
          <slot></slot>
        </div>
      </main>
    </template>
  `;static _shadowStyleSheet=I`:host{display:block;width:fit-content;margin:2px 0}:host([disabled]){opacity:.4;pointer-events:none}#main{display:flex;align-items:center}#indicator{position:relative;width:34px;height:15px;display:flex;align-items:center}#indicator-track{display:flex;align-items:center;width:100%;height:65%;background:currentColor;border-radius:999px}#indicator-thumb{position:absolute;left:0;width:16px;height:16px;background:currentColor;border-radius:999px;transition:left .2s cubic-bezier(.4, 0, .2, 1)}:host([toggled]) #indicator-thumb{left:calc(100% - 16px)}:host([mixed]) #indicator-thumb{left:calc(50% - 16px / 2)}#description{flex:1}`;get toggled(){return this.hasAttribute("toggled")}set toggled(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled")}get mixed(){return this.hasAttribute("mixed")}set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}_shadowRoot=null;I={};yt=0;B=null;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[Gt._shadowStyleSheet],this._shadowRoot.append(document.importNode(Gt._shadowTemplate.content,!0));for(var t of this._shadowRoot.querySelectorAll("[id]"))this.I[t.id]=t;this.addEventListener("pointerdown",t=>this.zt(t)),this.addEventListener("click",t=>this.N(t)),this.addEventListener("keydown",t=>this.kt(t))}connectedCallback(){F.addEventListener("sizechange",this.B=()=>this.U()),this.Ct(),this.U()}disconnectedCallback(){F.removeEventListener("sizechange",this.B)}attributeChangedCallback(t){"toggled"===t?this.Nt():"disabled"===t?this.qt():"size"===t&&this.U()}Ct(){this.setAttribute("role","switch"),this.setAttribute("aria-checked",this.mixed?"mixed":this.toggled),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.yt=0<this.tabIndex?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=0<this.yt?this.yt:0),this.yt=0)}U(){var t=F.size,e=this.size,i="medium";"medium"===(i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e)?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}Nt(){this.setAttribute("aria-checked",this.mixed?"mixed":this.toggled)}qt(){this.Ct()}zt(e){if(1===e.buttons){if(!1===this.matches(":focus")){e.preventDefault();let t=W(this.parentNode,"[tabindex]");t&&t.focus()}}else e.preventDefault()}async N(t){this.mixed?this.mixed=!1:this.toggled=!this.toggled,this.dispatchEvent(new CustomEvent("toggle"))}kt(t){"Enter"!==t.code&&"Space"!==t.code||(t.preventDefault(),this.click())}}customElements.define("x-switch",Gt);let{max:Yt}=Math;class Wt extends HTMLElement{static observedAttributes=["selected","disabled","size"];static _shadowTemplate=R`
    <template>
      <div id="ripples"></div>
      <div id="selection-indicator" part="selection-indicator"></div>
      <div id="content">
        <slot></slot>
      </div>
    </template>
  `;static _shadowStyleSheet=I`:host{position:relative;display:flex;align-items:center;justify-content:center;min-height:30px;padding:2px 12px;box-sizing:border-box;cursor:default;user-select:none;box-sizing:border-box;font-size:14px;--trigger-effect:none}:host(:focus){z-index:10;outline:0}#content{display:inherit;flex-flow:inherit;align-items:inherit;z-index:100}#ripples{position:absolute;z-index:0;top:0;left:0;width:100%;height:100%;overflow:hidden;pointer-events:none}#ripples .ripple{position:absolute;top:0;left:0;width:200px;height:200px;background:currentColor;opacity:.2;border-radius:999px;transform:none;transition:all .8s cubic-bezier(.4, 0, .2, 1);will-change:opacity,transform;pointer-events:none}#selection-indicator{display:none;width:100%;height:0;background:var(--accent-color);position:absolute;bottom:0;left:0}:host([selected]) #selection-indicator{display:block}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):""}set value(t){this.setAttribute("value",t)}get selected(){return this.hasAttribute("selected")}set selected(t){t?this.setAttribute("selected",""):this.removeAttribute("selected")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}_shadowRoot=null;I={};B=null;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[Wt._shadowStyleSheet],this._shadowRoot.append(document.importNode(Wt._shadowTemplate.content,!0));for(var t of this._shadowRoot.querySelectorAll("[id]"))this.I[t.id]=t;this.addEventListener("pointerdown",t=>this.zt(t)),this.addEventListener("click",t=>this.N(t))}connectedCallback(){this.Ct(),this.U(),F.addEventListener("sizechange",this.B=()=>this.U())}disconnectedCallback(){F.removeEventListener("sizechange",this.B)}attributeChangedCallback(t){"selected"===t||"disabled"===t?this.Ct():"size"===t&&this.U()}animateSelectionIndicator(s){return new Promise(async t=>{var e,i;"0px"!==this.I["selection-indicator"].style.height&&(e=this.getBoundingClientRect(),i=s.getBoundingClientRect(),await this.I["selection-indicator"].animate([{left:"0px",width:e.width+"px"},{left:i.left-e.left+"px",width:i.width+"px"}],{duration:100,iterations:1,delay:0,easing:"cubic-bezier(0.4, 0.0, 0.2, 1)"}).finished),t()})}Ct(){this.setAttribute("role","tab"),this.setAttribute("aria-selected",this.selected),this.setAttribute("aria-disabled",this.disabled),this.setAttribute("tabindex",this.selected?"0":"-1")}U(){var t=F.size,e=this.size,i="medium";"medium"===(i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e)?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}async zt(o){if(!1===this.matches(":focus")){o.preventDefault();let t=W(this.parentNode,"[tabindex]");t&&t.focus()}if(1===o.buttons){{let i=Date.now();this.setAttribute("pressed",""),this.setPointerCapture(o.pointerId),this.addEventListener("lostpointercapture",async t=>{var e;!0!==this.selected||(e=Date.now()-i)<100&&await Q(100-e),this.removeAttribute("pressed")},{once:!0})}if("ripple"===getComputedStyle(this).getPropertyValue("--trigger-effect").trim()){let t=this.I.ripples.getBoundingClientRect(),e=1.5*Yt(t.width,t.height),i=o.clientY-t.y-e/2,s=o.clientX-t.x-e/2,r=new Promise(t=>this.addEventListener("lostpointercapture",t,{once:!0})),n=G("div");n.setAttribute("part","ripple"),n.setAttribute("class","ripple pointer-down-ripple"),n.setAttribute("style",`width: ${e}px; height: ${e}px; top: ${i}px; left: ${s}px;`),this.I.ripples.append(n),this.setPointerCapture(o.pointerId),n.hidden=!0,await Q(10),n.hidden=!1;o=n.animate({transform:["scale(0)","scale(1)"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});await r,await o.finished;o=getComputedStyle(n).opacity;await n.animate({opacity:[o,"0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"}).finished,n.remove()}}}async N(t){if(null===this.I.ripples.querySelector(".pointer-down-ripple")&&"ripple"===getComputedStyle(this).getPropertyValue("--trigger-effect").trim()){let t=this.I.ripples.getBoundingClientRect(),e=1.5*Yt(t.width,t.height),i=t.y+t.height/2-t.y-e/2,s=t.x+t.width/2-t.x-e/2,r=G("div");r.setAttribute("part","ripple"),r.setAttribute("class","ripple click-ripple"),r.setAttribute("style",`width: ${e}px; height: ${e}px; top: ${i}px; left: ${s}px;`),this.I.ripples.append(r),await r.animate({transform:["scale(0)","scale(1)"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"}).finished;var n=getComputedStyle(r).opacity;await r.animate({opacity:[n,"0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"}).finished,r.remove()}}}customElements.define("x-tab",Wt);class Jt extends HTMLElement{static _shadowTemplate=R`
    <template>
      <slot></slot>
    </template>
  `;static _shadowStyleSheet=I`:host{position:relative;display:flex;margin:0 auto;width:fit-content;max-width:100%;box-sizing:border-box;justify-content:center}::slotted(x-tab){flex:0}`;get value(){var t=this.querySelector("x-tab[selected]");return t?t.value:null}set value(e){let t=[...this.querySelectorAll("x-tab")],i=null===e?null:t.find(t=>t.value===e);for(var s of t)s.selected=s===i}_shadowRoot=null;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[Jt._shadowStyleSheet],this._shadowRoot.append(document.importNode(Jt._shadowTemplate.content,!0)),this.addEventListener("click",t=>this.N(t)),this.addEventListener("keydown",t=>this.kt(t))}connectedCallback(){this.setAttribute("role","tablist")}async N(s){if(0===s.button&&s.target.closest("x-tab")){let t=this.querySelectorAll("x-tab"),e=s.target.closest("x-tab"),i=this.querySelector("x-tab[selected]");if(e!==i){i&&await i.animateSelectionIndicator(e);for(var r of t)r.selected=r===e;this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))}}}kt(e){if("Enter"===e.code||"Space"===e.code){let t=e.target;t.querySelector("x-label"),e.preventDefault(),t.click()}else if("ArrowLeft"===e.code){let i=[...this.querySelectorAll("x-tab:not([disabled])")],s=this.querySelector('x-tab[tabindex="0"]');if(e.target,e.preventDefault(),s&&0<i.length){let t=i.indexOf(s),e=i[t-1]||i[i.length-1];s.tabIndex=-1,e.tabIndex=0,e.focus()}}else if("ArrowRight"===e.code){let i=[...this.querySelectorAll("x-tab:not([disabled])")],s=this.querySelector('x-tab[tabindex="0"]');if(e.target,e.preventDefault(),s&&0<i.length){let t=i.indexOf(s),e=i[t+1]||i[0];s.tabIndex=-1,e.tabIndex=0,e.focus()}}}}customElements.define("x-tabs",Jt);class Qt extends HTMLElement{static observedAttributes=["disabled","size"];static _shadowTemplate=R`
    <template>
      <div id="container">
        <div id="scope" part="scope">
          <slot id="scope-slot" name="scope"></slot>
        </div>

        <main id="main" part="main">
          <slot></slot>

          <svg id="remove-button" part="remove-button" viewBox="0 0 100 100">
            <path id="remove-button-path"></path>
          </svg>
        </main>
      </div>
    </template>
  `;static _shadowStyleSheet=I`:host{display:inline-block;height:25px;box-sizing:border-box;overflow:hidden;color:var(--text-color);border-width:1px;border-style:solid}:host([toggled]){background:gray;color:#fff;outline:0}:host([disabled]){opacity:.5}:host([hidden]){display:none}:host(:focus){outline:0}#container{width:100%;height:100%;display:flex;align-items:center;justify-content:center}#scope{height:100%;padding:0 6px;display:none;align-items:center;justify-content:center;border-right-width:1px;border-right-style:solid}:host([scoped]) #scope{display:flex}#main{height:100%;padding:0 6px;display:flex;align-items:center;justify-content:center}#remove-button{display:none;opacity:.8;width:12px;height:12px;vertical-align:middle;margin-left:4px;d:path("M 25 16 L 50 41 L 75 16 L 84 25 L 59 50 L 84 75 L 75 84 L 50 59 L 25 84 L 16 75 L 41 50 L 16 25 Z");fill:currentColor;color:inherit}:host([removable]) #remove-button{display:block}#remove-button:hover{background:rgba(0,0,0,.1);opacity:1}#remove-button path{d:inherit;fill:inherit;pointer-events:none}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):null}set value(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t)}get removable(){return this.hasAttribute("removable")}set removable(t){t?this.setAttribute("removable",""):this.removeAttribute("removable")}get toggled(){return this.hasAttribute("toggled")}set toggled(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}_shadowRoot=null;I={};B=null;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[Qt._shadowStyleSheet],this._shadowRoot.append(document.importNode(Qt._shadowTemplate.content,!0));for(var t of this._shadowRoot.querySelectorAll("[id]"))this.I[t.id]=t;this.I["scope-slot"].addEventListener("slotchange",()=>this.fs()),this.I["remove-button"].addEventListener("click",t=>this.ws(t))}connectedCallback(){this.U(),this.fs(),F.addEventListener("sizechange",this.B=()=>this.U()),this.closest("x-tags")?(this.tabIndex=0,this.removable=!1):this.closest("x-tagsinput")?(this.toggled=!1,this.tabIndex=0,this.removable=!0):this.removable=!1}disconnectedCallback(){F.removeEventListener("sizechange",this.B)}attributeChangedCallback(t){"size"===t&&this.U()}ws(t){0===t.buttons&&this.dispatchEvent(new CustomEvent("remove",{bubbles:!0}))}U(){var t=F.size,e=this.size,i="medium";"medium"===(i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e)?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}fs(){0===this.I["scope-slot"].assignedElements().length?this.removeAttribute("scoped"):this.setAttribute("scoped","")}}customElements.define("x-tag",Qt);class te extends HTMLElement{static _shadowTemplate=R`
    <template>
      <slot></slot>
    </template>
  `;static _shadowStyleSheet=I`:host{display:flex;box-sizing:border-box;align-items:center;justify-content:flex-start}:host([hidden]){display:none}`;get value(){return[...this.children].filter(t=>"x-tag"===t.localName).filter(t=>t.toggled).map(t=>t.value).filter(t=>null!==t)}set value(t){var e;for(e of[...this.children].filter(t=>"x-tag"===t.localName))e.toggled=t.includes(e.value)}_shadowRoot=null;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[te._shadowStyleSheet],this._shadowRoot.append(document.importNode(te._shadowTemplate.content,!0)),this.addEventListener("pointerdown",t=>this.zt(t)),this.addEventListener("click",t=>this.N(t)),this.addEventListener("keydown",t=>this.kt(t))}zt(t){if(1===t.buttons){if(t.preventDefault(),!1===this.matches(":focus")){let t=W(this.parentNode,"*[tabindex]:not(a)");this.addEventListener("lostpointercapture",()=>{t?t.focus():this.blur()},{once:!0})}}else t.preventDefault()}N(t){let e=t.target.closest("x-tag");e&&!1===t.defaultPrevented&&(e.toggled=!e.toggled,this.dispatchEvent(new CustomEvent("toggle",{detail:e})))}kt(e){if(!1===e.defaultPrevented)if("Enter"===e.code||"Space"===e.code){let t=this.querySelector("x-tag:focus");t&&(e.preventDefault(),t.click())}else if("ArrowRight"===e.key){let t=this.querySelector("x-tag:focus");t&&(t.nextElementSibling?t.nextElementSibling.focus():t!==t.parentElement.firstElementChild&&t.parentElement.firstElementChild.focus())}else if("ArrowLeft"===e.key){let t=this.querySelector("x-tag:focus");t&&(t.previousElementSibling?t.previousElementSibling.focus():t!==t.parentElement.lastElementChild&&t.parentElement.lastElementChild.focus())}}}customElements.define("x-tags",te);class ee extends HTMLElement{static observedAttributes=["spellcheck","disabled","size"];static _shadowTemplate=R`
    <template>
      <main id="main">
        <div id="tags">
          <slot></slot>
          <span id="input" part="input" spellcheck="false" tabindex="0"></span>
        </div>
      </main>

      <x-popover id="suggestions-popover" part="suggestions">
        <div id="suggested-tags"></div>
      </x-popover>
    </template>
  `;static _shadowStyleSheet=I`:host{display:block;position:relative;min-height:29px;border:1px solid #bfbfbf;font-size:12px}:host(:focus){z-index:10}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}::selection{color:var(--selection-color);background-color:var(--selection-background-color)}:host([error]) ::selection{color:#fff;background-color:#d50000}#main{width:100%;height:100%;cursor:text}#tags{display:flex;flex-wrap:wrap}:host([mixed]) #tags{opacity:.7}#input{align-items:center;justify-content:flex-start;height:25px;margin:2px;padding:0 3px 0 6px;box-sizing:border-box;line-height:25px;color:inherit;outline:0;white-space:pre;cursor:text;user-select:text;pointer-events:none}#input[contenteditable]:focus{flex-grow:1;pointer-events:all}#suggestions-popover{width:200px;max-height:200px;padding:4px;box-sizing:border-box}#suggestions-popover #suggested-tags{flex:1;overflow:auto}#suggestions-popover x-tag{display:block;margin:4px 0 0 0}#suggestions-popover x-tag:first-child{margin-top:0}:host([error])::before{position:absolute;left:0;top:35px;white-space:pre;content:attr(error);font-size:11px;line-height:1.2;pointer-events:none}`;get value(){return[...this.children].filter(t=>"x-tag"===t.localName).map(t=>t.value).filter(t=>null!==t)}get delimiter(){return this.hasAttribute("delimiter")?this.getAttribute("delimiter"):","}set delimiter(t){this.setAttribute("delimiter",t)}get spellcheck(){return this.hasAttribute("spellcheck")}set spellcheck(t){t?this.setAttribute("spellcheck",""):this.removeAttribute("spellcheck")}get mixed(){return this.hasAttribute("mixed")}set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed")}get required(){return this.hasAttribute("required")}set required(t){t?this.setAttribute("required",""):this.removeAttribute("required")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get suggestions(){return this.hasAttribute("suggestions")}set suggestions(t){t?this.setAttribute("suggestions",""):this.removeAttribute("suggestions")}get error(){return this.getAttribute("error")}set error(t){null===t?this.removeAttribute("error"):this.setAttribute("error",t)}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}_shadowRoot=null;I={};yt=0;B=null;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed",delegatesFocus:!0}),this._shadowRoot.adoptedStyleSheets=[F.themeStyleSheet,ee._shadowStyleSheet],this._shadowRoot.append(document.importNode(ee._shadowTemplate.content,!0));for(var t of this._shadowRoot.querySelectorAll("[id]"))this.I[t.id]=t;this.addEventListener("focusout",t=>this.matches(":focus-within")?null:this.te(t)),this.I.input.addEventListener("focusin",t=>this.vs(t)),this.I.input.addEventListener("focusout",t=>this.ys(t)),this._shadowRoot.addEventListener("pointerdown",t=>this.vi(t)),this._shadowRoot.addEventListener("remove",t=>this.ws(t)),this._shadowRoot.addEventListener("keydown",t=>this.kt(t)),this.I.input.addEventListener("input",t=>this.fe(t))}connectedCallback(){this.zs(),this.Ct(),this.U(),F.addEventListener("sizechange",this.B=()=>this.U())}disconnectedCallback(){F.removeEventListener("sizechange",this.B)}attributeChangedCallback(t,e,i){e!==i&&("spellcheck"===t?this.ye():"disabled"===t?this.qt():"size"===t&&this.lt())}clear(){var t=[...this.children].filter(t=>"x-tag"===t.localName);if(0<t.length){for(var e of t)e.remove(),this.dispatchEvent(new CustomEvent("remove",{detail:e}));this.error=null,this.ks(),this.zs(),this.dispatchEvent(new CustomEvent("change"))}}getSuggestions(t){return[]}_s(){let t=new Range;t.selectNodeContents(this.I.input);let e=t.getBoundingClientRect();return 0===e.x&&0===e.width&&(e=this.I.input.getBoundingClientRect(),e.width=20),e}Cs(){let e=this.I.input.textContent.trim();if(this.I.input.textContent="",0<e.length&&!1===this.value.includes(e)){let t;var i,s;t=e.includes(":")?([i,s]=e.split(":").map(t=>t.trim()),R`
            <x-tag class="tag" value="${e}" removable>
              <x-label slot="scope">${i}</x-label>
              <x-label>${s}</x-label>
            </x-tag>
          `):R`
            <x-tag class="tag" value="${e}" removable>
              <x-label>${e}</x-label>
            </x-tag>
          `,this.append(t),this.ks(),this.zs(),this.dispatchEvent(new CustomEvent("add",{detail:t})),this.dispatchEvent(new CustomEvent("change"))}}vi(t){var e;t.target===this.I.main||t.target===this.I.tags?(t.preventDefault(),this.I.input.setAttribute("contenteditable",""),this.Ss()):t.target===this.I.input?(this.I.input.setAttribute("contenteditable",""),this.ks()):t.target.closest("x-popover")?(t.preventDefault(),(e=t.target.closest("x-tag"))&&(this.I.input.textContent="",this.I["suggestions-popover"].close(),this.append(e),this.dispatchEvent(new CustomEvent("add",{detail:e})),this.dispatchEvent(new CustomEvent("change")))):t.target.closest("x-tag")&&(this.I.input.focus(),this.Cs())}ws(t){t.stopPropagation();let e=t.target;e.remove(),this.zs(),this.dispatchEvent(new CustomEvent("remove",{detail:e})),this.dispatchEvent(new CustomEvent("change"))}ye(){this.I.input.spellcheck=this.spellcheck}qt(){this.Ct()}lt(){this.U()}te(){this.required&&0===[...this.children].filter(t=>"x-tag"===t.localName).length&&(this.error="This field is required")}async vs(){this.I.input.setAttribute("contenteditable",""),this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0})),await Q(10),this.I.input.matches(":focus")&&(this.Ss(),this.ks())}ys(){this.Cs(),this.I.input.removeAttribute("contenteditable"),this.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0})),this.hasAttribute("error")&&(this.I.input.textContent="",this.removeAttribute("error")),this.I["suggestions-popover"].close()}fe(t){this.I.input.textContent.includes(this.delimiter)&&this.Cs(),this.zs(),this.hasAttribute("error")&&this.removeAttribute("error"),this.dispatchEvent(new CustomEvent("input")),this.ks(t.inputType)}kt(n){if("Enter"===n.key)n.target===this.I.input&&(n.preventDefault(),this.Cs());else if("Backspace"===n.key){if(n.target===this.I.input){if(0===this.I.input.textContent.length){let t=[...this.children].filter(t=>"x-tag"===t.localName),e=t[t.length-1]||null;e&&(e.remove(),this.ks(),this.zs(),this.dispatchEvent(new CustomEvent("remove",{detail:e})),this.dispatchEvent(new CustomEvent("change")))}}else if("x-tag"===n.target.localName){let t=[...this.children].filter(t=>"x-tag"===t.localName),e=n.target,i=t.indexOf(e),s=t[i+1]||null,r=t[i-1]||null;(s||r||this.I.input).focus(),e.remove(),this.zs(),this.dispatchEvent(new CustomEvent("remove",{detail:e})),this.dispatchEvent(new CustomEvent("change"))}}else if("ArrowDown"===n.key){if(this.I["suggestions-popover"].opened){let i=[...this.I["suggested-tags"].children];if(1<i.length){n.preventDefault();let e=null;{let t=i.find(t=>t.toggled);e=t?(t.toggled=!1,s=i.indexOf(t),i[s+1]||i[0]):i[0]}e.toggled=!0,e.scrollIntoViewIfNeeded();var t=this._shadowRoot.getSelection().getRangeAt(0).startOffset,s=e.querySelector("x-label").textContent;this.I.input.textContent=s,this.Ss(t,s.length)}}}else if("ArrowUp"===n.key&&this.I["suggestions-popover"].opened){let i=[...this.I["suggested-tags"].children];if(1<i.length){n.preventDefault();let e=null;{let t=i.find(t=>t.toggled);e=t?(t.toggled=!1,r=i.indexOf(t),i[r-1]||i[i.length-1]):i[i.length-1]}e.toggled=!0,e.scrollIntoViewIfNeeded();var n=this._shadowRoot.getSelection().getRangeAt(0).startOffset,r=e.querySelector("x-label").textContent;this.I.input.textContent=r,this.Ss(n,r.length)}}}nt(){this.zs()}zs(){let t=this.querySelector(":scope > x-label");t&&(t.hidden=0<this.value.length||0<this.I.input.textContent.length)}Ct(){this.setAttribute("role","input"),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.yt=0<this.tabIndex?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=0<this.yt?this.yt:0),this.yt=0)}U(){var t=F.size,e=this.size,i="medium";"medium"===(i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e)?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}Ss(t=0,e=this.I.input.textContent.length){let i=new Range;0===t&&e===this.I.input.textContent.length?i.selectNodeContents(this.I.input):(i.setStart(this.I.input.firstChild,t),i.setEnd(this.I.input.firstChild,e));let s=window.getSelection();s.removeAllRanges(),s.addRange(i)}ks(i="insertText"){if(this.suggestions){let t=this.I.input.textContent,e=this._shadowRoot.getSelection().getRangeAt(0);!1===e.collapsed&&(t=t.substring(0,e.startOffset));let s=this.getSuggestions(t);if(0<s.length&&"deleteContentBackward"!==i){let t=this.I.input.textContent,e=s[0].querySelector("x-label").textContent,i=this.I.input.firstChild;i&&(i.textContent=e,this.Ss(t.length,e.length))}var r;0===s.length?!(this.I["suggested-tags"].innerHTML="")===this.I["suggestions-popover"].opened&&this.I["suggestions-popover"].close():(r=this._s(),this.I["suggested-tags"].innerHTML="",this.I["suggested-tags"].append(...s),"deleteContentBackward"!==i&&0<t.length&&(s[0].toggled=!0),!1===this.I["suggestions-popover"].opened||this.I["suggestions-popover"].close(!1),this.I["suggestions-popover"].open(r),this.I["suggested-tags"].scrollTop=0)}}}customElements.define("x-tagsinput",ee);class ie extends HTMLElement{static observedAttributes=["value","spellcheck","disabled","validation","size"];static _shadowTemplate=R`
    <template>
      <main id="main">
        <slot></slot>
        <div id="editor" contenteditable="plaintext-only" spellcheck="false"></div>
      </main>
    </template>
  `;static _shadowStyleSheet=I`:host{display:block;position:relative;width:100%;min-height:100px;box-sizing:border-box;background:#fff;font-size:12.5px}:host(:hover){cursor:text}:host([mixed]){color:rgba(0,0,0,.7)}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}::selection{color:var(--selection-color);background-color:var(--selection-background-color)}:host([error]) ::selection{color:#fff;background-color:#d50000}::-webkit-scrollbar{max-width:6px;max-height:6px;background:0 0}::-webkit-scrollbar-track{border-radius:25px}::-webkit-scrollbar-thumb{background-color:rgba(0,0,0,.2);border-radius:25px}::-webkit-scrollbar-corner{display:none}#main{display:flex;flex-flow:column;height:100%;min-height:inherit;max-height:inherit;overflow-y:auto}#editor{flex:1;padding:2px 6px;box-sizing:border-box;color:inherit;background:0 0;border:none;outline:0;font-family:inherit;font-size:inherit;overflow:auto}:host([error])::before{position:absolute;left:0;bottom:-20px;box-sizing:border-box;font-family:inherit;font-size:11px;line-height:1.2;white-space:pre;content:attr(error) " "}`;get value(){return this.I.editor.textContent}set value(t){this.I.editor.textContent=t,"instant"===this.validation?this.validate():"auto"!==this.validation&&"manual"!==this.validation||null!==this.error&&this.validate(),this.be()}get spellcheck(){return this.hasAttribute("spellcheck")}set spellcheck(t){t?this.setAttribute("spellcheck",""):this.removeAttribute("spellcheck")}get minLength(){return this.hasAttribute("minlength")?parseInt(this.getAttribute("minlength")):0}set minLength(t){this.setAttribute("minlength",t)}get maxLength(){return this.hasAttribute("maxlength")?parseInt(this.getAttribute("maxlength")):1/0}set maxLength(t){this.setAttribute("maxlength",t)}get required(){return this.hasAttribute("required")}set required(t){t?this.setAttribute("required",""):this.removeAttribute("required")}get mixed(){return this.hasAttribute("mixed")}set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get validation(){return this.hasAttribute("validation")?this.getAttribute("validation"):"auto"}set validation(t){this.setAttribute("validation",t)}get error(){return this.getAttribute("error")}set error(t){null===t?this.removeAttribute("error"):this.setAttribute("error",t)}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}_shadowRoot=null;I={};yt=0;B=null;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed",delegatesFocus:!0}),this._shadowRoot.adoptedStyleSheets=[ie._shadowStyleSheet],this._shadowRoot.append(document.importNode(ie._shadowTemplate.content,!0));for(var t of this._shadowRoot.querySelectorAll("[id]"))this.I[t.id]=t;this.addEventListener("focusin",t=>this.ge(t)),this.addEventListener("focusout",t=>this.xe(t)),this.I.editor.addEventListener("click",t=>this.Es(t)),this.I.editor.addEventListener("input",t=>this.zi(t))}connectedCallback(){this.be(),this.Ct(),this.U(),"instant"===this.validation?this.validate():"auto"!==this.validation&&"manual"!==this.validation||null!==this.error&&this.validate(),F.addEventListener("sizechange",this.B=()=>this.U())}disconnectedCallback(){F.removeEventListener("sizechange",this.B)}attributeChangedCallback(t){"value"===t?this.ot():"spellcheck"===t?this.ye():"disabled"===t?this.qt():"validation"===t?this._e():"size"===t&&this.lt()}validate(){this.value.length<this.minLength?this.error="Entered text is too short":this.value.length>this.maxLength?this.error="Entered text is too long":this.required&&0===this.value.length?this.error="This field is required":this.error=null}be(){0===this.value.length?this.setAttribute("empty",""):this.removeAttribute("empty")}Ct(){this.setAttribute("role","input"),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.yt=0<this.tabIndex?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=0<this.yt?this.yt:0),this.yt=0)}U(){var t=F.size,e=this.size,i="medium";"medium"===(i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e)?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}ot(){this.value=this.hasAttribute("value")?this.getAttribute("value"):"",this.matches(":focus")&&document.execCommand("selectAll")}ye(){this.I.editor.spellcheck=this.spellcheck}qt(){this.I.editor.disabled=this.disabled,this.Ct()}_e(){"instant"===this.validation?this.validate():"auto"!==this.validation&&"manual"!==this.validation||null!==this.error&&this.validate()}lt(){this.U()}ge(){this.As=this.value,this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0}))}xe(){this.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0})),this._shadowRoot.getSelection().collapse(this.I.main),"auto"===this.validation&&this.validate(),null!==this.error||this.value===this.As&&!this.mixed||(this.mixed=!1,this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))}Es(t){4<=t.detail&&document.execCommand("selectAll")}zi(t){this.dispatchEvent(new CustomEvent("input",{bubbles:!0})),this.be(),("instant"===this.validation||"auto"===this.validation&&null!==this.error)&&this.validate()}}customElements.define("x-texteditor",ie);class se extends HTMLElement{static observedAttributes=["type","size"];static Ls=R`
    <template>
      <svg data-type="ring" viewBox="0 0 100 100">
        <ellipse ry="40" rx="40" cy="50" cx="50" stroke-width="10"/>
      </svg>
    </template>
  `;static Ts=R`
    <template>
      <svg data-type="spin" viewBox="0 0 100 100">
        <rect transform="rotate(  0 50 50) translate(0 -38)"></rect>
        <rect transform="rotate( 30 50 50) translate(0 -38)"></rect>
        <rect transform="rotate( 60 50 50) translate(0 -38)"></rect>
        <rect transform="rotate( 90 50 50) translate(0 -38)"></rect>
        <rect transform="rotate(120 50 50) translate(0 -38)"></rect>
        <rect transform="rotate(150 50 50) translate(0 -38)"></rect>
        <rect transform="rotate(180 50 50) translate(0 -38)"></rect>
        <rect transform="rotate(210 50 50) translate(0 -38)"></rect>
        <rect transform="rotate(240 50 50) translate(0 -38)"></rect>
        <rect transform="rotate(270 50 50) translate(0 -38)"></rect>
        <rect transform="rotate(300 50 50) translate(0 -38)"></rect>
        <rect transform="rotate(330 50 50) translate(0 -38)"></rect>
      </svg>
    </template>
  `;static _shadowStyleSheet=I`:host{display:block;width:30px;height:30px;box-sizing:border-box}:host([hidden]){display:none}:host([type=ring]){color:#4285f4}:host([type=spin]){color:#404040}svg{color:inherit;width:100%;height:100%}svg[data-type=ring] ellipse{fill:none;stroke:currentColor;stroke-linecap:round;stroke-dasharray:10,1000;animation:ring-dash-animation 2s cubic-bezier(.8,.25,.25,.9) infinite,ring-rotate-animation 2s linear infinite;transform-origin:center}@keyframes ring-rotate-animation{to{transform:rotate(360deg)}}@keyframes ring-dash-animation{50%{stroke-dasharray:200;stroke-dashoffset:0}100%{stroke-dasharray:245;stroke-dashoffset:-260}}svg[data-type=spin] rect{x:46.5px;y:40px;width:7px;height:22px;rx:5px;ry:5px;fill:currentColor;animation-name:spin-animation;animation-duration:1s;animation-timing-function:linear;animation-iteration-count:infinite;animation-delay:0s}svg[data-type=spin] rect:nth-child(1){animation-delay:calc(1s *  1/12)}svg[data-type=spin] rect:nth-child(2){animation-delay:calc(1s *  2/12)}svg[data-type=spin] rect:nth-child(3){animation-delay:calc(1s *  3/12)}svg[data-type=spin] rect:nth-child(4){animation-delay:calc(1s *  4/12)}svg[data-type=spin] rect:nth-child(5){animation-delay:calc(1s *  5/12)}svg[data-type=spin] rect:nth-child(6){animation-delay:calc(1s *  6/12)}svg[data-type=spin] rect:nth-child(7){animation-delay:calc(1s *  7/12)}svg[data-type=spin] rect:nth-child(8){animation-delay:calc(1s *  8/12)}svg[data-type=spin] rect:nth-child(9){animation-delay:calc(1s *  9/12)}svg[data-type=spin] rect:nth-child(10){animation-delay:calc(1s * 10/12)}svg[data-type=spin] rect:nth-child(11){animation-delay:calc(1s * 11/12)}svg[data-type=spin] rect:nth-child(12){animation-delay:calc(1s * 12/12)}@keyframes spin-animation{0%{opacity:1}100%{opacity:0}}`;get type(){return this.hasAttribute("type")?this.getAttribute("type"):"ring"}set type(t){this.setAttribute("type",t)}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}_shadowRoot=null;B=null;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[se._shadowStyleSheet]}connectedCallback(){this.nt(),this.U(),F.addEventListener("sizechange",this.B=()=>this.U())}disconnectedCallback(){F.removeEventListener("sizechange",this.B)}attributeChangedCallback(t,e,i){e!==i&&("type"===t?this.nt():"size"===t&&this.U())}nt(){let t=this._shadowRoot.firstElementChild,e="ring"===this.type?se.Ls:se.Ts;null===t?this._shadowRoot.append(document.importNode(e.content,!0)):t.dataset.type!==this.type&&t.replaceWith(document.importNode(e.content,!0)),!1===this.hasAttribute("type")&&this.setAttribute("type",this.type)}U(){var t=F.size,e=this.size,i="medium";"medium"===(i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e)?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}}customElements.define("x-throbber",se);let{PI:he,sqrt:ne,atan2:oe,sin:le,cos:ae,pow:re}=Math;class de extends HTMLElement{static observedAttributes=["value","size"];static _shadowTemplate=R`
    <template>
      <x-box vertical>
        <div id="huesat-slider">
          <img id="huesat-image"></img>
          <div id="huesat-marker"></div>
        </div>

        <div id="value-slider">
          <div id="value-slider-track">
            <div id="value-slider-marker"></div>
          </div>
        </div>

        <div id="alpha-slider">
          <div id="alpha-slider-gradient"></div>
          <div id="alpha-slider-track">
            <div id="alpha-slider-marker"></div>
          </div>
        </div>
      </x-box>
    </template>
  `;static _shadowStyleSheet=I`:host{display:block;width:100%;user-select:none;--wheel-max-width:none}:host([hidden]){display:none}#huesat-slider{display:flex;position:relative;width:100%;max-width:var(--wheel-max-width);margin:0 auto;height:auto;touch-action:pinch-zoom}#huesat-image{width:100%;height:100%;border-radius:999px;pointer-events:none}#huesat-marker{position:absolute;top:0;left:0;width:var(--marker-size);height:var(--marker-size);transform:translate(calc(var(--marker-size)/ -2),calc(var(--marker-size)/ -2));box-sizing:border-box;background:rgba(0,0,0,.3);border:3px solid #fff;border-radius:999px;box-shadow:0 0 3px #000;--marker-size:20px}#value-slider{width:100%;height:30px;margin-top:10px;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;border-radius:2px;touch-action:pan-y;--marker-width:18px}:host([computedsize=small]) #value-slider{height:24px}:host([computedsize=large]) #value-slider{height:35px}#value-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center}#value-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}#alpha-slider{position:relative;display:none;width:100%;height:30px;margin-top:14px;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;border-radius:2px;touch-action:pan-y;--marker-width:18px;background-size:10px 10px;background-position:0 0,0 5px,5px -5px,-5px 0;background-image:linear-gradient(45deg,#d6d6d6 25%,transparent 25%),linear-gradient(-45deg,#d6d6d6 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#d6d6d6 75%),linear-gradient(-45deg,transparent 75%,#d6d6d6 75%)}:host([alphaslider]) #alpha-slider{display:block}:host([computedsize=small]) #alpha-slider{height:24px}:host([computedsize=large]) #alpha-slider{height:35px}#alpha-slider-gradient{position:absolute;top:0;left:0;width:100%;height:100%}#alpha-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center}#alpha-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):"hsla(0, 0%, 100%, 1)"}set value(t){this.setAttribute("value",t)}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}_shadowRoot=null;I={};B=null;X=0;V=0;Ui=100;G=1;Ms=!1;Ds=!1;tt=!1;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[de._shadowStyleSheet],this._shadowRoot.append(document.importNode(de._shadowTemplate.content,!0));for(var t of this._shadowRoot.querySelectorAll("[id]"))this.I[t.id]=t;this.I["huesat-slider"].addEventListener("pointerdown",t=>this.$s(t)),this.I["value-slider"].addEventListener("pointerdown",t=>this.Ps(t)),this.I["alpha-slider"].addEventListener("pointerdown",t=>this.ht(t))}async connectedCallback(){this.nt(),this.U(),""===this.I["huesat-image"].src&&(this.I["huesat-image"].src=await L()),F.addEventListener("sizechange",this.B=()=>this.U())}disconnectedCallback(){F.removeEventListener("sizechange",this.B)}attributeChangedCallback(t,e,i){e!==i&&("value"===t?this.ot():"size"===t&&this.lt())}nt(){this.Rs(),this.Is(),this.Os(),this.bt(),this.gt()}Rs(){var t=this.X,e=this.V,i=u(t),t=e/100*100/2,e=(100-(50+t*ae(i)))/100*100,i=(50-t*le(i))/100*100;this.I["huesat-marker"].style.left=e+"%",this.I["huesat-marker"].style.top=i+"%"}Is(){this.I["value-slider-marker"].style.left=100-l(this.Ui,0,100,2)+"%"}Os(){var t=C([this.X,this.V,100,1],"hsva","hex");this.I["value-slider"].style.background=`linear-gradient(to right, rgba(0,0,0,0), rgba(0,0,0,1)), ${t}`}bt(){this.I["alpha-slider-marker"].style.left=l(100*(1-this.G),0,100,2)+"%"}gt(){var[t,e,i]=z(this.X,this.V,this.Ui).map(t=>n(t,0));this.I["alpha-slider-gradient"].style.background=`\n      linear-gradient(to right, rgba(${t}, ${e}, ${i}, 1), rgba(${t}, ${e}, ${i}, 0))\n    `}U(){var t=F.size,e=this.size,i="medium";"medium"===(i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e)?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}ot(){var t,e,i,s;!1===this.Ms&&!1===this.Ds&&!1===this.tt&&([t,e,i,s]=(new D).parse(this.value,"hsva"),this.X=t,this.V=e,this.Ui=i,this.G=s,this.nt())}lt(){this.U()}$s(t){if(1===t.buttons){let e,i,h=this.I["huesat-slider"].getBoundingClientRect();this.Ms=!0,this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})),this.I["huesat-slider"].style.cursor="default",this.I["huesat-slider"].setPointerCapture(t.pointerId);let s=(t,e)=>{let i=h.width/2,s=t-h.left-i,r=e-h.top-i,o=re(s,2)+re(r,2),a=oe(r,s);o>re(i,2)&&(s=i*ae(a),r=i*le(a),o=re(s,2)+re(r,2),a=oe(r,s)),this.X=n((a+he)/(2*he)*360,3),this.V=n(ne(o)/i*100,3),this.value=C([this.X,this.V,this.Ui,this.G],"hsva","hsla"),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.Rs(),this.Os(),this.gt()};s(t.clientX,t.clientY),this.I["huesat-slider"].addEventListener("pointermove",e=t=>{s(t.clientX,t.clientY)}),this.I["huesat-slider"].addEventListener("lostpointercapture",i=t=>{this.I["huesat-slider"].removeEventListener("pointermove",e),this.I["huesat-slider"].removeEventListener("lostpointercapture",i),this.I["huesat-slider"].style.cursor=null,this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),this.Ms=!1})}}Ps(r){if(1===r.buttons){let t,e,i=this.I["value-slider-track"].getBoundingClientRect();this.Ds=!0,this.I["value-slider"].style.cursor="default",this.I["value-slider"].setPointerCapture(r.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));let s=t=>{t=100-(t-i.x)/i.width*100;(t=l(t,0,100,2))!==this.Ui&&(this.Ui=t,this.value=C([this.X,this.V,this.Ui,this.G],"hsva","hsla"),this.Is(),this.gt(),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))};s(r.clientX),this.I["value-slider"].addEventListener("pointermove",t=t=>{s(t.clientX)}),this.I["value-slider"].addEventListener("lostpointercapture",e=()=>{this.I["value-slider"].removeEventListener("pointermove",t),this.I["value-slider"].removeEventListener("lostpointercapture",e),this.I["value-slider"].style.cursor=null,this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),this.Ds=!1})}}ht(r){if(1===r.buttons){let t,e,i=this.I["alpha-slider-track"].getBoundingClientRect();this.tt=!0,this.I["alpha-slider"].style.cursor="default",this.I["alpha-slider"].setPointerCapture(r.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));let s=t=>{t=1-(t-i.x)/i.width;(t=l(t,0,1,2))!==this.G&&(this.G=t,this.value=C([this.X,this.V,this.Ui,this.G],"hsva","hsla"),this.bt(),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))};s(r.clientX),this.I["alpha-slider"].addEventListener("pointermove",t=t=>{s(t.clientX)}),this.I["alpha-slider"].addEventListener("lostpointercapture",e=()=>{this.I["alpha-slider"].removeEventListener("pointermove",t),this.I["alpha-slider"].removeEventListener("lostpointercapture",e),this.I["alpha-slider"].style.cursor=null,this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),this.tt=!1})}}}customElements.define("x-wheelcolorpicker",de);export default F;